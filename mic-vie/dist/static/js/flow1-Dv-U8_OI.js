var Zr=Object.defineProperty,jr=Object.defineProperties;var Wr=Object.getOwnPropertyDescriptors;var Mn=Object.getOwnPropertySymbols;var jo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable;var Gt=Math.pow,Zo=(e,t,n)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))jo.call(t,n)&&Zo(e,n,t[n]);if(Mn)for(var n of Mn(t))Wo.call(t,n)&&Zo(e,n,t[n]);return e},Ze=(e,t)=>jr(e,Wr(t));var Ft=(e,t)=>{var n={};for(var o in e)jo.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Mn)for(var o of Mn(e))t.indexOf(o)<0&&Wo.call(e,o)&&(n[o]=e[o]);return n};var Ko=(e,t,n)=>new Promise((o,i)=>{var r=s=>{try{l(n.next(s))}catch(u){i(u)}},a=s=>{try{l(n.throw(s))}catch(u){i(u)}},l=s=>s.done?o(s.value):Promise.resolve(s.value).then(r,a);l((n=n.apply(e,t)).next())});import{n as Ae,u as Kr,p as Xt,q as qo,o as Q,f as he,b as Pe,w as je,s as Re,v as Z,j as we,x as Se,y as mt,z as ue,A as Jo,B as qr,C as Ce,k as ct,D as Pt,e as Ue,E as co,F as We,G as rt,g as an,H as ye,I as Ut,J as Qo,K as Jr,L as ei,c as Qe,M as ft,N as fo,O as Qr,P as vo,t as ea,Q as ta,R as Cn,S as ti,r as nt,T as Ne,U as na,V as Zt,W as oa,X as jt,m as ho,Y as ia,_ as ln,Z as sn,$ as un}from"./index-rkyxQjjq.js";function In(e){return!!ti()&&(Cn(e),!0)}function yt(e){return typeof e=="function"?e():Z(e)}const ra=typeof window!="undefined"&&typeof document!="undefined",aa=Object.prototype.toString,la=()=>{},ni=e=>e();function oi(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function sa(e,t,n={}){const l=n,{eventFilter:o=ni}=l,i=Ft(l,["eventFilter"]);return Se(e,(r=o,a=t,function(...s){return new Promise((u,d)=>{Promise.resolve(r(()=>a.apply(this,s),{fn:a,thisArg:this,args:s})).then(u).catch(d)})}),i);var r,a}function Wt(e,t,n={}){const u=n,{eventFilter:o}=u,i=Ft(u,["eventFilter"]),{eventFilter:r,pause:a,resume:l,isActive:s}=function(d=ni){const v=we(!0);return{isActive:na(v),pause:function(){v.value=!1},resume:function(){v.value=!0},eventFilter:(...g)=>{v.value&&d(...g)}}}(o);return{stop:sa(e,t,Ze(L({},i),{eventFilter:r})),pause:a,resume:l,isActive:s}}function ua(e,t={}){if(!vo(e))return ea(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=ta(()=>({get:()=>e.value[o],set(i){var r;if((r=yt(t.replaceRef))==null||r)if(Array.isArray(e.value)){const a=[...e.value];a[o]=i,e.value=a}else{const a=Ze(L({},e.value),{[o]:i});Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=i}}));return n}function po(e,t=!1){function n(a,{flush:l="sync",deep:s=!1,timeout:u,throwOnTimeout:d}={}){let v=null;const g=[new Promise(y=>{v=Se(e,b=>{a(b)!==t&&(v==null||v(),y(b))},{flush:l,deep:s,immediate:!0})})];return u!=null&&g.push(oi(u,d).then(()=>yt(e)).finally(()=>v==null?void 0:v())),Promise.race(g)}function o(a,l){if(!vo(a))return n(b=>b===a,l);const{flush:s="sync",deep:u=!1,timeout:d,throwOnTimeout:v}=l!=null?l:{};let g=null;const y=[new Promise(b=>{g=Se([e,a],([C,T])=>{t!==(C===T)&&(g==null||g(),b(C))},{flush:s,deep:u,immediate:!0})})];return d!=null&&y.push(oi(d,v).then(()=>yt(e)).finally(()=>(g==null||g(),yt(e)))),Promise.race(y)}function i(a){return r(1,a)}function r(a=1,l){let s=-1;return n(()=>(s+=1,s>=a),l)}return Array.isArray(yt(e))?{toMatch:n,toContains:function(a,l){return n(s=>{const u=Array.from(s);return u.includes(a)||u.includes(yt(a))},l)},changed:i,changedTimes:r,get not(){return po(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:function(a){return n(l=>!!l,a)},toBeNull:function(a){return o(null,a)},toBeNaN:function(a){return n(Number.isNaN,a)},toBeUndefined:function(a){return o(void 0,a)},changed:i,changedTimes:r,get not(){return po(e,!t)}}}function go(e){return po(e)}function da(e){var t;const n=yt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ii=ra?window:void 0;function ri(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=ii):[t,n,o,i]=e,!t)return la;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},l=Se(()=>[da(t),yt(i)],([u,d])=>{if(a(),!u)return;const v=(g=d,aa.call(g)==="[object Object]"?L({},d):d);var g;r.push(...n.flatMap(y=>o.map(b=>((C,T,c,h)=>(C.addEventListener(T,c,h),()=>C.removeEventListener(T,c,h)))(u,y,b,v))))},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return In(s),s}function ai(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=ii,eventName:r="keydown",passive:a=!1,dedupe:l=!1}=o,s=typeof(u=t)=="function"?u:typeof u=="string"?d=>d.key===u:Array.isArray(u)?d=>u.includes(d.key):()=>!0;var u;return ri(i,r,d=>{d.repeat&&yt(l)||s(d)&&n(d)},a)}function mo(e,t,n,o={}){var i,r,a;const{clone:l=!1,passive:s=!1,eventName:u,deep:d=!1,defaultValue:v,shouldEmit:g}=o,y=an(),b=n||(y==null?void 0:y.emit)||((i=y==null?void 0:y.$emit)==null?void 0:i.bind(y))||((a=(r=y==null?void 0:y.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let C=u;t||(t="modelValue"),C=C||`update:${t.toString()}`;const T=f=>{return l?typeof l=="function"?l(f):(p=f,JSON.parse(JSON.stringify(p))):f;var p},c=()=>e[t]!==void 0?T(e[t]):v,h=f=>{g?g(f)&&b(C,f):b(C,f)};if(s){const f=c(),p=we(f);let w=!1;return Se(()=>e[t],_=>{w||(w=!0,p.value=T(_),mt(()=>w=!1))}),Se(p,_=>{w||_===e[t]&&!d||h(_)},{deep:d}),p}return ue({get:()=>c(),set(f){h(f)}})}var ca={value:()=>{}};function Pn(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new Tn(o)}function Tn(e){this._=e}function fa(e,t){for(var n,o=0,i=e.length;o<i;++o)if((n=e[o]).name===t)return n.value}function li(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=ca,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}Tn.prototype=Pn.prototype={constructor:Tn,on:function(e,t){var n,o,i=this._,r=(o=i,(e+"").trim().split(/^|\s+/).map(function(s){var u="",d=s.indexOf(".");if(d>=0&&(u=s.slice(d+1),s=s.slice(0,d)),s&&!o.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:u}})),a=-1,l=r.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(n=(e=r[a]).type)i[n]=li(i[n],e.name,t);else if(t==null)for(n in i)i[n]=li(i[n],e.name,null);return this}for(;++a<l;)if((n=(e=r[a]).type)&&(n=fa(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(o=this._[e]).length;r<n;++r)o[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};var yo="http://www.w3.org/1999/xhtml";const si={svg:"http://www.w3.org/2000/svg",xhtml:yo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function An(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),si.hasOwnProperty(t)?{space:si[t],local:e}:e}function va(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===yo&&t.documentElement.namespaceURI===yo?t.createElement(e):t.createElementNS(n,e)}}function ha(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ui(e){var t=An(e);return(t.local?ha:va)(t)}function pa(){}function wo(e){return e==null?pa:function(){return this.querySelector(e)}}function ga(){return[]}function di(e){return e==null?ga:function(){return this.querySelectorAll(e)}}function ma(e){return function(){return(t=e.apply(this,arguments))==null?[]:Array.isArray(t)?t:Array.from(t);var t}}function ci(e){return function(){return this.matches(e)}}function fi(e){return function(t){return t.matches(e)}}var ya=Array.prototype.find;function wa(){return this.firstElementChild}var xa=Array.prototype.filter;function ba(){return Array.from(this.children)}function vi(e){return new Array(e.length)}function $n(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _a(e,t,n,o,i,r){for(var a,l=0,s=t.length,u=r.length;l<u;++l)(a=t[l])?(a.__data__=r[l],o[l]=a):n[l]=new $n(e,r[l]);for(;l<s;++l)(a=t[l])&&(i[l]=a)}function Ea(e,t,n,o,i,r,a){var l,s,u,d=new Map,v=t.length,g=r.length,y=new Array(v);for(l=0;l<v;++l)(s=t[l])&&(y[l]=u=a.call(s,s.__data__,l,t)+"",d.has(u)?i[l]=s:d.set(u,s));for(l=0;l<g;++l)u=a.call(e,r[l],l,r)+"",(s=d.get(u))?(o[l]=s,s.__data__=r[l],d.delete(u)):n[l]=new $n(e,r[l]);for(l=0;l<v;++l)(s=t[l])&&d.get(y[l])===s&&(i[l]=s)}function Sa(e){return e.__data__}function Na(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ka(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ma(e){return function(){this.removeAttribute(e)}}function Ca(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ia(e,t){return function(){this.setAttribute(e,t)}}function Pa(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ta(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Aa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function hi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $a(e){return function(){this.style.removeProperty(e)}}function Oa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function za(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Kt(e,t){return e.style.getPropertyValue(t)||hi(e).getComputedStyle(e,null).getPropertyValue(t)}function Da(e){return function(){delete this[e]}}function Ba(e,t){return function(){this[e]=t}}function Va(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pi(e){return e.trim().split(/^|\s+/)}function xo(e){return e.classList||new gi(e)}function gi(e){this._node=e,this._names=pi(e.getAttribute("class")||"")}function mi(e,t){for(var n=xo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function yi(e,t){for(var n=xo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Ra(e){return function(){mi(this,e)}}function Ha(e){return function(){yi(this,e)}}function La(e,t){return function(){(t.apply(this,arguments)?mi:yi)(this,e)}}function Ya(){this.textContent=""}function Ga(e){return function(){this.textContent=e}}function Fa(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Xa(){this.innerHTML=""}function Ua(e){return function(){this.innerHTML=e}}function Za(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function ja(){this.nextSibling&&this.parentNode.appendChild(this)}function Wa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ka(){return null}function qa(){var e=this.parentNode;e&&e.removeChild(this)}function Ja(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qa(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function el(e){return function(){var t=this.__on;if(t){for(var n,o=0,i=-1,r=t.length;o<r;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function tl(e,t,n){return function(){var o,i=this.__on,r=function(s){return function(u){s.call(this,u,this.__data__)}}(t);if(i){for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),void(o.value=t)}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function wi(e,t,n){var o=hi(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function nl(e,t){return function(){return wi(this,e,t)}}function ol(e,t){return function(){return wi(this,e,t.apply(this,arguments))}}$n.prototype={constructor:$n,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},gi.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var xi=[null];function et(e,t){this._groups=e,this._parents=t}function dn(){return new et([[document.documentElement]],xi)}function at(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],xi)}function vt(e,t){if(e=function(r){let a;for(;a=r.sourceEvent;)r=a;return r}(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}et.prototype=dn.prototype={constructor:et,select:function(e){typeof e!="function"&&(e=wo(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a,l=t[i],s=l.length,u=o[i]=new Array(s),d=0;d<s;++d)(r=l[d])&&(a=e.call(r,r.__data__,d,l))&&("__data__"in r&&(a.__data__=r.__data__),u[d]=a);return new et(o,this._parents)},selectAll:function(e){e=typeof e=="function"?ma(e):di(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a,l=t[r],s=l.length,u=0;u<s;++u)(a=l[u])&&(o.push(e.call(a,a.__data__,u,l)),i.push(a));return new et(o,i)},selectChild:function(e){return this.select(e==null?wa:function(t){return function(){return ya.call(this.children,t)}}(typeof e=="function"?e:fi(e)))},selectChildren:function(e){return this.selectAll(e==null?ba:function(t){return function(){return xa.call(this.children,t)}}(typeof e=="function"?e:fi(e)))},filter:function(e){typeof e!="function"&&(e=ci(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],u=0;u<l;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&s.push(r);return new et(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Sa);var n,o=t?Ea:_a,i=this._parents,r=this._groups;typeof e!="function"&&(n=e,e=function(){return n});for(var a=r.length,l=new Array(a),s=new Array(a),u=new Array(a),d=0;d<a;++d){var v=i[d],g=r[d],y=g.length,b=Na(e.call(v,v&&v.__data__,d,i)),C=b.length,T=s[d]=new Array(C),c=l[d]=new Array(C);o(v,g,T,c,u[d]=new Array(y),b,t);for(var h,f,p=0,w=0;p<C;++p)if(h=T[p]){for(p>=w&&(w=p+1);!(f=c[w])&&++w<C;);h._next=f||null}}return(l=new et(l,i))._enter=s,l._exit=u,l},enter:function(){return new et(this._enter||this._groups.map(vi),this._parents)},exit:function(){return new et(this._exit||this._groups.map(vi),this._parents)},join:function(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o))&&(o=o.selection()):o=o.append(e+""),t!=null&&(i=t(i))&&(i=i.selection()),n==null?r.remove():n(r),o&&i?o.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u,d=n[s],v=o[s],g=d.length,y=l[s]=new Array(g),b=0;b<g;++b)(u=d[b]||v[b])&&(y[b]=u);for(;s<i;++s)l[s]=n[s];return new et(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,i=e[t],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(v,g){return v&&g?e(v.__data__,g.__data__):!v-!g}e||(e=ka);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,l=n[r],s=l.length,u=i[r]=new Array(s),d=0;d<s;++d)(a=l[d])&&(u[d]=a);u.sort(t)}return new et(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i,r=t[n],a=0,l=r.length;a<l;++a)(i=r[a])&&e.call(i,i.__data__,a,r);return this},attr:function(e,t){var n=An(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Ca:Ma:typeof t=="function"?n.local?Aa:Ta:n.local?Pa:Ia)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((t==null?$a:typeof t=="function"?za:Oa)(e,t,n==null?"":n)):Kt(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((t==null?Da:typeof t=="function"?Va:Ba)(e,t)):this.node()[e]},classed:function(e,t){var n=pi(e+"");if(arguments.length<2){for(var o=xo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?La:t?Ra:Ha)(n,t))},text:function(e){return arguments.length?this.each(e==null?Ya:(typeof e=="function"?Fa:Ga)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(e==null?Xa:(typeof e=="function"?Za:Ua)(e)):this.node().innerHTML},raise:function(){return this.each(ja)},lower:function(){return this.each(Wa)},append:function(e){var t=typeof e=="function"?e:ui(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n=typeof e=="function"?e:ui(e),o=t==null?Ka:typeof t=="function"?t:wo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(qa)},clone:function(e){return this.select(e?Qa:Ja)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,i,r=function(v){return v.trim().split(/^|\s+/).map(function(g){var y="",b=g.indexOf(".");return b>=0&&(y=g.slice(b+1),g=g.slice(0,b)),{type:g,name:y}})}(e+""),a=r.length;if(!(arguments.length<2)){for(l=t?tl:el,o=0;o<a;++o)this.each(l(r[o],t,n));return this}var l=this.node().__on;if(l){for(var s,u=0,d=l.length;u<d;++u)for(o=0,s=l[u];o<a;++o)if((i=r[o]).type===s.type&&i.name===s.name)return s.value}},dispatch:function(e,t){return this.each((typeof t=="function"?ol:nl)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,i=e[t],r=0,a=i.length;r<a;++r)(o=i[r])&&(yield o)}};const il={passive:!1},cn={capture:!0,passive:!1};function bo(e){e.stopImmediatePropagation()}function qt(e){e.preventDefault(),e.stopImmediatePropagation()}function bi(e){var t=e.document.documentElement,n=at(e).on("dragstart.drag",qt,cn);"onselectstart"in t?n.on("selectstart.drag",qt,cn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function _i(e,t){var n=e.document.documentElement,o=at(e).on("dragstart.drag",null);t&&(o.on("click.drag",qt,cn),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const On=e=>()=>e;function _o(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:r,x:a,y:l,dx:s,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function rl(e){return!e.ctrlKey&&!e.button}function al(){return this.parentNode}function ll(e,t){return t==null?{x:e.x,y:e.y}:t}function sl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Eo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ei(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function fn(){}_o.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var vn=.7,zn=1/vn,Jt="\\s*([+-]?\\d+)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ul=/^#([0-9a-f]{3,8})$/,dl=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),cl=new RegExp(`^rgb\\(${ht},${ht},${ht}\\)$`),fl=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${hn}\\)$`),vl=new RegExp(`^rgba\\(${ht},${ht},${ht},${hn}\\)$`),hl=new RegExp(`^hsl\\(${hn},${ht},${ht}\\)$`),pl=new RegExp(`^hsla\\(${hn},${ht},${ht},${hn}\\)$`),Si={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ni(){return this.rgb().formatHex()}function ki(){return this.rgb().formatRgb()}function pn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ul.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mi(t):n===3?new qe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):n===8?Dn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):n===4?Dn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dl.exec(e))?new qe(t[1],t[2],t[3],1):(t=cl.exec(e))?new qe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=fl.exec(e))?Dn(t[1],t[2],t[3],t[4]):(t=vl.exec(e))?Dn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hl.exec(e))?Pi(t[1],t[2]/100,t[3]/100,1):(t=pl.exec(e))?Pi(t[1],t[2]/100,t[3]/100,t[4]):Si.hasOwnProperty(e)?Mi(Si[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function Mi(e){return new qe(e>>16&255,e>>8&255,255&e,1)}function Dn(e,t,n,o){return o<=0&&(e=t=n=NaN),new qe(e,t,n,o)}function So(e,t,n,o){return arguments.length===1?((i=e)instanceof fn||(i=pn(i)),i?new qe((i=i.rgb()).r,i.g,i.b,i.opacity):new qe):new qe(e,t,n,o==null?1:o);var i}function qe(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function Ci(){return`#${At(this.r)}${At(this.g)}${At(this.b)}`}function Ii(){const e=Bn(this.opacity);return`${e===1?"rgb(":"rgba("}${Tt(this.r)}, ${Tt(this.g)}, ${Tt(this.b)}${e===1?")":`, ${e})`}`}function Bn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function At(e){return((e=Tt(e))<16?"0":"")+e.toString(16)}function Pi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lt(e,t,n,o)}function Ti(e){if(e instanceof lt)return new lt(e.h,e.s,e.l,e.opacity);if(e instanceof fn||(e=pn(e)),!e)return new lt;if(e instanceof lt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(a=t===r?(n-o)/l+6*(n<o):n===r?(o-t)/l+2:(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new lt(a,l,s,e.opacity)}function lt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Ai(e){return(e=(e||0)%360)<0?e+360:e}function Vn(e){return Math.max(0,Math.min(1,e||0))}function No(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Eo(fn,pn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ni,formatHex:Ni,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ti(this).formatHsl()},formatRgb:ki,toString:ki}),Eo(qe,So,Ei(fn,{brighter(e){return e=e==null?zn:Math.pow(zn,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vn:Math.pow(vn,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(Tt(this.r),Tt(this.g),Tt(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ci,formatHex:Ci,formatHex8:function(){return`#${At(this.r)}${At(this.g)}${At(this.b)}${At(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ii,toString:Ii})),Eo(lt,function(e,t,n,o){return arguments.length===1?Ti(e):new lt(e,t,n,o==null?1:o)},Ei(fn,{brighter(e){return e=e==null?zn:Math.pow(zn,e),new lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vn:Math.pow(vn,e),new lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new qe(No(e>=240?e-240:e+120,i,o),No(e,i,o),No(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new lt(Ai(this.h),Vn(this.s),Vn(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ai(this.h)}, ${100*Vn(this.s)}%, ${100*Vn(this.l)}%${e===1?")":`, ${e})`}`}}));const $i=e=>()=>e;function gl(e){return(e=+e)==1?Oi:function(t,n){return n-t?function(o,i,r){return o=Math.pow(o,r),i=Math.pow(i,r)-o,r=1/r,function(a){return Math.pow(o+a*i,r)}}(t,n,e):$i(isNaN(t)?n:t)}}function Oi(e,t){var n=t-e;return n?function(o,i){return function(r){return o+r*i}}(e,n):$i(isNaN(e)?t:e)}const zi=function e(t){var n=gl(t);function o(i,r){var a=n((i=So(i)).r,(r=So(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=Oi(i.opacity,r.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return o.gamma=e,o}(1);function St(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ko=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mo=new RegExp(ko.source,"g");function ml(e,t){var n,o,i,r=ko.lastIndex=Mo.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=ko.exec(e))&&(o=Mo.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,s.push({i:a,x:St(n,o)})),r=Mo.lastIndex;return r<t.length&&(i=t.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(u){return function(d){return u(d)+""}}(s[0].x):function(u){return function(){return u}}(t):(t=s.length,function(u){for(var d,v=0;v<t;++v)l[(d=s[v]).i]=d.x(u);return l.join("")})}var Rn,Di=180/Math.PI,Co={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bi(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Di,skewX:Math.atan(s)*Di,scaleX:a,scaleY:l}}function Vi(e,t,n,o){function i(r){return r.length?r.pop()+" ":""}return function(r,a){var l=[],s=[];return r=e(r),a=e(a),function(u,d,v,g,y,b){if(u!==v||d!==g){var C=y.push("translate(",null,t,null,n);b.push({i:C-4,x:St(u,v)},{i:C-2,x:St(d,g)})}else(v||g)&&y.push("translate("+v+t+g+n)}(r.translateX,r.translateY,a.translateX,a.translateY,l,s),function(u,d,v,g){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),g.push({i:v.push(i(v)+"rotate(",null,o)-2,x:St(u,d)})):d&&v.push(i(v)+"rotate("+d+o)}(r.rotate,a.rotate,l,s),function(u,d,v,g){u!==d?g.push({i:v.push(i(v)+"skewX(",null,o)-2,x:St(u,d)}):d&&v.push(i(v)+"skewX("+d+o)}(r.skewX,a.skewX,l,s),function(u,d,v,g,y,b){if(u!==v||d!==g){var C=y.push(i(y)+"scale(",null,",",null,")");b.push({i:C-4,x:St(u,v)},{i:C-2,x:St(d,g)})}else v===1&&g===1||y.push(i(y)+"scale("+v+","+g+")")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,l,s),r=a=null,function(u){for(var d,v=-1,g=s.length;++v<g;)l[(d=s[v]).i]=d.x(u);return l.join("")}}}var yl=Vi(function(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Co:Bi(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),wl=Vi(function(e){return e==null?Co:(Rn||(Rn=document.createElementNS("http://www.w3.org/2000/svg","g")),Rn.setAttribute("transform",e),(e=Rn.transform.baseVal.consolidate())?Bi((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Co)},", ",")",")");function Ri(e){return((e=Math.exp(e))+1/e)/2}const xl=function e(t,n,o){function i(r,a){var l,s,u=r[0],d=r[1],v=r[2],g=a[0],y=a[1],b=a[2],C=g-u,T=y-d,c=C*C+T*T;if(c<1e-12)s=Math.log(b/v)/t,l=function(S){return[u+S*C,d+S*T,v*Math.exp(t*S*s)]};else{var h=Math.sqrt(c),f=(b*b-v*v+o*c)/(2*v*n*h),p=(b*b-v*v-o*c)/(2*b*n*h),w=Math.log(Math.sqrt(f*f+1)-f),_=Math.log(Math.sqrt(p*p+1)-p);s=(_-w)/t,l=function(S){var I,P=S*s,E=Ri(w),N=v/(n*h)*(E*(I=t*P+w,((I=Math.exp(2*I))-1)/(I+1))-function(m){return((m=Math.exp(m))-1/m)/2}(w));return[u+N*C,d+N*T,v*E/Ri(t*P+w)]}}return l.duration=1e3*s*t/Math.SQRT2,l}return i.rho=function(r){var a=Math.max(.001,+r),l=a*a;return e(a,l,l*l)},i}(Math.SQRT2,2,4);var Hn,gn,Qt=0,mn=0,yn=0,Ln=0,$t=0,Yn=0,wn=typeof performance=="object"&&performance.now?performance:Date,Hi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Io(){return $t||(Hi(bl),$t=wn.now()+Yn)}function bl(){$t=0}function Gn(){this._call=this._time=this._next=null}function Li(e,t,n){var o=new Gn;return o.restart(e,t,n),o}function Yi(){$t=(Ln=wn.now())+Yn,Qt=mn=0;try{(function(){Io(),++Qt;for(var e,t=Hn;t;)(e=$t-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qt})()}finally{Qt=0,function(){for(var e,t,n=Hn,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Hn=t);gn=e,Po(o)}(),$t=0}}function _l(){var e=wn.now(),t=e-Ln;t>1e3&&(Yn-=t,Ln=e)}function Po(e){Qt||(mn&&(mn=clearTimeout(mn)),e-$t>24?(e<1/0&&(mn=setTimeout(Yi,e-wn.now()-Yn)),yn&&(yn=clearInterval(yn))):(yn||(Ln=wn.now(),yn=setInterval(_l,1e3)),Qt=1,Hi(Yi)))}function Gi(e,t,n){var o=new Gn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}Gn.prototype=Li.prototype={constructor:Gn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Io():+n)+(t==null?0:+t),this._next||gn===this||(gn?gn._next=this:Hn=this,gn=this),this._call=e,this._time=n,Po()},stop:function(){this._call&&(this._call=null,this._time=1/0,Po())}};var El=Pn("start","end","cancel","interrupt"),Sl=[];function Fn(e,t,n,o,i,r){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(l,s,u){var d,v=l.__transition;function g(T){u.state=1,u.timer.restart(y,u.delay,u.time),u.delay<=T&&y(T-u.delay)}function y(T){var c,h,f,p;if(u.state!==1)return C();for(c in v)if((p=v[c]).name===u.name){if(p.state===3)return Gi(y);p.state===4?(p.state=6,p.timer.stop(),p.on.call("interrupt",l,l.__data__,p.index,p.group),delete v[c]):+c<s&&(p.state=6,p.timer.stop(),p.on.call("cancel",l,l.__data__,p.index,p.group),delete v[c])}if(Gi(function(){u.state===3&&(u.state=4,u.timer.restart(b,u.delay,u.time),b(T))}),u.state=2,u.on.call("start",l,l.__data__,u.index,u.group),u.state===2){for(u.state=3,d=new Array(f=u.tween.length),c=0,h=-1;c<f;++c)(p=u.tween[c].value.call(l,l.__data__,u.index,u.group))&&(d[++h]=p);d.length=h+1}}function b(T){for(var c=T<u.duration?u.ease.call(null,T/u.duration):(u.timer.restart(C),u.state=5,1),h=-1,f=d.length;++h<f;)d[h].call(l,c);u.state===5&&(u.on.call("end",l,l.__data__,u.index,u.group),C())}function C(){for(var T in u.state=6,u.timer.stop(),delete v[s],v)return;delete l.__transition}v[s]=u,u.timer=Li(g,0,u.time)})(e,n,{name:t,index:o,group:i,on:El,tween:Sl,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function To(e,t){var n=st(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function pt(e,t){var n=st(e,t);if(n.state>3)throw new Error("too late; already running");return n}function st(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Xn(e,t){var n,o,i,r=e.__transition,a=!0;if(r){for(i in t=t==null?null:t+"",r)(n=r[i]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete e.__transition}}function Nl(e,t){var n,o;return function(){var i=pt(this,e),r=i.tween;if(r!==n){for(var a=0,l=(o=n=r).length;a<l;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}}i.tween=o}}function kl(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=pt(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Ao(e,t,n){var o=e._id;return e.each(function(){var i=pt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return st(i,o).value[t]}}function Fi(e,t){var n;return(typeof t=="number"?St:t instanceof pn?zi:(n=pn(t))?(t=n,zi):ml)(e,t)}function Ml(e){return function(){this.removeAttribute(e)}}function Cl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Il(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function Pl(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Tl(e,t,n){var o,i,r;return function(){var a,l,s=n(this);if(s!=null)return(a=this.getAttribute(e))===(l=s+"")?null:a===o&&l===i?r:(i=l,r=t(o=a,s));this.removeAttribute(e)}}function Al(e,t,n){var o,i,r;return function(){var a,l,s=n(this);if(s!=null)return(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===o&&l===i?r:(i=l,r=t(o=a,s));this.removeAttributeNS(e.space,e.local)}}function $l(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(a,l){return function(s){this.setAttributeNS(a.space,a.local,l.call(this,s))}}(e,r)),n}return i._value=t,i}function Ol(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(a,l){return function(s){this.setAttribute(a,l.call(this,s))}}(e,r)),n}return i._value=t,i}function zl(e,t){return function(){To(this,e).delay=+t.apply(this,arguments)}}function Dl(e,t){return t=+t,function(){To(this,e).delay=t}}function Bl(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function Vl(e,t){return t=+t,function(){pt(this,e).duration=t}}var Rl=dn.prototype.constructor;function Xi(e){return function(){this.style.removeProperty(e)}}var Hl=0;function wt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ui(){return++Hl}var xt=dn.prototype;wt.prototype={constructor:wt,select:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wo(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l,s,u=o[a],d=u.length,v=r[a]=new Array(d),g=0;g<d;++g)(l=u[g])&&(s=e.call(l,l.__data__,g,u))&&("__data__"in l&&(s.__data__=l.__data__),v[g]=s,Fn(v[g],t,n,g,v,st(l,n)));return new wt(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=di(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s,u=o[l],d=u.length,v=0;v<d;++v)if(s=u[v]){for(var g,y=e.call(s,s.__data__,v,u),b=st(s,n),C=0,T=y.length;C<T;++C)(g=y[C])&&Fn(g,t,n,C,y,b);r.push(y),a.push(s)}return new wt(r,a,t,n)},selectChild:xt.selectChild,selectChildren:xt.selectChildren,filter:function(e){typeof e!="function"&&(e=ci(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],u=0;u<l;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&s.push(r);return new wt(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s,u=t[l],d=n[l],v=u.length,g=a[l]=new Array(v),y=0;y<v;++y)(s=u[y]||d[y])&&(g[y]=s);for(;l<o;++l)a[l]=t[l];return new wt(a,this._parents,this._name,this._id)},selection:function(){return new Rl(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Ui(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,u=0;u<s;++u)if(a=l[u]){var d=st(a,t);Fn(a,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wt(o,this._parents,e,n)},call:xt.call,nodes:xt.nodes,node:xt.node,size:xt.size,empty:xt.empty,each:xt.each,on:function(e,t){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(function(o,i,r){var a,l,s=function(u){return(u+"").trim().split(/^|\s+/).every(function(d){var v=d.indexOf(".");return v>=0&&(d=d.slice(0,v)),!d||d==="start"})}(i)?To:pt;return function(){var u=s(this,o),d=u.on;d!==a&&(l=(a=d).copy()).on(i,r),u.on=l}}(n,e,t))},attr:function(e,t){var n=An(e),o=n==="transform"?wl:Fi;return this.attrTween(e,typeof t=="function"?(n.local?Al:Tl)(n,o,Ao(this,"attr."+e,t)):t==null?(n.local?Cl:Ml)(n):(n.local?Pl:Il)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=An(e);return this.tween(n,(o.local?$l:Ol)(o,t))},style:function(e,t,n){var o=(e+="")=="transform"?yl:Fi;return t==null?this.styleTween(e,function(i,r){var a,l,s;return function(){var u=Kt(this,i),d=(this.style.removeProperty(i),Kt(this,i));return u===d?null:u===a&&d===l?s:s=r(a=u,l=d)}}(e,o)).on("end.style."+e,Xi(e)):typeof t=="function"?this.styleTween(e,function(i,r,a){var l,s,u;return function(){var d=Kt(this,i),v=a(this),g=v+"";return v==null&&(this.style.removeProperty(i),g=v=Kt(this,i)),d===g?null:d===l&&g===s?u:(s=g,u=r(l=d,v))}}(e,o,Ao(this,"style."+e,t))).each(function(i,r){var a,l,s,u,d="style."+r,v="end."+d;return function(){var g=pt(this,i),y=g.on,b=g.value[d]==null?u||(u=Xi(r)):void 0;y===a&&s===b||(l=(a=y).copy()).on(v,s=b),g.on=l}}(this._id,e)):this.styleTween(e,function(i,r,a){var l,s,u=a+"";return function(){var d=Kt(this,i);return d===u?null:d===l?s:s=r(l=d,a)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,function(i,r,a){var l,s;function u(){var d=r.apply(this,arguments);return d!==s&&(l=(s=d)&&function(v,g,y){return function(b){this.style.setProperty(v,g.call(this,b),y)}}(i,d,a)),l}return u._value=r,u}(e,t,n==null?"":n))},text:function(e){return this.tween("text",typeof e=="function"?function(t){return function(){var n=t(this);this.textContent=n==null?"":n}}(Ao(this,"text",e)):function(t){return function(){this.textContent=t}}(e==null?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,function(n){var o,i;function r(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&function(l){return function(s){this.textContent=l.call(this,s)}}(a)),o}return r._value=n,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,i=st(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?Nl:kl)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zl:Dl)(t,e)):st(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Bl:Vl)(t,e)):st(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(n,o){if(typeof o!="function")throw new Error;return function(){pt(this,n).ease=o}}(t,e)):st(this.node(),t).ease},easeVarying:function(e){if(typeof e!="function")throw new Error;return this.each(function(t,n){return function(){var o=n.apply(this,arguments);if(typeof o!="function")throw new Error;pt(this,t).ease=o}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i==0&&r()}};n.each(function(){var u=pt(this,o),d=u.on;d!==e&&((t=(e=d).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})},[Symbol.iterator]:xt[Symbol.iterator]};var Ll={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Yl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}dn.prototype.interrupt=function(e){return this.each(function(){Xn(this,e)})},dn.prototype.transition=function(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=Ui(),(n=Ll).time=Io(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,u=0;u<s;++u)(a=l[u])&&Fn(a,e,t,u,l,n||Yl(a,t));return new wt(o,this._parents,e,t)};const Un=e=>()=>e;function Gl(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function bt(e,t,n){this.k=e,this.x=t,this.y=n}bt.prototype={constructor:bt,scale:function(e){return e===1?this:new bt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var en=new bt(1,0,0);function $o(e){e.stopImmediatePropagation()}function xn(e){e.preventDefault(),e.stopImmediatePropagation()}function Fl(e){return!(e.ctrlKey&&e.type!=="wheel"||e.button)}function Xl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Zi(){return this.__zoom||en}function Ul(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Zl(){return navigator.maxTouchPoints||"ontouchstart"in this}function jl(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}bt.prototype;var G=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(G||{}),Oo=(e=>(e.Partial="partial",e.Full="full",e))(Oo||{}),Ot=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Ot||{}),zt=(e=>(e.Strict="strict",e.Loose="loose",e))(zt||{}),Nt=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Nt||{}),bn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(bn||{}),ji=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(ji||{});function zo(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(o==null?void 0:o.hasAttribute)=="function"&&o.hasAttribute("contenteditable"),r=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||i||!!r}function Wi(e,t,n,o){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const r=i.every((a,l)=>n.has(a)&&Array.from(n.values())[l]===i[l]);return o&&n.delete(e.toLowerCase()),r}function _n(e,t){const n=Ce(()=>{var d;return(d=ye(t==null?void 0:t.actInsideInputWithModifier))!=null?d:!1}),o=Ce(()=>{var d;return(d=ye(t==null?void 0:t.target))!=null?d:window}),i=we(ye(e)===!0);let r=!1;const a=new Set;let l=u(ye(e));function s(){r=!1,a.clear(),i.value=ye(e)===!0}function u(d){return d===null?(s(),()=>!1):typeof d=="boolean"?(s(),i.value=d,()=>!1):Array.isArray(d)||typeof d=="string"?function(v,g){return y=>{if(!y.code&&!y.key)return!1;const b=(C=y.code,v.includes(C)?"code":"key");var C;return Array.isArray(v)?v.some(T=>Wi(y[b],T,g,y.type==="keyup")):Wi(y[b],v,g,y.type==="keyup")}}(d,a):d}return Se(()=>ye(e),(d,v)=>{typeof v=="boolean"&&typeof d!="boolean"&&s(),l=u(d)},{immediate:!0}),ct(()=>{ri(window,["blur","contextmenu"],s)}),ai((...d)=>l(...d),d=>{var v;r=(v=d).ctrlKey||v.metaKey||v.shiftKey,(!r||r&&!n.value)&&zo(d)||(d.preventDefault(),i.value=!0)},{eventName:"keydown",target:o}),ai((...d)=>l(...d),d=>{if(i.value){if((!r||r&&!n.value)&&zo(d))return;r=!1,i.value=!1}},{eventName:"keyup",target:o}),i}const Ki="vue-flow__node-desc",qi="vue-flow__edge-desc",Ji=["Enter"," ","Escape"],tn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Do(e){return Ze(L({},e.computedPosition||{x:0,y:0}),{width:e.dimensions.width||0,height:e.dimensions.height||0})}function Bo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Zn(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Dt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Qi(e,t){return{x:Dt(e.x,t[0][0],t[1][0]),y:Dt(e.y,t[0][1],t[1][1])}}function er(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function kt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Bt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!kt(e)}function En(e){return Bt(e)&&"computedPosition"in e}function jn(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Wl(e,t,n){var i;const o={id:e.id.toString(),type:(i=e.type)!=null?i:"default",dimensions:Zt({width:0,height:0}),computedPosition:Zt(L({z:0},e.position)),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Le(e.data)?e.data:{},events:Zt(Le(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function tr(e,t,n){var a,l,s,u,d,v,g;var o,i;const r=L({id:e.id.toString(),type:(l=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?l:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:(s=e.updatable)!=null?s:n==null?void 0:n.updatable,selectable:(u=e.selectable)!=null?u:n==null?void 0:n.selectable,focusable:(d=e.focusable)!=null?d:n==null?void 0:n.focusable,data:Le(e.data)?e.data:{},events:Zt(Le(e.events)?e.events:{}),label:(v=e.label)!=null?v:"",interactionWidth:(g=e.interactionWidth)!=null?g:n==null?void 0:n.interactionWidth},n!=null?n:{});return Object.assign(t!=null?t:r,e,{id:e.id.toString()})}function nr(e,t,n,o){const i=typeof e=="string"?e:e.id,r=new Set,a=o==="source"?"target":"source";for(const l of n)l[a]===i&&r.add(l[o]);return t.filter(l=>r.has(l.id))}function or({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`}function ir({x:e,y:t},{x:n,y:o,zoom:i}){return{x:e*i+n,y:t*i+o}}function Sn({x:e,y:t},{x:n,y:o,zoom:i},r=!1,a=[1,1]){const l={x:(e-n)/i,y:(t-o)/i};return r?qn(l,a):l}function rr({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function ar(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let i=0;i<e.length;i++){const r=e[i];n=t,o=rr(L(L({},r.computedPosition),r.dimensions)),t={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}}var n,o;return function({x:i,y:r,x2:a,y2:l}){return{x:i,y:r,width:a-i,height:l-r}}(t)}function lr(e,t,n={x:0,y:0,zoom:1},o=!1,i=!1){var l,s,u,d;const r=Ze(L({},Sn(t,n)),{width:t.width/n.zoom,height:t.height/n.zoom}),a=[];for(const v of e){const{dimensions:g,selectable:y=!0,hidden:b=!1}=v,C=(s=(l=g.width)!=null?l:v.width)!=null?s:null,T=(d=(u=g.height)!=null?u:v.height)!=null?d:null;if(i&&!y||b)continue;const c=Bo(r,Do(v));(C===null||T===null||o&&c>0||c>=(C!=null?C:0)*(T!=null?T:0)||v.dragging)&&a.push(v)}return a}function sr(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function ur(e,t,n,o,i,r=.1,a={x:0,y:0}){var g,y;const l=t/(e.width*(1+r)),s=n/(e.height*(1+r)),u=Dt(Math.min(l,s),o,i),d=e.x+e.width/2,v=e.y+e.height/2;return{x:t/2-d*u+((g=a.x)!=null?g:0),y:n/2-v*u+((y=a.y)!=null?y:0),zoom:u}}function dr(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||dr(n,t))}function Nn(e,t){return e===void 0?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function cr(e,t,n){return e<t?Dt(Math.abs(e-t),1,t)/t:e>n?-Dt(Math.abs(e-n),1,t)/t:0}function fr(e,t,n=15,o=40){return[cr(e.x,o,t.width-o)*n,cr(e.y,o,t.height-o)*n]}function Vo(e,t){var n,o;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||r>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a=L({},t.style(t)):t.style&&(a=L({},t.style)),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(o=a.height)!=null?o:`${t.dimensions.height}px`,i>0)if(typeof a.width=="string"){const l=Number(a.width.replace("px",""));a.width=`${l+i}px`}else a.width+=i;if(r>0)if(typeof a.height=="string"){const l=Number(a.height.replace("px",""));a.height=`${l+r}px`}else a.height+=r;if(e.position.x<0){const l=Math.abs(e.position.x);if(t.position.x=t.position.x-l,typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+l}px`}else a.width+=l;e.position.x=0}if(e.position.y<0){const l=Math.abs(e.position.y);if(t.position.y=t.position.y-l,typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+l}px`}else a.height+=l;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=l=>L(L({},(0,t.style)(l)),a):t.style=L(L({},t.style),a)}}}function vr(e,t){var n,o;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(l=>l.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const l=t.findIndex(s=>s.id===a.id);l!==-1&&t.splice(l,1)}const r=t.map(a=>a.id);for(const a of t)for(const l of e)if(l.id===a.id)switch(l.type){case"select":a.selected=l.selected;break;case"position":if(En(a)&&(l.position!==void 0&&(a.position=l.position),l.dragging!==void 0&&(a.dragging=l.dragging),a.expandParent&&a.parentNode)){const s=t[r.indexOf(a.parentNode)];s&&En(s)&&Vo(a,s)}break;case"dimensions":if(En(a)&&(l.dimensions!==void 0&&(a.dimensions=l.dimensions),l.updateStyle!==void 0&&l.updateStyle&&(a.style=Ze(L({},a.style||{}),{width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(o=l.dimensions)==null?void 0:o.height}px`})),l.resizing!==void 0&&(a.resizing=l.resizing),a.expandParent&&a.parentNode)){const s=t[r.indexOf(a.parentNode)];s&&En(s)&&(s.dimensions.width&&s.dimensions.height?Vo(a,s):mt(()=>{Vo(a,s)}))}}return t}function Mt(e,t){return{id:e,type:"select",selected:t}}function hr(e){return{item:e,type:"add"}}function pr(e){return{id:e,type:"remove"}}function gr(e,t,n,o,i){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:i||null,type:"remove"}}function Ct(e,t=new Set,n=!1){const o=[];for(const[i,r]of e){const a=t.has(i);r.selected===void 0&&!a||r.selected===a||(n&&(r.selected=a),o.push(Mt(r.id,a)))}return o}function z(e){const t=new Set;let n=!1;e&&(n=!0,t.add(e));const o=i=>{t.delete(i)};return{on:i=>{e&&n&&t.delete(e),t.add(i);const r=()=>{o(i),e&&n&&t.add(e)};return In(r),{off:r}},off:o,trigger:i=>Promise.all(Array.from(t).map(r=>r(i))),hasListeners:()=>t.size>0,fns:t}}function mr(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Ro({id:e,dragItems:t,findNode:n}){const o=[];for(const i of t){const r=n(i.id);r&&o.push(r)}return[e?o.find(i=>i.id===e):o[0],o]}function yr(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Kl(e,t,n,o){let i=e.extent||n;if(i!=="parent"&&(Array.isArray(i)||(i==null?void 0:i.range)!=="parent")||e.expandParent){if(Array.isArray(i)){const r=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;i=[[i[0][0]+r,i[0][1]+a],[i[1][0]+r,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[r,a,l,s]=yr(i.padding),u=(o==null?void 0:o.computedPosition.x)||0,d=(o==null?void 0:o.computedPosition.y)||0;i=[[i.range[0][0]+u+s,i.range[0][1]+d+r],[i.range[1][0]+u-a,i.range[1][1]+d-l]]}}else if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=function(a,l,s){const[u,d,v,g]=typeof a!="string"?yr(a.padding):[0,0,0,0];return!(!s||s.computedPosition.x===void 0||s.computedPosition.y===void 0||s.dimensions.width===void 0||s.dimensions.height===void 0)&&[[s.computedPosition.x+g,s.computedPosition.y+u],[s.computedPosition.x+s.dimensions.width-d,s.computedPosition.y+s.dimensions.height-v]]}(i,0,o);r&&(i=r)}else t(new Fe(He.NODE_EXTENT_INVALID,e.id)),i=n;return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function Ho(e,t,n,o,i){const r=Qi(t,function({width:a,height:l},s){return[s[0],[s[1][0]-(a||0),s[1][1]-(l||0)]]}(e.dimensions,Kl(e,n,o,i)));return{position:{x:r.x-((i==null?void 0:i.computedPosition.x)||0),y:r.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:r}}function Wn(e,t,n=G.Left){var l,s,u;const o=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,i=((s=t==null?void 0:t.y)!=null?s:0)+e.computedPosition.y,{width:r,height:a}=t!=null?t:function(d){var y,b,C,T;var v,g;return{width:(b=(y=(v=d.dimensions)==null?void 0:v.width)!=null?y:d.width)!=null?b:0,height:(T=(C=(g=d.dimensions)==null?void 0:g.height)!=null?C:d.height)!=null?T:0}}(e);switch((u=t==null?void 0:t.position)!=null?u:n){case G.Top:return{x:o+r/2,y:i};case G.Right:return{x:o+r,y:i+a/2};case G.Bottom:return{x:o+r/2,y:i+a};case G.Left:return{x:o,y:i+a/2}}}function wr(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function ql({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:a,height:l,viewport:s}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=rr({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:a/s.zoom,height:l/s.zoom}),v=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),g=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(v*g)>0}function Jl(e,t,n=!1){const o=typeof e.zIndex=="number";let i=o?e.zIndex:0;const r=t(e.source),a=t(e.target);return r&&a?(n&&(i=o?e.zIndex:Math.max(r.computedPosition.z||0,a.computedPosition.z||0)),i):0}var He=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(He||{});const xr={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Fe extends Error{constructor(t,...n){var o;super((o=xr[t])==null?void 0:o.call(xr,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Lo(e){return"clientX"in e}function br(e){return"sourceEvent"in e}function _t(e,t){var l,s;var n,o;const i=Lo(e),r=i?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=i?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((l=t==null?void 0:t.left)!=null?l:0),y:a-((s=t==null?void 0:t.top)!=null?s:0)}}const Kn=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function qn(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}function Yo(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function _r(e,t,n,o){const i=[];for(const r of t[n]||[])if(`${e.id}-${r.id}-${n}`!==o){const{x:a,y:l}=Wn(e,r);i.push({id:r.id||null,type:n,nodeId:e.id,x:a,y:l})}return i}function Er(e,t,n,o,i,r,a,l,s,u,d){const v=r==="target",g=l.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:y,y:b}=_t(e),C=l.elementFromPoint(y,b),T=C!=null&&C.classList.contains("vue-flow__handle")?C:g,c={handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null};if(T){c.handleDomNode=T;const h=Go(void 0,T),f=T.getAttribute("data-nodeid"),p=T.getAttribute("data-handleid"),w=T.classList.contains("connectable"),_=T.classList.contains("connectableend"),S={source:v?f:o,sourceHandle:v?p:i,target:v?o:f,targetHandle:v?i:p};c.connection=S,w&&_&&(n===zt.Strict?v&&h==="source"||!v&&h==="target":f!==o||p!==i)&&(c.isValid=a(S,{edges:s,nodes:u,sourceNode:d(S.source),targetNode:d(S.target)}),c.endHandle={nodeId:f,handleId:p,type:h,position:c.isValid?T.getAttribute("data-handlepos"):null})}return c}function Go(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}const Ql=["production","prod"];function Jn(e,...t){Sr()}function Sr(){return!Ql.includes("production")}function Nr(e,t,n,o){const i=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(i).map(r=>{const a=r.getBoundingClientRect();return L({id:r.getAttribute("data-handleid"),position:r.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o},Zn(r))})}function Fo(e,t,n,o,i,r=!1,a){i.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),mt(()=>{a.blur()})):n([e])}function Le(e){return Z(e)!==void 0}function es(e,t,n,o){var r;if(!e||!e.source||!e.target)return n(new Fe(He.EDGE_INVALID,(r=e==null?void 0:e.id)!=null?r:"[ID UNKNOWN]")),!1;let i;return i=kt(e)?e:Ze(L({},e),{id:or(e)}),i=tr(i,void 0,o),!function(a,l){return l.some(s=>kt(s)&&s.source===a.source&&s.target===a.target&&(s.sourceHandle===a.sourceHandle||!s.sourceHandle&&!a.sourceHandle)&&(s.targetHandle===a.targetHandle||!s.targetHandle&&!a.targetHandle))}(i,t)&&i}function kr(e,t,n){const o={},i=[];for(let r=0;r<e.length;++r){const a=e[r];if(!Bt(a)){n(new Fe(He.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const l=Wl(a,t(a.id),a.parentNode);a.parentNode&&(o[a.parentNode]=!0),i[r]=l}for(const r of i){const a=t(r.parentNode)||i.find(l=>l.id===r.parentNode);r.parentNode&&!a&&n(new Fe(He.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||o[r.id])&&(o[r.id]&&(r.isParent=!0),a&&(a.isParent=!0))}return i}function Mr(e,t){e.clear();for(const n of t){const{id:o,source:i,target:r,sourceHandle:a=null,targetHandle:l=null}=n,s=`${i}-source-${a}`,u=`${r}-target-${l}`,d=e.get(s)||new Map,v=e.get(u)||new Map,g=Zt({edgeId:o,source:i,target:r,sourceHandle:a,targetHandle:l});e.set(s,d.set(`${r}-${l}`,g)),e.set(u,v.set(`${i}-${a}`,g))}}function Cr(e,t,n,o,i,r,a,l){const s=[];for(const u of e){const d=kt(u)?u:es(u,l,i,r);if(!d)continue;const v=n(d.source),g=n(d.target);if(!v||!g){i(new Fe(He.EDGE_SOURCE_TARGET_MISSING,d.id,d.source,d.target));continue}if(!v){i(new Fe(He.EDGE_SOURCE_MISSING,d.id,d.source));continue}if(!g){i(new Fe(He.EDGE_TARGET_MISSING,d.id,d.target));continue}if(t&&!t(d,{edges:l,nodes:a,sourceNode:v,targetNode:g})){i(new Fe(He.EDGE_INVALID,d.id));continue}const y=o(d.id);s.push(Ze(L({},tr(d,y,r)),{sourceNode:v,targetNode:g}))}return s}const Ir=Symbol("vueFlow"),Pr=Symbol("nodeId"),Tr=Symbol("nodeRef"),ts=Symbol("edgeId"),ns=Symbol("edgeRef"),Qn=Symbol("slots");function Ar(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:i,nodes:r,nodeExtent:a,nodeDragThreshold:l,viewport:s,autoPanOnNodeDrag:u,autoPanSpeed:d,nodesDraggable:v,panBy:g,findNode:y,multiSelectionActive:b,nodesSelectionActive:C,selectNodesOnDrag:T,removeSelectedElements:c,addSelectedNodes:h,updateNodePositions:f,emits:p}=$e(),{onStart:w,onDrag:_,onStop:S,onClick:I,el:P,disabled:E,id:N,selectable:m,dragHandle:O}=e,j=we(!1);let te,W=[],le=null,ce={x:void 0,y:void 0},be={x:0,y:0},ne=null,R=!1,ae=0,fe=!1;const ke=function(){const{viewport:K,snapGrid:se,snapToGrid:re}=$e();return F=>{const oe=br(F)?F.sourceEvent:F,{x:A,y:$}=_t(oe),ee=Sn({x:A,y:$},K.value),{x:k,y:Y}=re.value?qn(ee,se.value):ee;return L({xSnapped:k,ySnapped:Y},ee)}}(),De=({x:K,y:se})=>{ce={x:K,y:se};let re=!1;if(W=W.map(F=>{const oe={x:K-F.distance.x,y:se-F.distance.y},{computedPosition:A}=Ho(F,n.value?qn(oe,o.value):oe,p.error,a.value,F.parentNode?y(F.parentNode):void 0);return re=re||F.position.x!==A.x||F.position.y!==A.y,F.position=A,F}),re&&(f(W,!0,!0),j.value=!0,ne)){const[F,oe]=Ro({id:N,dragItems:W,findNode:y});_({event:ne,node:F,nodes:oe})}},Ie=()=>{var re,F;if(!le)return;const[K,se]=fr(be,le,d.value);if(K!==0||se!==0){const oe={x:((re=ce.x)!=null?re:0)-K/s.value.zoom,y:((F=ce.y)!=null?F:0)-se/s.value.zoom};g({x:K,y:se})&&De(oe)}ae=requestAnimationFrame(Ie)},Me=(K,se)=>{R=!0;const re=y(N);T.value||b.value||!re||re.selected||c(),re&&ye(m)&&T.value&&Fo(re,b.value,h,c,C,!1,se);const F=ke(K.sourceEvent);if(ce=F,W=function(oe,A,$,ee,k){var Y,q;const M=[];for(const X of oe)!X.selected&&X.id!==k||X.parentNode&&dr(X,ee)||!(X.draggable||A&&X.draggable===void 0)||M.push(Zt({id:X.id,position:X.position||{x:0,y:0},distance:{x:$.x-((Y=X.computedPosition)==null?void 0:Y.x)||0,y:$.y-((q=X.computedPosition)==null?void 0:q.y)||0},from:X.computedPosition,extent:X.extent,parentNode:X.parentNode,dimensions:X.dimensions,expandParent:X.expandParent}));return M}(r.value,v.value,F,y,N),W.length){const[oe,A]=Ro({id:N,dragItems:W,findNode:y});w({event:K.sourceEvent,node:oe,nodes:A})}};return Se([()=>ye(E),P],([K,se],re,F)=>{if(se){const oe=at(se);K||(te=function(){var A,$,ee,k,Y=rl,q=al,M=ll,X=sl,ie={},ve=Pn("start","drag","end"),ge=0,_e=0;function de(D){D.on("mousedown.drag",Oe).filter(X).on("touchstart.drag",ut).on("touchmove.drag",Te,il).on("touchend.drag touchcancel.drag",Ye).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Oe(D,B){if(!k&&Y.call(this,D,B)){var xe=Je(this,q.call(this,D,B),D,B,"mouse");xe&&(at(D.view).on("mousemove.drag",ze,cn).on("mouseup.drag",Be,cn),bi(D.view),bo(D),ee=!1,A=D.clientX,$=D.clientY,xe("start",D))}}function ze(D){if(qt(D),!ee){var B=D.clientX-A,xe=D.clientY-$;ee=B*B+xe*xe>_e}ie.mouse("drag",D)}function Be(D){at(D.view).on("mousemove.drag mouseup.drag",null),_i(D.view,ee),qt(D),ie.mouse("end",D)}function ut(D,B){if(Y.call(this,D,B)){var xe,Ge,Xe=D.changedTouches,Ht=q.call(this,D,B),Ke=Xe.length;for(xe=0;xe<Ke;++xe)(Ge=Je(this,Ht,D,B,Xe[xe].identifier,Xe[xe]))&&(bo(D),Ge("start",D,Xe[xe]))}}function Te(D){var B,xe,Ge=D.changedTouches,Xe=Ge.length;for(B=0;B<Xe;++B)(xe=ie[Ge[B].identifier])&&(qt(D),xe("drag",D,Ge[B]))}function Ye(D){var B,xe,Ge=D.changedTouches,Xe=Ge.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),B=0;B<Xe;++B)(xe=ie[Ge[B].identifier])&&(bo(D),xe("end",D,Ge[B]))}function Je(D,B,xe,Ge,Xe,Ht){var Ke,nn,Lt,on=ve.copy(),tt=vt(Ht||xe,B);if((Lt=M.call(D,new _o("beforestart",{sourceEvent:xe,target:de,identifier:Xe,active:ge,x:tt[0],y:tt[1],dx:0,dy:0,dispatch:on}),Ge))!=null)return Ke=Lt.x-tt[0]||0,nn=Lt.y-tt[1]||0,function so(rn,kn,x){var U,V=tt;switch(rn){case"start":ie[Xe]=so,U=ge++;break;case"end":delete ie[Xe],--ge;case"drag":tt=vt(x||kn,B),U=ge}on.call(rn,D,new _o(rn,{sourceEvent:kn,subject:Lt,target:de,identifier:Xe,active:U,x:tt[0]+Ke,y:tt[1]+nn,dx:tt[0]-V[0],dy:tt[1]-V[1],dispatch:on}),Ge)}}return de.filter=function(D){return arguments.length?(Y=typeof D=="function"?D:On(!!D),de):Y},de.container=function(D){return arguments.length?(q=typeof D=="function"?D:On(D),de):q},de.subject=function(D){return arguments.length?(M=typeof D=="function"?D:On(D),de):M},de.touchable=function(D){return arguments.length?(X=typeof D=="function"?D:On(!!D),de):X},de.on=function(){var D=ve.on.apply(ve,arguments);return D===ve?de:D},de.clickDistance=function(D){return arguments.length?(_e=(D=+D)*D,de):Math.sqrt(_e)},de}().on("start",A=>(($,ee)=>{var k;$.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1||(l.value===0&&Me($,ee),ce=ke($.sourceEvent),le=((k=t.value)==null?void 0:k.getBoundingClientRect())||null,be=_t($.sourceEvent,le))})(A,se)).on("drag",A=>(($,ee)=>{var Y,q;const k=ke($.sourceEvent);if(!fe&&R&&u.value&&(fe=!0,Ie()),!R){const M=k.xSnapped-((Y=ce.x)!=null?Y:0),X=k.ySnapped-((q=ce.y)!=null?q:0);Math.sqrt(M*M+X*X)>l.value&&Me($,ee)}(ce.x!==k.xSnapped||ce.y!==k.ySnapped)&&W.length&&R&&(ne=$.sourceEvent,be=_t($.sourceEvent,le),De(k))})(A,se)).on("end",A=>($=>{var ee,k;if(br($)||R||j.value||b.value){if(j.value=!1,fe=!1,R=!1,ce={x:void 0,y:void 0},cancelAnimationFrame(ae),W.length){f(W,!1,!1);const[Y,q]=Ro({id:N,dragItems:W,findNode:y});S({event:$.sourceEvent,node:Y,nodes:q})}}else{const Y=$,q=ke(Y),M=q.xSnapped-((ee=ce.x)!=null?ee:0),X=q.ySnapped-((k=ce.y)!=null?k:0),ie=Math.sqrt(M*M+X*X);ie!==0&&ie<=l.value&&(I==null||I(Y))}})(A)).filter(A=>{const $=A.target,ee=ye(O);return!A.button&&(!i.value||!mr($,`.${i.value}`,se)&&(!ee||mr($,ee,se)))}),oe.call(te)),F(()=>{oe.on(".drag",null),te&&(te.on("start",null),te.on("drag",null),te.on("end",null))})}}),j}function os(e,t){const n={doubleClick:z(),click:z(),mouseEnter:z(),mouseMove:z(),mouseLeave:z(),contextMenu:z(),updateStart:z(),update:z(),updateEnd:z()};return n.doubleClick.on(o=>{var i,r;t.edgeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.edgeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.edgeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.edgeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.edgeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.edgeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.updateStart.on(o=>{var i,r;t.edgeUpdateStart(o),(r=(i=e.events)==null?void 0:i.updateStart)==null||r.call(i,o)}),n.update.on(o=>{var i,r;t.edgeUpdate(o),(r=(i=e.events)==null?void 0:i.update)==null||r.call(i,o)}),n.updateEnd.on(o=>{var i,r;t.edgeUpdateEnd(o),(r=(i=e.events)==null?void 0:i.updateEnd)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function eo(){return!0}function $r({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:i,onEdgeUpdate:r,onEdgeUpdateEnd:a}){const{vueFlowRef:l,connectionMode:s,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:v,nodesConnectable:g,autoPanOnConnect:y,autoPanSpeed:b,findNode:C,panBy:T,startConnection:c,updateConnection:h,endConnection:f,emits:p,viewport:w,edges:_,nodes:S,isValidConnection:I}=$e();let P=null,E=!1,N=null,m=null;return{handlePointerDown:function(O){var j;const te=ye(n)==="target",W=Lo(O),le=er(O.target);if(W&&O.button===0||!W){let ce=function($){re=_t($,K);const{handle:ee,validHandleResult:k}=function(Y,q,M,X,ie,ve){const{x:ge,y:_e}=_t(Y),de=q.elementsFromPoint(ge,_e).find(Te=>Te.classList.contains("vue-flow__handle"));if(de){const Te=de.getAttribute("data-nodeid");if(Te){const Ye=Go(void 0,de),Je=de.getAttribute("data-handleid"),D=ve({nodeId:Te,id:Je,type:Ye});if(D){const B=ie.find(xe=>xe.nodeId===Te&&xe.type===Ye&&xe.id===Je);return{handle:{id:Je,type:Ye,nodeId:Te,x:(B==null?void 0:B.x)||M.x,y:(B==null?void 0:B.y)||M.y},validHandleResult:D}}}}let Oe=[],ze=Number.POSITIVE_INFINITY;for(const Te of ie){const Ye=Math.sqrt(Gt(Te.x-M.x,2)+Gt(Te.y-M.y,2));if(Ye<=X){const Je=ve(Te);Ye<=ze&&(Ye<ze?Oe=[{handle:Te,validHandleResult:Je}]:Ye===ze&&Oe.push({handle:Te,validHandleResult:Je}),ze=Ye)}}if(!Oe.length)return{handle:null,validHandleResult:{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}};if(Oe.length===1)return Oe[0];const Be=Oe.some(({validHandleResult:Te})=>Te.isValid),ut=Oe.some(({handle:Te})=>Te.type==="target");return Oe.find(({handle:Te,validHandleResult:Ye})=>ut?Te.type==="target":!Be||Ye.isValid)||Oe[0]}($,le,Sn(re,w.value,!1,[1,1]),u.value,oe,Y=>Er($,Y,s.value,ye(t),ye(e),te?"target":"source",ae,le,_.value,S.value,C));if(R=ee,F||(A(),F=!0),P=k.connection,E=k.isValid,N=k.handleDomNode,!(E&&R&&(m!=null&&m.endHandle)&&k.endHandle&&m.endHandle.type===k.endHandle.type&&m.endHandle.nodeId===k.endHandle.nodeId&&m.endHandle.handleId===k.endHandle.handleId)){if(h(R&&E?ir({x:R.x,y:R.y},w.value):re,k.endHandle,function(Y,q){let M=null;return q?M="valid":Y&&!q&&(M="invalid"),M}(!!R,E)),m=k,!R&&!E&&!N)return Yo(se);P&&P.source!==P.target&&N&&(Yo(se),se=N,N.classList.add("connecting","vue-flow__handle-connecting"),N.classList.toggle("valid",E),N.classList.toggle("vue-flow__handle-valid",E))}},be=function($){(R||N)&&P&&E&&(r?r($,P):p.connect(P)),p.connectEnd($),i&&(a==null||a($)),Yo(se),cancelAnimationFrame(fe),f($),F=!1,E=!1,P=null,N=null,le.removeEventListener("mousemove",ce),le.removeEventListener("mouseup",be),le.removeEventListener("touchmove",ce),le.removeEventListener("touchend",be)};const ne=C(ye(t));let R,ae=ye(o)||I.value||eo;!ae&&ne&&(ae=(te?ne.isValidSourcePos:ne.isValidTargetPos)||eo);let fe=0;const{x:ke,y:De}=_t(O),Ie=le==null?void 0:le.elementFromPoint(ke,De),Me=Go(ye(i),Ie),K=(j=l.value)==null?void 0:j.getBoundingClientRect();if(!K||!Me)return;let se,re=_t(O,K),F=!1;const oe=function({nodes:$,nodeId:ee,handleId:k,handleType:Y}){const q=[];for(let M=0;M<$.length;M++){const X=$[M],{handleBounds:ie}=X;let ve=[],ge=[];ie&&(ve=_r(X,ie,"source",`${ee}-${k}-${Y}`),ge=_r(X,ie,"target",`${ee}-${k}-${Y}`)),q.push(...ve,...ge)}return q}({nodes:S.value,nodeId:ye(t),handleId:ye(e),handleType:Me}),A=()=>{if(!y.value)return;const[$,ee]=fr(re,K,b.value);T({x:$,y:ee}),fe=requestAnimationFrame(A)};c({nodeId:ye(t),handleId:ye(e),type:Me,position:(Ie==null?void 0:Ie.getAttribute("data-handlepos"))||G.Top},{x:ke-K.left,y:De-K.top}),p.connectStart({event:O,nodeId:ye(t),handleId:ye(e),handleType:Me}),le.addEventListener("mousemove",ce),le.addEventListener("mouseup",be),le.addEventListener("touchmove",ce),le.addEventListener("touchend",be)}},handleClick:function(O){if(!d.value)return;const j=ye(n)==="target";if(v.value){let te=ye(o)||I.value||eo;const W=C(ye(t));if(!te&&W&&(te=(j?W.isValidSourcePos:W.isValidTargetPos)||eo),W&&(W.connectable===void 0?g.value:W.connectable)===!1)return;const le=er(O.target),{connection:ce,isValid:be}=Er(O,{nodeId:ye(t),id:ye(e),type:ye(n)},s.value,v.value.nodeId,v.value.handleId||null,v.value.type,te,le,_.value,S.value,C),ne=ce.source===ce.target;be&&!ne&&p.connect(ce),p.clickConnectEnd(O),f(O,!0)}else p.clickConnectStart({event:O,nodeId:ye(t),handleId:ye(e)}),c({nodeId:ye(t),type:ye(n),handleId:ye(e)},void 0,!0)}}}function Or(e){var l;const t=(l=e!=null?e:Ut(Pr,""))!=null?l:"",n=Ut(Tr,we(null)),{findNode:o,edges:i,emits:r}=$e(),a=o(t);return a||r.error(new Fe(He.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:ue(()=>o(a.parentNode)),connectedEdges:ue(()=>sr([a],i.value))}}function is(e,t){const n={doubleClick:z(),click:z(),mouseEnter:z(),mouseMove:z(),mouseLeave:z(),contextMenu:z(),dragStart:z(),drag:z(),dragStop:z()};return n.doubleClick.on(o=>{var i,r;t.nodeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.nodeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.nodeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.nodeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.nodeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.nodeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.dragStart.on(o=>{var i,r;t.nodeDragStart(o),(r=(i=e.events)==null?void 0:i.dragStart)==null||r.call(i,o)}),n.drag.on(o=>{var i,r;t.nodeDrag(o),(r=(i=e.events)==null?void 0:i.drag)==null||r.call(i,o)}),n.dragStop.on(o=>{var i,r;t.nodeDragStop(o),(r=(i=e.events)==null?void 0:i.dragStop)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function zr(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:i,snapToGrid:r,nodesDraggable:a,emits:l}=$e();return(s,u=!1)=>{const d=r.value?i.value[0]:5,v=r.value?i.value[1]:5,g=u?4:1,y=s.x*d*g,b=s.y*v*g,C=[];for(const T of e.value)if(T.draggable||a&&T.draggable===void 0){const c={x:T.computedPosition.x+y,y:T.computedPosition.y+b},{computedPosition:h}=Ho(T,c,l.error,t.value,T.parentNode?o(T.parentNode):void 0);C.push({id:T.id,position:h,from:T.position,distance:{x:s.x,y:s.y},dimensions:T.dimensions})}n(C,!0,!1)}}function It(){return Jn(),Promise.resolve(!1)}const rs={zoomIn:It,zoomOut:It,zoomTo:It,fitView:It,setCenter:It,fitBounds:It,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:It,setTransform:It,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Xo(e,t=0,n){return e.transition().duration(t).on("end",n)}function as(e,t,n){const o=Jo(!0);return o.run(()=>{o.run(()=>{let i,r,a=!(!n.nodes.value.length&&!n.edges.value.length);i=Wt([e.modelValue,()=>{var l,s;return(s=(l=e.modelValue)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setElements(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=Wt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([l,s])=>{var u;(u=e.modelValue)!=null&&u.value&&Array.isArray(e.modelValue.value)&&(i==null||i.pause(),e.modelValue.value=[...l,...s],mt(()=>{i==null||i.resume()}))},{immediate:a}),Cn(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{let i,r,a=!!n.nodes.value.length;i=Wt([e.nodes,()=>{var l,s;return(s=(l=e.nodes)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setNodes(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=Wt([n.nodes,()=>n.nodes.value.length],([l])=>{var s;(s=e.nodes)!=null&&s.value&&Array.isArray(e.nodes.value)&&(i==null||i.pause(),e.nodes.value=[...l],mt(()=>{i==null||i.resume()}))},{immediate:a}),Cn(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{let i,r,a=!!n.edges.value.length;i=Wt([e.edges,()=>{var l,s;return(s=(l=e.edges)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setEdges(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=Wt([n.edges,()=>n.edges.value.length],([l])=>{var s;(s=e.edges)!=null&&s.value&&Array.isArray(e.edges.value)&&(i==null||i.pause(),e.edges.value=[...l],mt(()=>{i==null||i.resume()}))},{immediate:a}),Cn(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{Se(()=>t.minZoom,()=>{t.minZoom&&Le(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})}),o.run(()=>{Se(()=>t.maxZoom,()=>{t.maxZoom&&Le(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})}),o.run(()=>{Se(()=>t.translateExtent,()=>{t.translateExtent&&Le(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})}),o.run(()=>{Se(()=>t.nodeExtent,()=>{t.nodeExtent&&Le(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})}),o.run(()=>{Se(()=>t.applyDefault,()=>{Le(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})}),o.run(()=>{const i=r=>Ko(this,null,function*(){let a=r;typeof t.autoConnect=="function"&&(a=yield t.autoConnect(r)),a!==!1&&n.addEdges([a])});Se(()=>t.autoConnect,()=>{Le(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Se(n.autoConnect,(r,a,l)=>{r?n.onConnect(i):n.hooks.value.connect.off(i),l(()=>{n.hooks.value.connect.off(i)})},{immediate:!0})}),(()=>{const i=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const r of Object.keys(t)){const a=r;if(!i.includes(a)){const l=Ce(()=>t[a]),s=n[a];vo(s)&&o.run(()=>{Se(l,u=>{Le(u)&&(s.value=u)},{immediate:!0})})}}})()}),()=>o.stop()}function Dr(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Oo.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:bn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Ot.Bezier,style:{}},connectionMode:zt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Kn()?"Meta":"Control",zoomActivationKeyCode:Kn()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:{edgesChange:z(),nodesChange:z(),nodeDoubleClick:z(),nodeClick:z(),nodeMouseEnter:z(),nodeMouseMove:z(),nodeMouseLeave:z(),nodeContextMenu:z(),nodeDragStart:z(),nodeDrag:z(),nodeDragStop:z(),nodesInitialized:z(),miniMapNodeClick:z(),miniMapNodeDoubleClick:z(),miniMapNodeMouseEnter:z(),miniMapNodeMouseMove:z(),miniMapNodeMouseLeave:z(),connect:z(),connectStart:z(),connectEnd:z(),clickConnectStart:z(),clickConnectEnd:z(),paneReady:z(),init:z(),move:z(),moveStart:z(),moveEnd:z(),selectionDragStart:z(),selectionDrag:z(),selectionDragStop:z(),selectionContextMenu:z(),selectionStart:z(),selectionEnd:z(),viewportChangeStart:z(),viewportChange:z(),viewportChangeEnd:z(),paneScroll:z(),paneClick:z(),paneContextMenu:z(),paneMouseEnter:z(),paneMouseMove:z(),paneMouseLeave:z(),edgeContextMenu:z(),edgeMouseEnter:z(),edgeMouseMove:z(),edgeMouseLeave:z(),edgeDoubleClick:z(),edgeClick:z(),edgeUpdateStart:z(),edgeUpdate:z(),edgeUpdateEnd:z(),updateNodeInternals:z(),error:z(e=>Jn(e.message))},applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const ls=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function ss(e,t,n){const o=function(c){function h(p,w){return new Promise(_=>{c.d3Selection&&c.d3Zoom?c.d3Zoom.scaleBy(Xo(c.d3Selection,w,()=>{_(!0)}),p):_(!1)})}function f(p,w,_,S){return new Promise(I=>{const{x:P,y:E}=Qi({x:-p,y:-w},c.translateExtent),N=en.translate(-P,-E).scale(_);c.d3Selection&&c.d3Zoom?c.d3Zoom.transform(Xo(c.d3Selection,S,()=>{I(!0)}),N):I(!1)})}return ue(()=>c.d3Zoom&&c.d3Selection&&c.dimensions.width&&c.dimensions.height?{viewportInitialized:!0,zoomIn:p=>h(1.2,p==null?void 0:p.duration),zoomOut:p=>h(.8333333333333334,p==null?void 0:p.duration),zoomTo:(p,w)=>new Promise(_=>{c.d3Selection&&c.d3Zoom?c.d3Zoom.scaleTo(Xo(c.d3Selection,w==null?void 0:w.duration,()=>{_(!0)}),p):_(!1)}),setViewport:(p,w)=>f(p.x,p.y,p.zoom,w==null?void 0:w.duration),setTransform:(p,w)=>f(p.x,p.y,p.zoom,w==null?void 0:w.duration),getViewport:()=>({x:c.viewport.x,y:c.viewport.y,zoom:c.viewport.zoom}),getTransform:()=>({x:c.viewport.x,y:c.viewport.y,zoom:c.viewport.zoom}),fitView:(p={padding:.1,includeHiddenNodes:!1,duration:0})=>{var m,O,j;var w,_;const S=[];for(const te of c.nodes)te.dimensions.width&&te.dimensions.height&&(p!=null&&p.includeHiddenNodes||!te.hidden)&&(!((w=p.nodes)!=null&&w.length)||(_=p.nodes)!=null&&_.length&&p.nodes.includes(te.id))&&S.push(te);if(!S.length)return Promise.resolve(!1);const I=ar(S),{x:P,y:E,zoom:N}=ur(I,c.dimensions.width,c.dimensions.height,(m=p.minZoom)!=null?m:c.minZoom,(O=p.maxZoom)!=null?O:c.maxZoom,(j=p.padding)!=null?j:.1,p.offset);return f(P,E,N,p==null?void 0:p.duration)},setCenter:(p,w,_)=>{const S=(_==null?void 0:_.zoom)!==void 0?_.zoom:c.maxZoom;return f(c.dimensions.width/2-p*S,c.dimensions.height/2-w*S,S,_==null?void 0:_.duration)},fitBounds:(p,w={padding:.1})=>{const{x:_,y:S,zoom:I}=ur(p,c.dimensions.width,c.dimensions.height,c.minZoom,c.maxZoom,w.padding);return f(_,S,I,w==null?void 0:w.duration)},project:p=>Sn(p,c.viewport,c.snapToGrid,c.snapGrid),screenToFlowCoordinate:p=>{if(c.vueFlowRef){const{x:w,y:_}=c.vueFlowRef.getBoundingClientRect();return Sn({x:p.x-w,y:p.y-_},c.viewport,c.snapToGrid,c.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:p=>{if(c.vueFlowRef){const{x:w,y:_}=c.vueFlowRef.getBoundingClientRect();return ir({x:p.x+w,y:p.y+_},c.viewport)}return{x:0,y:0}}}:rs)}(e),i=c=>{const h=c!=null?c:[];e.hooks.updateNodeInternals.trigger(h)},r=c=>sr(c,e.edges),a=c=>{if(c)return t.value.get(c)},l=c=>{if(c)return n.value.get(c)},s=(c,h)=>{const f=new Set,p=new Set;for(const S of c)Bt(S)?f.add(S.id):kt(S)&&p.add(S.id);const w=Ct(t.value,f,!0),_=Ct(n.value,p);if(e.multiSelectionActive){for(const S of f)w.push(Mt(S,h));for(const S of p)_.push(Mt(S,h))}w.length&&e.hooks.nodesChange.trigger(w),_.length&&e.hooks.edgesChange.trigger(_)},u=c=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([c,e.maxZoom]),e.minZoom=c},d=c=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([e.minZoom,c]),e.maxZoom=c},v=c=>{var h;(h=e.d3Zoom)==null||h.translateExtent(c),e.translateExtent=c},g=c=>{const h=c instanceof Function?c(e.nodes):c;(e.initialized||h.length)&&(e.nodes=kr(h,a,e.hooks.error.trigger))},y=c=>{const h=c instanceof Function?c(e.edges):c;if(!e.initialized&&!h.length)return;const f=Cr(h,e.isValidConnection,a,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Mr(e.connectionLookup,f),e.edges=f},b=c=>{const h=c instanceof Function?c([...e.nodes,...e.edges]):c;(e.initialized||h.length)&&(g(h.filter(Bt)),y(h.filter(kt)))},C=c=>{const h=jn((f=c).width)&&jn(f.height)&&jn(f.x)&&jn(f.y);var f;const p=h?null:En(c)?c:a(c.id);return!h&&!p?[null,null,h]:[h?c:Do(p),p,h]},T=c=>{const h=c instanceof Function?c(e):c,f=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Le(h.defaultEdgeOptions)&&(e.defaultEdgeOptions=h.defaultEdgeOptions);const p=h.modelValue||h.nodes||h.edges?[]:void 0;p&&(h.modelValue&&p.push(...h.modelValue),h.nodes&&p.push(...h.nodes),h.edges&&p.push(...h.edges),b(p));for(const w of Object.keys(h)){const _=w,S=h[_];![...ls,...f].includes(_)&&Le(S)&&(e[_]=S)}go(()=>e.d3Zoom).not.toBeNull().then(()=>{Le(h.maxZoom)&&d(h.maxZoom),Le(h.minZoom)&&u(h.minZoom),Le(h.translateExtent)&&v(h.translateExtent)}),e.initialized||(e.initialized=!0)};return{updateNodePositions:(c,h,f)=>{var S,I;var p,w;const _=[];for(const P of c){const E={id:P.id,type:"position",dragging:f,from:P.from};if(h&&(E.position=P.position,P.parentNode)){const N=a(P.parentNode);E.position={x:E.position.x-((S=(p=N==null?void 0:N.computedPosition)==null?void 0:p.x)!=null?S:0),y:E.position.y-((I=(w=N==null?void 0:N.computedPosition)==null?void 0:w.y)!=null?I:0)}}_.push(E)}_!=null&&_.length&&e.hooks.nodesChange.trigger(_)},updateNodeDimensions:c=>{if(!e.vueFlowRef)return;const h=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!h)return;const f=window.getComputedStyle(h),{m22:p}=new window.DOMMatrixReadOnly(f.transform),w=[];for(let _=0;_<c.length;++_){const S=c[_],I=a(S.id);if(I){const P=Zn(S.nodeElement);if(!(!P.width||!P.height||I.dimensions.width===P.width&&I.dimensions.height===P.height&&!S.forceUpdate)){const E=S.nodeElement.getBoundingClientRect();I.dimensions=P,I.handleBounds.source=Nr(".source",S.nodeElement,E,p),I.handleBounds.target=Nr(".target",S.nodeElement,E,p),w.push({id:I.id,type:"dimensions",dimensions:P})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),w.length&&e.hooks.nodesChange.trigger(w)},setElements:b,setNodes:g,setEdges:y,addNodes:c=>{let h=c instanceof Function?c(e.nodes):c;h=Array.isArray(h)?h:[h];const f=kr(h,a,e.hooks.error.trigger),p=[];for(const w of f)p.push(hr(w));p.length&&e.hooks.nodesChange.trigger(p)},addEdges:c=>{let h=c instanceof Function?c(e.edges):c;h=Array.isArray(h)?h:[h];const f=Cr(h,e.isValidConnection,a,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),p=[];for(const w of f)p.push(hr(w));p.length&&e.hooks.edgesChange.trigger(p)},removeNodes:(c,h=!0,f=!1)=>{const p=c instanceof Function?c(e.nodes):c,w=Array.isArray(p)?p:[p],_=[],S=[];function I(E){const N=r(E);for(const m of N)Le(m.deletable)&&!m.deletable||S.push(gr(m.id,m.source,m.target,m.sourceHandle,m.targetHandle))}function P(E){const N=[];for(const m of e.nodes)m.parentNode===E&&N.push(m);if(N.length){for(const m of N)_.push(pr(m.id));h&&I(N);for(const m of N)P(m.id)}}for(const E of w){const N=typeof E=="string"?a(E):E;N&&(Le(N.deletable)&&!N.deletable||(_.push(pr(N.id)),h&&I([N]),f&&P(N.id)))}S.length&&e.hooks.edgesChange.trigger(S),_.length&&e.hooks.nodesChange.trigger(_)},removeEdges:c=>{const h=c instanceof Function?c(e.edges):c,f=Array.isArray(h)?h:[h],p=[];for(const w of f){const _=typeof w=="string"?l(w):w;_&&(Le(_.deletable)&&!_.deletable||p.push(gr(typeof w=="string"?w:w.id,_.source,_.target,_.sourceHandle,_.targetHandle)))}e.hooks.edgesChange.trigger(p)},findNode:a,findEdge:l,updateEdge:(c,h,f=!0)=>function(p,w,_,S,I,P){if(!w.source||!w.target)return P(new Fe(He.EDGE_INVALID,p.id)),!1;const E=S(p.id);if(!E)return P(new Fe(He.EDGE_NOT_FOUND,p.id)),!1;const j=p,{id:N}=j,m=Ft(j,["id"]),O=Ze(L({},m),{id:I?or(w):N,source:w.source,target:w.target,sourceHandle:w.sourceHandle,targetHandle:w.targetHandle});return _.splice(_.indexOf(E),1,O),O}(c,h,e.edges,l,f,e.hooks.error.trigger),updateEdgeData:(c,h,f={replace:!1})=>{const p=l(c);if(!p)return;const w=typeof h=="function"?h(p):h;p.data=f.replace?w:L(L({},p.data),w)},updateNode:(c,h,f={replace:!1})=>{const p=a(c);if(!p)return;const w=typeof h=="function"?h(p):h;f.replace?e.nodes.splice(e.nodes.indexOf(p),1,w):Object.assign(p,w)},updateNodeData:(c,h,f={replace:!1})=>{const p=a(c);if(!p)return;const w=typeof h=="function"?h(p):h;p.data=f.replace?w:L(L({},p.data),w)},applyEdgeChanges:c=>{const h=vr(c,e.edges);return Mr(e.connectionLookup,h),h},applyNodeChanges:c=>vr(c,e.nodes),addSelectedElements:c=>{s(c,!0)},addSelectedNodes:c=>{if(e.multiSelectionActive){const h=c.map(f=>Mt(f.id,!0));e.hooks.nodesChange.trigger(h)}else e.hooks.nodesChange.trigger(Ct(t.value,new Set(c.map(h=>h.id)),!0)),e.hooks.edgesChange.trigger(Ct(n.value))},addSelectedEdges:c=>{if(e.multiSelectionActive){const h=c.map(f=>Mt(f.id,!0));e.hooks.edgesChange.trigger(h)}else e.hooks.edgesChange.trigger(Ct(n.value,new Set(c.map(h=>h.id)))),e.hooks.nodesChange.trigger(Ct(t.value,new Set,!0))},setMinZoom:u,setMaxZoom:d,setTranslateExtent:v,setNodeExtent:c=>{e.nodeExtent=c,i()},setPaneClickDistance:c=>{var h;(h=e.d3Zoom)==null||h.clickDistance(c)},removeSelectedElements:c=>{if(!c||!c.length)return s([],!1);const h=c.reduce((f,p)=>{const w=Mt(p.id,!1);return Bt(p)?f.nodes.push(w):f.edges.push(w),f},{nodes:[],edges:[]});h.nodes.length&&e.hooks.nodesChange.trigger(h.nodes),h.edges.length&&e.hooks.edgesChange.trigger(h.edges)},removeSelectedNodes:c=>{const h=(c||e.nodes).map(f=>(f.selected=!1,Mt(f.id,!1)));e.hooks.nodesChange.trigger(h)},removeSelectedEdges:c=>{const h=(c||e.edges).map(f=>(f.selected=!1,Mt(f.id,!1)));e.hooks.edgesChange.trigger(h)},startConnection:(c,h,f=!1)=>{f?e.connectionClickStartHandle=c:e.connectionStartHandle=c,e.connectionEndHandle=null,e.connectionStatus=null,h&&(e.connectionPosition=h)},updateConnection:(c,h=null,f=null)=>{e.connectionStartHandle&&(e.connectionPosition=c,e.connectionEndHandle=h,e.connectionStatus=f)},endConnection:(c,h)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,h?e.connectionClickStartHandle=null:e.connectionStartHandle=null},setInteractive:c=>{e.nodesDraggable=c,e.nodesConnectable=c,e.elementsSelectable=c},setState:T,getIntersectingNodes:(c,h=!0,f=e.nodes)=>{const[p,w,_]=C(c);if(!p)return[];const S=[];for(const I of f||e.nodes){if(!(_||I.id!==w.id&&I.computedPosition))continue;const P=Bo(Do(I),p);(h&&P>0||P>=Number(p.width)*Number(p.height))&&S.push(I)}return S},getIncomers:c=>function(...h){if(h.length===3){const[_,S,I]=h;return nr(_,S,I,"source")}const[f,p]=h,w=typeof f=="string"?f:f.id;return p.filter(_=>kt(_)&&_.target===w).map(_=>p.find(S=>Bt(S)&&S.id===_.source))}(c,e.nodes,e.edges),getOutgoers:c=>function(...h){if(h.length===3){const[_,S,I]=h;return nr(_,S,I,"target")}const[f,p]=h,w=typeof f=="string"?f:f.id;return p.filter(_=>kt(_)&&_.source===w).map(_=>p.find(S=>Bt(S)&&S.id===_.target))}(c,e.nodes,e.edges),getConnectedEdges:r,getHandleConnections:({id:c,type:h,nodeId:f})=>{var w;var p;return Array.from((w=(p=e.connectionLookup.get(`${f}-${h}-${c!=null?c:null}`))==null?void 0:p.values())!=null?w:[])},isNodeIntersecting:(c,h,f=!0)=>{const[p]=C(c);if(!p)return!1;const w=Bo(p,h);return f&&w>0||w>=Number(p.width)*Number(p.height)},panBy:c=>{const{viewport:h,dimensions:f,d3Zoom:p,d3Selection:w,translateExtent:_}=e;if(!p||!w||!c.x&&!c.y)return!1;const S=en.translate(h.x+c.x,h.y+c.y).scale(h.zoom),I=[[0,0],[f.width,f.height]],P=p.constrain()(S,I,_),E=e.viewport.x!==P.x||e.viewport.y!==P.y||e.viewport.zoom!==P.k;return p.transform(w,P),E},fitView:c=>o.value.fitView(c),zoomIn:c=>o.value.zoomIn(c),zoomOut:c=>o.value.zoomOut(c),zoomTo:(c,h)=>o.value.zoomTo(c,h),setViewport:(c,h)=>o.value.setViewport(c,h),setTransform:(c,h)=>o.value.setTransform(c,h),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(c,h,f)=>o.value.setCenter(c,h,f),fitBounds:(c,h)=>o.value.fitBounds(c,h),project:c=>o.value.project(c),screenToFlowCoordinate:c=>o.value.screenToFlowCoordinate(c),flowToScreenCoordinate:c=>o.value.flowToScreenCoordinate(c),toObject:()=>{const c=[],h=[];for(const w of e.nodes){const f=w,{computedPosition:_,handleBounds:S,selected:I,dimensions:P,isParent:E,resizing:N,dragging:m,events:O}=f,j=Ft(f,["computedPosition","handleBounds","selected","dimensions","isParent","resizing","dragging","events"]);c.push(j)}for(const w of e.edges){const p=w,{selected:_,sourceNode:S,targetNode:I,events:P}=p,E=Ft(p,["selected","sourceNode","targetNode","events"]);h.push(E)}return JSON.parse(JSON.stringify({nodes:c,edges:h,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:c=>new Promise(h=>{const{nodes:f,edges:p,position:w,zoom:_,viewport:S}=c;if(f&&g(f),p&&y(p),(S==null?void 0:S.x)&&(S==null?void 0:S.y)||w){const I=(S==null?void 0:S.x)||w[0],P=(S==null?void 0:S.y)||w[1],E=(S==null?void 0:S.zoom)||_||e.viewport.zoom;return go(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:I,y:P,zoom:E}).then(()=>{h(!0)})})}h(!0)}),updateNodeInternals:i,viewportHelper:o,$reset:()=>{var h,f,p;const c=Dr();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const w=en.translate((h=c.defaultViewport.x)!=null?h:0,(f=c.defaultViewport.y)!=null?f:0).scale(Dt((p=c.defaultViewport.zoom)!=null?p:1,c.minZoom,c.maxZoom)),_=e.viewportRef.getBoundingClientRect(),S=[[0,0],[_.width,_.height]],I=e.d3Zoom.constrain()(w,S,c.translateExtent);e.d3Zoom.transform(e.d3Selection,I)}T(c)},$destroy:()=>{}}}const us=["data-id","data-handleid","data-nodeid","data-handlepos"],Vt=Ae({name:"Handle",compatConfig:{MODE:3},props:{id:{default:null},type:{},position:{default:()=>G.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=Qo(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Ce(()=>{var E;return(E=n.type)!=null?E:"source"}),i=Ce(()=>{var E;return(E=n.isValidConnection)!=null?E:null}),{connectionStartHandle:r,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:s,nodesConnectable:u,noDragClassName:d,noPanClassName:v}=$e(),{id:g,node:y,nodeEl:b,connectedEdges:C}=Or(),T=we(),c=Ce(()=>e.connectableStart===void 0||e.connectableStart),h=Ce(()=>e.connectableEnd===void 0||e.connectableEnd),f=Ce(()=>{var E,N,m,O,j,te;return((E=r.value)==null?void 0:E.nodeId)===g&&((N=r.value)==null?void 0:N.handleId)===e.id&&((m=r.value)==null?void 0:m.type)===o.value||((O=l.value)==null?void 0:O.nodeId)===g&&((j=l.value)==null?void 0:j.handleId)===e.id&&((te=l.value)==null?void 0:te.type)===o.value}),p=Ce(()=>{var E,N,m;return((E=a.value)==null?void 0:E.nodeId)===g&&((N=a.value)==null?void 0:N.handleId)===e.id&&((m=a.value)==null?void 0:m.type)===o.value}),{handlePointerDown:w,handleClick:_}=$r({nodeId:g,handleId:e.id,isValidConnection:i,type:o}),S=ue(()=>typeof e.connectable=="string"&&e.connectable==="single"?!C.value.some(E=>{const N=E[`${o.value}Handle`];return E[o.value]===g&&(!N||N===e.id)}):typeof e.connectable=="number"?C.value.filter(E=>{const N=E[`${o.value}Handle`];return E[o.value]===g&&(!N||N===e.id)}).length<e.connectable:typeof e.connectable=="function"?e.connectable(y,C.value):Le(e.connectable)?e.connectable:u.value);function I(E){const N=Lo(E);S.value&&c.value&&(N&&E.button===0||!N)&&w(E)}function P(E){g&&(a.value||c.value)&&S.value&&_(E)}return ct(()=>{var ce;var E;if(!y.dimensions.width||!y.dimensions.height)return;const N=(E=y.handleBounds[o.value])==null?void 0:E.find(be=>be.id===e.id);if(!s.value||N)return;const m=s.value.querySelector(".vue-flow__transformationpane");if(!(b.value&&T.value&&m&&e.id))return;const O=b.value.getBoundingClientRect(),j=T.value.getBoundingClientRect(),te=window.getComputedStyle(m),{m22:W}=new window.DOMMatrixReadOnly(te.transform),le=L({id:e.id,position:e.position,x:(j.left-O.left)/W,y:(j.top-O.top)/W},Zn(T.value));y.handleBounds[o.value]=[...(ce=y.handleBounds[o.value])!=null?ce:[],le]}),qo(()=>{const E=y.handleBounds[o.value];E&&(y.handleBounds[o.value]=E.filter(N=>N.id!==e.id))}),t({handleClick:_,handlePointerDown:w,onClick:P,onPointerDown:I}),(E,N)=>(Q(),he("div",{ref_key:"handle",ref:T,"data-id":`${Z(g)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":Z(g),"data-handlepos":E.position,class:Pt(["vue-flow__handle",[`vue-flow__handle-${E.position}`,`vue-flow__handle-${e.id}`,Z(d),Z(v),o.value,{connectable:S.value,connecting:p.value,connectablestart:c.value,connectableend:h.value,connectionindicator:S.value&&(c.value&&!f.value||h.value&&f.value)}]]),onMousedown:I,onTouchstartPassive:I,onClick:P},[Re(E.$slots,"default",{id:E.id})],42,us))}}),to=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,label:n,connectable:o=!0,isValidTargetPos:i,isValidSourcePos:r,data:a}){const l=a.label||n;return[Ne(Vt,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof l!="string"&&l?Ne(l):Ne(rt,[l]),Ne(Vt,{type:"source",position:e,connectable:o,isValidConnection:r})]};to.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"],to.inheritAttrs=!1,to.compatConfig={MODE:3};const ds=to,no=function({targetPosition:e=G.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:i}){const r=i.label||t;return[Ne(Vt,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof r!="string"&&r?Ne(r):Ne(rt,[r])]};no.props=["targetPosition","label","isValidTargetPos","connectable","data"],no.inheritAttrs=!1,no.compatConfig={MODE:3};const cs=no,oo=function({sourcePosition:e=G.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:i}){const r=i.label||t;return[typeof r!="string"&&r?Ne(r):Ne(rt,[r]),Ne(Vt,{type:"source",position:e,connectable:n,isValidConnection:o})]};oo.props=["sourcePosition","label","isValidSourcePos","connectable","data"],oo.inheritAttrs=!1,oo.compatConfig={MODE:3};const fs=oo,vs=["transform"],hs=["width","height","x","y","rx","ry"],ps=["y"],gs=Ae({name:"EdgeText",compatConfig:{MODE:3},props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=we({x:0,y:0,width:0,height:0}),n=we(null),o=ue(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);function i(){if(!n.value)return;const r=n.value.getBBox();r.width===t.value.width&&r.height===t.value.height||(t.value=r)}return ct(i),Se([()=>e.x,()=>e.y,n,()=>e.label],i),(r,a)=>(Q(),he("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(Q(),he("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:ft(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,hs)):We("",!0),Ue("text",ia(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[Re(r.$slots,"default",{},()=>[typeof r.label!="string"?(Q(),Qe(jt(r.label),{key:0})):(Q(),he(rt,{key:1},[ho(co(r.label),1)],64))])],16,ps)],8,vs))}}),ms=["id","d","marker-end","marker-start"],ys=["d","stroke-width"],io=Ae({name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3},props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Qo(e,["interactionWidth","labelShowBg"]),o=we(null),i=we(null),r=we(null),a=oa();return t({pathEl:o,interactionEl:i,labelEl:r}),(l,s)=>(Q(),he(rt,null,[Ue("path",{id:l.id,ref_key:"pathEl",ref:o,d:l.path,style:ft(n.style),class:Pt(["vue-flow__edge-path",Z(a).class]),"marker-end":l.markerEnd,"marker-start":l.markerStart},null,14,ms),l.interactionWidth?(Q(),he("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:l.path,"stroke-width":l.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,ys)):We("",!0),l.label&&l.labelX&&l.labelY?(Q(),Qe(gs,{key:1,ref_key:"labelEl",ref:r,x:l.labelX,y:l.labelY,label:l.label,"label-show-bg":l.labelShowBg,"label-bg-style":l.labelBgStyle,"label-bg-padding":l.labelBgPadding,"label-bg-border-radius":l.labelBgBorderRadius,"label-style":l.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):We("",!0)],64))}});function Br({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,r=n<e?n+i:n-i,a=Math.abs(o-t)/2;return[r,o<t?o+a:o-a,i,a]}function Vr({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:r,targetControlX:a,targetControlY:l}){const s=.125*e+.375*i+.375*a+.125*n,u=.125*t+.375*r+.375*l+.125*o;return[s,u,Math.abs(s-e),Math.abs(u-t)]}function ro(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Rr({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let a,l;switch(e){case G.Left:a=t-ro(t-o,r),l=n;break;case G.Right:a=t+ro(o-t,r),l=n;break;case G.Top:a=t,l=n-ro(n-i,r);break;case G.Bottom:a=t,l=n+ro(i-n,r)}return[a,l]}function Hr(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top,curvature:l=.25}=e,[s,u]=Rr({pos:o,x1:t,y1:n,x2:i,y2:r,c:l}),[d,v]=Rr({pos:a,x1:i,y1:r,x2:t,y2:n,c:l}),[g,y,b,C]=Vr({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:s,sourceControlY:u,targetControlX:d,targetControlY:v});return[`M${t},${n} C${s},${u} ${d},${v} ${i},${r}`,g,y,b,C]}function Lr({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,a;switch(e){case G.Left:case G.Right:r=.5*(t+o),a=n;break;case G.Top:case G.Bottom:r=t,a=.5*(n+i)}return[r,a]}function Yr(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top}=e,[l,s]=Lr({pos:o,x1:t,y1:n,x2:i,y2:r}),[u,d]=Lr({pos:a,x1:i,y1:r,x2:t,y2:n}),[v,g,y,b]=Vr({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${s} ${u},${d} ${i},${r}`,v,g,y,b]}const Gr={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}};function Fr(e,t){return Math.sqrt(Gt(t.x-e.x,2)+Gt(t.y-e.y,2))}function ws({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:o=G.Top,center:i,offset:r}){var _,S;const a=Gr[t],l=Gr[o],s={x:e.x+a.x*r,y:e.y+a.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},d=function({source:I,sourcePosition:P=G.Bottom,target:E}){return P===G.Left||P===G.Right?I.x<E.x?{x:1,y:0}:{x:-1,y:0}:I.y<E.y?{x:0,y:1}:{x:0,y:-1}}({source:s,sourcePosition:t,target:u}),v=d.x!==0?"x":"y",g=d[v];let y,b,C;const T={x:0,y:0},c={x:0,y:0},[h,f,p,w]=Br({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[v]*l[v]==-1){b=(_=i.x)!=null?_:h,C=(S=i.y)!=null?S:f;const I=[{x:b,y:s.y},{x:b,y:u.y}],P=[{x:s.x,y:C},{x:u.x,y:C}];y=a[v]===g?v==="x"?I:P:v==="x"?P:I}else{const I=[{x:s.x,y:u.y}],P=[{x:u.x,y:s.y}];if(y=v==="x"?a.x===g?P:I:a.y===g?I:P,t===o){const m=Math.abs(e[v]-n[v]);if(m<=r){const O=Math.min(r-1,r-m);a[v]===g?T[v]=(s[v]>e[v]?-1:1)*O:c[v]=(u[v]>n[v]?-1:1)*O}}if(t!==o){const m=v==="x"?"y":"x",O=a[v]===l[m],j=s[m]>u[m],te=s[m]<u[m];(a[v]===1&&(!O&&j||O&&te)||a[v]!==1&&(!O&&te||O&&j))&&(y=v==="x"?I:P)}const E={x:s.x+T.x,y:s.y+T.y},N={x:u.x+c.x,y:u.y+c.y};Math.max(Math.abs(E.x-y[0].x),Math.abs(N.x-y[0].x))>=Math.max(Math.abs(E.y-y[0].y),Math.abs(N.y-y[0].y))?(b=(E.x+N.x)/2,C=y[0].y):(b=y[0].x,C=(E.y+N.y)/2)}return[[e,{x:s.x+T.x,y:s.y+T.y},...y,{x:u.x+c.x,y:u.y+c.y},n],b,C,p,w]}function ao(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top,borderRadius:l=5,centerX:s,centerY:u,offset:d=20}=e,[v,g,y,b,C]=ws({source:{x:t,y:n},sourcePosition:o,target:{x:i,y:r},targetPosition:a,center:{x:s,y:u},offset:d});return[v.reduce((T,c,h)=>{let f;return f=h>0&&h<v.length-1?function(p,w,_,S){const I=Math.min(Fr(p,w)/2,Fr(w,_)/2,S),{x:P,y:E}=w;if(p.x===P&&P===_.x||p.y===E&&E===_.y)return`L${P} ${E}`;if(p.y===E)return`L ${P+I*(p.x<_.x?-1:1)},${E}Q ${P},${E} ${P},${E+I*(p.y<_.y?1:-1)}`;const N=p.x<_.x?1:-1;return`L ${P},${E+I*(p.y<_.y?-1:1)}Q ${P},${E} ${P+I*N},${E}`}(v[h-1],c,v[h+1],l):`${h===0?"M":"L"}${c.x} ${c.y}`,T+=f},""),g,y,b,C]}const xs=Ae({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,o,i]=function(r){const{sourceX:a,sourceY:l,targetX:s,targetY:u}=r,[d,v,g,y]=Br({sourceX:a,sourceY:l,targetX:s,targetY:u});return[`M ${a},${l}L ${s},${u}`,d,v,g,y]}(e);return Ne(io,L(L({path:n,labelX:o,labelY:i},t),e))}}),Xr=Ae({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=ao(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ne(io,L(L({path:n,labelX:o,labelY:i},t),e))}}),bs=Ae({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup:(e,{attrs:t})=>()=>Ne(Xr,Ze(L(L({},e),t),{borderRadius:0}))}),_s=Ae({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=Hr(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ne(io,L(L({path:n,labelX:o,labelY:i},t),e))}}),Es=Ae({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=Yr(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ne(io,L(L({path:n,labelX:o,labelY:i},t),e))}}),Ss={input:fs,default:ds,output:cs},Ns={default:_s,straight:xs,step:bs,smoothstep:Xr,simplebezier:Es};class Rt{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var i;var t;const n=(t=an())==null?void 0:t.appContext.app,o=(i=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?i:Rt.instance;return Rt.instance=o!=null?o:new Rt,n&&(n.config.globalProperties.$vueFlowStorage=Rt.instance),Rt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Dr(),i=Jr(o),r={};for(const[g,y]of Object.entries(i.hooks))r[`on${g.charAt(0).toUpperCase()+g.slice(1)}`]=y.on;const a={};for(const[g,y]of Object.entries(i.hooks))a[g]=y.trigger;const l=ue(()=>{const g=new Map;for(const y of i.nodes)g.set(y.id,y);return g}),s=ue(()=>{const g=new Map;for(const y of i.edges)g.set(y.id,y);return g}),u=function(g,y,b){const C=ue(()=>N=>y.value.get(N)),T=ue(()=>N=>b.value.get(N)),c=ue(()=>{const N=L(L({},Ns),g.edgeTypes),m=Object.keys(N);for(const O of g.edges)O.type&&!m.includes(O.type)&&(N[O.type]=O.type);return N}),h=ue(()=>{const N=L(L({},Ss),g.nodeTypes),m=Object.keys(N);for(const O of g.nodes)O.type&&!m.includes(O.type)&&(N[O.type]=O.type);return N}),f=ue(()=>g.onlyRenderVisibleElements?lr(g.nodes,{x:0,y:0,width:g.dimensions.width,height:g.dimensions.height},g.viewport,!0):g.nodes),p=ue(()=>{if(g.onlyRenderVisibleElements){const N=[];for(const m of g.edges){const O=y.value.get(m.source),j=y.value.get(m.target);ql({sourcePos:O.computedPosition||{x:0,y:0},targetPos:j.computedPosition||{x:0,y:0},sourceWidth:O.dimensions.width,sourceHeight:O.dimensions.height,targetWidth:j.dimensions.width,targetHeight:j.dimensions.height,width:g.dimensions.width,height:g.dimensions.height,viewport:g.viewport})&&N.push(m)}return N}return g.edges}),w=ue(()=>[...f.value,...p.value]),_=ue(()=>{const N=[];for(const m of g.nodes)m.selected&&N.push(m);return N}),S=ue(()=>{const N=[];for(const m of g.edges)m.selected&&N.push(m);return N}),I=ue(()=>[..._.value,...S.value]),P=ue(()=>{const N=[];for(const m of g.nodes)m.dimensions.width&&m.dimensions.height&&m.handleBounds!==void 0&&N.push(m);return N}),E=ue(()=>f.value.length>0&&P.value.length===f.value.length);return{getNode:C,getEdge:T,getElements:w,getEdgeTypes:c,getNodeTypes:h,getEdges:p,getNodes:f,getSelectedElements:I,getSelectedNodes:_,getSelectedEdges:S,getNodesInitialized:P,areNodesInitialized:E}}(i,l,s),d=ss(i,l,s);d.setState(L(L({},i),n));const v=Ze(L(L(L(L({},r),u),d),ua(i)),{nodeLookup:l,edgeLookup:s,emits:a,id:t,vueFlowVersion:"1.41.5",$destroy:()=>{this.remove(t)}});return this.set(t,v),v}getId(){return"vue-flow-"+this.currentId++}}function $e(e){const t=Rt.getInstance(),n=ti(),o=typeof e=="object",i=o?e:{id:e},r=i.id,a=r!=null?r:n==null?void 0:n.vueFlowId;let l;if(n){const s=Ut(Ir,null);s==null||a&&s.id!==a||(l=s)}if(l||a&&(l=t.get(a)),!l||a&&l.id!==a){const s=r!=null?r:t.getId(),u=t.create(s,i);l=u,(n!=null?n:Jo(!0)).run(()=>{Se(u.applyDefault,(d,v,g)=>{const y=C=>{u.applyNodeChanges(C)},b=C=>{u.applyEdgeChanges(C)};d?(u.onNodesChange(y),u.onEdgesChange(b)):(u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)),g(()=>{u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)})},{immediate:!0}),In(()=>{if(l){const d=t.get(l.id);d?d.$destroy():Jn(l.id)}})})}else o&&l.setState(i);if(n&&(Xt(Ir,l),n.vueFlowId=l.id),o){const s=an();(s==null?void 0:s.type.name)!=="VueFlow"&&l.emits.error(new Fe(He.USEVUEFLOW_OPTIONS))}return l}const ks=Ae({name:"UserSelection",compatConfig:{MODE:3},props:{userSelectionRect:{}},setup:e=>(t,n)=>(Q(),he("div",{class:"vue-flow__selection vue-flow__container",style:ft({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}),Ms=["tabIndex"],Cs=Ae({name:"NodesSelection",compatConfig:{MODE:3},setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:i,disableKeyboardA11y:r,userSelectionActive:a}=$e(),l=zr(),s=we(null),u=Ar({el:s,onStart(b){t.selectionDragStart(b)},onDrag(b){t.selectionDrag(b)},onStop(b){t.selectionDragStop(b)}});ct(()=>{var b;r.value||(b=s.value)==null||b.focus({preventScroll:!0})});const d=ue(()=>ar(o.value)),v=ue(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function g(b){t.selectionContextMenu({event:b,nodes:o.value})}function y(b){r||tn[b.key]&&l({x:tn[b.key].x,y:tn[b.key].y},b.shiftKey)}return(b,C)=>!Z(a)&&d.value.width&&d.value.height?(Q(),he("div",{key:0,class:Pt(["vue-flow__nodesselection vue-flow__container",Z(i)]),style:ft({transform:`translate(${Z(n).x}px,${Z(n).y}px) scale(${Z(n).zoom})`})},[Ue("div",{ref_key:"el",ref:s,class:Pt([{dragging:Z(u)},"vue-flow__nodesselection-rect"]),style:ft(v.value),tabIndex:Z(r)?void 0:-1,onContextmenu:g,onKeydown:y},null,46,Ms)],6)):We("",!0)}}),Is=Ae({name:"Pane",compatConfig:{MODE:3},props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:i,userSelectionActive:r,removeSelectedElements:a,panOnDrag:l,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:d,getSelectedEdges:v,getSelectedNodes:g,removeNodes:y,removeEdges:b,selectionMode:C,deleteKeyCode:T,multiSelectionKeyCode:c,multiSelectionActive:h,edgeLookup:f,nodeLookup:p}=$e(),w=we(null),_=we(0),S=we(0),I=we(),P=we(new Map),E=Ce(()=>u.value&&(e.isSelecting||r.value));let N=!1,m=!1;const O=_n(T,{actInsideInputWithModifier:!1}),j=_n(c);function te(ne,R){return ae=>{ae.target===R&&(ne==null||ne(ae))}}function W(ne){N?N=!1:(i.paneClick(ne),a(),d.value=!1)}function le(ne){var R;Array.isArray(l.value)&&((R=l.value)!=null&&R.includes(2))?ne.preventDefault():i.paneContextMenu(ne)}function ce(ne){i.paneScroll(ne)}function be(ne){var R;ne.button===0&&m&&((R=ne.target)==null||R.releasePointerCapture(ne.pointerId),!r.value&&s.value&&ne.target===w.value&&W(ne),_.value>0&&(d.value=!0),r.value=!1,s.value=null,_.value=0,S.value=0,i.selectionEnd(ne),e.selectionKeyPressed&&(N=!1),m=!1)}return Se(O,ne=>{ne&&(y(g.value),b(v.value),d.value=!1)}),Se(j,ne=>{h.value=ne}),(ne,R)=>(Q(),he("div",{ref_key:"container",ref:w,class:Pt(["vue-flow__pane vue-flow__container",{selection:ne.isSelecting}]),onClick:R[0]||(R[0]=ae=>E.value?void 0:te(W,w.value)(ae)),onContextmenu:R[1]||(R[1]=ae=>te(le,w.value)(ae)),onWheelPassive:R[2]||(R[2]=ae=>te(ce,w.value)(ae)),onPointerenter:R[3]||(R[3]=ae=>E.value?void 0:Z(i).paneMouseEnter(ae)),onPointerdown:R[4]||(R[4]=ae=>E.value?function(fe){var ke,De,Ie,Me,K;if(I.value=(ke=t.value)==null?void 0:ke.getBoundingClientRect(),!u.value||!e.isSelecting||fe.button!==0||fe.target!==w.value||!I.value)return;(Ie=(De=fe.target)==null?void 0:De.setPointerCapture)==null||Ie.call(De,fe.pointerId);const{x:se,y:re}=function(F,oe){return{x:F.clientX-oe.left,y:F.clientY-oe.top}}(fe,I.value);m=!0,N=!1,P.value=new Map;for(const[F,oe]of f.value)P.value.set(oe.source,((Me=P.value.get(oe.source))==null?void 0:Me.add(F))||new Set([F])),P.value.set(oe.target,((K=P.value.get(oe.target))==null?void 0:K.add(F))||new Set([F]));a(),s.value={width:0,height:0,startX:se,startY:re,x:se,y:re},i.selectionStart(fe)}(ae):Z(i).paneMouseMove(ae)),onPointermove:R[5]||(R[5]=ae=>E.value?function(fe){if(!I.value||!s.value)return;N=!0;const{x:ke,y:De}=_t(fe,I.value),{startX:Ie=0,startY:Me=0}=s.value,K={startX:Ie,startY:Me,x:ke<Ie?ke:Ie,y:De<Me?De:Me,width:Math.abs(ke-Ie),height:Math.abs(De-Me)},se=lr(n.value,K,o.value,C.value===Oo.Partial,!0),re=new Set,F=new Set;for(const oe of se){F.add(oe.id);const A=P.value.get(oe.id);if(A)for(const $ of A)re.add($)}if(_.value!==F.size){_.value=F.size;const oe=Ct(p.value,F,!0);i.nodesChange(oe)}if(S.value!==re.size){S.value=re.size;const oe=Ct(f.value,re);i.edgesChange(oe)}s.value=K,r.value=!0,d.value=!1}(ae):Z(i).paneMouseMove(ae)),onPointerup:R[6]||(R[6]=ae=>E.value?be(ae):void 0),onPointerleave:R[7]||(R[7]=ae=>Z(i).paneMouseLeave(ae))},[Re(ne.$slots,"default"),Z(r)&&Z(s)?(Q(),Qe(ks,{key:0,"user-selection-rect":Z(s)},null,8,["user-selection-rect"])):We("",!0),Z(d)&&Z(g).length?(Q(),Qe(Cs,{key:1})):We("",!0)],34))}}),Ps=Ae({name:"Transform",compatConfig:{MODE:3},setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=$e(),i=ue(()=>!!n.value&&!o.value),r=ue(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,l)=>(Q(),he("div",{class:"vue-flow__transformationpane vue-flow__container",style:ft({transform:r.value,opacity:i.value?0:void 0})},[Re(a.$slots,"default")],4))}}),Ts=Ae({name:"Viewport",compatConfig:{MODE:3},setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:i,zoomActivationKeyCode:r,selectionKeyCode:a,panActivationKeyCode:l,panOnScroll:s,panOnScrollMode:u,panOnScrollSpeed:d,panOnDrag:v,zoomOnDoubleClick:g,zoomOnPinch:y,zoomOnScroll:b,preventScrolling:C,noWheelClassName:T,noPanClassName:c,emits:h,connectionStartHandle:f,userSelectionActive:p,paneDragging:w,d3Zoom:_,d3Selection:S,d3ZoomHandler:I,viewport:P,viewportRef:E,paneClickDistance:N}=$e();(function(K){const{emits:se,dimensions:re}=$e();let F;ct(()=>{const oe=K.value,A=()=>{if(!oe)return;const $=Zn(oe);$.width!==0&&$.height!==0||se.error(new Fe(He.MISSING_VIEWPORT_DIMENSIONS)),re.value={width:$.width||500,height:$.height||500}};A(),window.addEventListener("resize",A),oe&&(F=new ResizeObserver(()=>A()),F.observe(oe)),ei(()=>{window.removeEventListener("resize",A),F&&oe&&F.unobserve(oe)})})})(E);const m=we(!1),O=we(!1);let j=null,te=!1,W=0,le={x:0,y:0,zoom:0};const ce=_n(l),be=_n(a),ne=_n(r),R=Ce(()=>(!be.value||be.value&&a.value===!0)&&(ce.value||v.value)),ae=Ce(()=>ce.value||s.value),fe=Ce(()=>be.value||a.value===!0&&R.value!==!0);function ke(K,se){return se===2&&Array.isArray(K)&&K.includes(2)}function De(K){const se=K.ctrlKey&&Kn()?10:1;return-K.deltaY*(K.deltaMode===1?.05:K.deltaMode?1:.002)*se}function Ie(K){return{x:K.x,y:K.y,zoom:K.k}}function Me(K,se){return K.target.closest(`.${se}`)}return ct(()=>{var k,Y,q;if(!E.value)return void Jn();const K=E.value,se=K.getBoundingClientRect(),re=function(){var M,X,ie,ve=Fl,ge=Xl,_e=jl,de=Ul,Oe=Zl,ze=[0,1/0],Be=[[-1/0,-1/0],[1/0,1/0]],ut=250,Te=xl,Ye=Pn("start","zoom","end"),Je=0,D=10;function B(x){x.property("__zoom",Zi).on("wheel.zoom",Lt,{passive:!1}).on("mousedown.zoom",on).on("dblclick.zoom",tt).filter(Oe).on("touchstart.zoom",so).on("touchmove.zoom",rn).on("touchend.zoom touchcancel.zoom",kn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function xe(x,U){return(U=Math.max(ze[0],Math.min(ze[1],U)))===x.k?x:new bt(U,x.x,x.y)}function Ge(x,U,V){var H=U[0]-V[0]*x.k,J=U[1]-V[1]*x.k;return H===x.x&&J===x.y?x:new bt(x.k,H,J)}function Xe(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function Ht(x,U,V,H){x.on("start.zoom",function(){Ke(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){Ke(this,arguments).event(H).end()}).tween("zoom",function(){var J=this,pe=arguments,me=Ke(J,pe).event(H),Ve=ge.apply(J,pe),Ee=V==null?Xe(Ve):typeof V=="function"?V.apply(J,pe):V,ot=Math.max(Ve[1][0]-Ve[0][0],Ve[1][1]-Ve[0][1]),dt=J.__zoom,Et=typeof U=="function"?U.apply(J,pe):U,Yt=Te(dt.invert(Ee).concat(ot/dt.k),Et.invert(Ee).concat(ot/Et.k));return function(it){if(it===1)it=Et;else{var gt=Yt(it),uo=ot/gt[2];it=new bt(uo,Ee[0]-gt[0]*uo,Ee[1]-gt[1]*uo)}me.zoom(null,it)}})}function Ke(x,U,V){return!V&&x.__zooming||new nn(x,U)}function nn(x,U){this.that=x,this.args=U,this.active=0,this.sourceEvent=null,this.extent=ge.apply(x,U),this.taps=0}function Lt(x,...U){if(ve.apply(this,arguments)){var V=Ke(this,U).event(x),H=this.__zoom,J=Math.max(ze[0],Math.min(ze[1],H.k*Math.pow(2,de.apply(this,arguments)))),pe=vt(x);if(V.wheel)V.mouse[0][0]===pe[0]&&V.mouse[0][1]===pe[1]||(V.mouse[1]=H.invert(V.mouse[0]=pe)),clearTimeout(V.wheel);else{if(H.k===J)return;V.mouse=[pe,H.invert(pe)],Xn(this),V.start()}xn(x),V.wheel=setTimeout(function(){V.wheel=null,V.end()},150),V.zoom("mouse",_e(Ge(xe(H,J),V.mouse[0],V.mouse[1]),V.extent,Be))}}function on(x,...U){if(!ie&&ve.apply(this,arguments)){var V=x.currentTarget,H=Ke(this,U,!0).event(x),J=at(x.view).on("mousemove.zoom",function(Ee){if(xn(Ee),!H.moved){var ot=Ee.clientX-me,dt=Ee.clientY-Ve;H.moved=ot*ot+dt*dt>Je}H.event(Ee).zoom("mouse",_e(Ge(H.that.__zoom,H.mouse[0]=vt(Ee,V),H.mouse[1]),H.extent,Be))},!0).on("mouseup.zoom",function(Ee){J.on("mousemove.zoom mouseup.zoom",null),_i(Ee.view,H.moved),xn(Ee),H.event(Ee).end()},!0),pe=vt(x,V),me=x.clientX,Ve=x.clientY;bi(x.view),$o(x),H.mouse=[pe,this.__zoom.invert(pe)],Xn(this),H.start()}}function tt(x,...U){if(ve.apply(this,arguments)){var V=this.__zoom,H=vt(x.changedTouches?x.changedTouches[0]:x,this),J=V.invert(H),pe=V.k*(x.shiftKey?.5:2),me=_e(Ge(xe(V,pe),H,J),ge.apply(this,U),Be);xn(x),ut>0?at(this).transition().duration(ut).call(Ht,me,H,x):at(this).call(B.transform,me,H,x)}}function so(x,...U){if(ve.apply(this,arguments)){var V,H,J,pe,me=x.touches,Ve=me.length,Ee=Ke(this,U,x.changedTouches.length===Ve).event(x);for($o(x),H=0;H<Ve;++H)pe=[pe=vt(J=me[H],this),this.__zoom.invert(pe),J.identifier],Ee.touch0?Ee.touch1||Ee.touch0[2]===pe[2]||(Ee.touch1=pe,Ee.taps=0):(Ee.touch0=pe,V=!0,Ee.taps=1+!!M);M&&(M=clearTimeout(M)),V&&(Ee.taps<2&&(X=pe[0],M=setTimeout(function(){M=null},500)),Xn(this),Ee.start())}}function rn(x,...U){if(this.__zooming){var V,H,J,pe,me=Ke(this,U).event(x),Ve=x.changedTouches,Ee=Ve.length;for(xn(x),V=0;V<Ee;++V)J=vt(H=Ve[V],this),me.touch0&&me.touch0[2]===H.identifier?me.touch0[0]=J:me.touch1&&me.touch1[2]===H.identifier&&(me.touch1[0]=J);if(H=me.that.__zoom,me.touch1){var ot=me.touch0[0],dt=me.touch0[1],Et=me.touch1[0],Yt=me.touch1[1],it=(it=Et[0]-ot[0])*it+(it=Et[1]-ot[1])*it,gt=(gt=Yt[0]-dt[0])*gt+(gt=Yt[1]-dt[1])*gt;H=xe(H,Math.sqrt(it/gt)),J=[(ot[0]+Et[0])/2,(ot[1]+Et[1])/2],pe=[(dt[0]+Yt[0])/2,(dt[1]+Yt[1])/2]}else{if(!me.touch0)return;J=me.touch0[0],pe=me.touch0[1]}me.zoom("touch",_e(Ge(H,J,pe),me.extent,Be))}}function kn(x,...U){if(this.__zooming){var V,H,J=Ke(this,U).event(x),pe=x.changedTouches,me=pe.length;for($o(x),ie&&clearTimeout(ie),ie=setTimeout(function(){ie=null},500),V=0;V<me;++V)H=pe[V],J.touch0&&J.touch0[2]===H.identifier?delete J.touch0:J.touch1&&J.touch1[2]===H.identifier&&delete J.touch1;if(J.touch1&&!J.touch0&&(J.touch0=J.touch1,delete J.touch1),J.touch0)J.touch0[1]=this.__zoom.invert(J.touch0[0]);else if(J.end(),J.taps===2&&(H=vt(H,this),Math.hypot(X[0]-H[0],X[1]-H[1])<D)){var Ve=at(this).on("dblclick.zoom");Ve&&Ve.apply(this,arguments)}}}return B.transform=function(x,U,V,H){var J=x.selection?x.selection():x;J.property("__zoom",Zi),x!==J?Ht(x,U,V,H):J.interrupt().each(function(){Ke(this,arguments).event(H).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},B.scaleBy=function(x,U,V,H){B.scaleTo(x,function(){return this.__zoom.k*(typeof U=="function"?U.apply(this,arguments):U)},V,H)},B.scaleTo=function(x,U,V,H){B.transform(x,function(){var J=ge.apply(this,arguments),pe=this.__zoom,me=V==null?Xe(J):typeof V=="function"?V.apply(this,arguments):V,Ve=pe.invert(me),Ee=typeof U=="function"?U.apply(this,arguments):U;return _e(Ge(xe(pe,Ee),me,Ve),J,Be)},V,H)},B.translateBy=function(x,U,V,H){B.transform(x,function(){return _e(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof V=="function"?V.apply(this,arguments):V),ge.apply(this,arguments),Be)},null,H)},B.translateTo=function(x,U,V,H,J){B.transform(x,function(){var pe=ge.apply(this,arguments),me=this.__zoom,Ve=H==null?Xe(pe):typeof H=="function"?H.apply(this,arguments):H;return _e(en.translate(Ve[0],Ve[1]).scale(me.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof V=="function"?-V.apply(this,arguments):-V),pe,Be)},H,J)},nn.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,U){return this.mouse&&x!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var U=at(this.that).datum();Ye.call(x,this.that,new Gl(x,{sourceEvent:this.sourceEvent,target:B,type:x,transform:this.that.__zoom,dispatch:Ye}),U)}},B.wheelDelta=function(x){return arguments.length?(de=typeof x=="function"?x:Un(+x),B):de},B.filter=function(x){return arguments.length?(ve=typeof x=="function"?x:Un(!!x),B):ve},B.touchable=function(x){return arguments.length?(Oe=typeof x=="function"?x:Un(!!x),B):Oe},B.extent=function(x){return arguments.length?(ge=typeof x=="function"?x:Un([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),B):ge},B.scaleExtent=function(x){return arguments.length?(ze[0]=+x[0],ze[1]=+x[1],B):[ze[0],ze[1]]},B.translateExtent=function(x){return arguments.length?(Be[0][0]=+x[0][0],Be[1][0]=+x[1][0],Be[0][1]=+x[0][1],Be[1][1]=+x[1][1],B):[[Be[0][0],Be[0][1]],[Be[1][0],Be[1][1]]]},B.constrain=function(x){return arguments.length?(_e=x,B):_e},B.duration=function(x){return arguments.length?(ut=+x,B):ut},B.interpolate=function(x){return arguments.length?(Te=x,B):Te},B.on=function(){var x=Ye.on.apply(Ye,arguments);return x===Ye?B:x},B.clickDistance=function(x){return arguments.length?(Je=(x=+x)*x,B):Math.sqrt(Je)},B.tapDistance=function(x){return arguments.length?(D=+x,B):D},B}().clickDistance(N.value).scaleExtent([t.value,n.value]).translateExtent(i.value),F=at(K).call(re),oe=F.on("wheel.zoom"),A=en.translate((k=o.value.x)!=null?k:0,(Y=o.value.y)!=null?Y:0).scale(Dt((q=o.value.zoom)!=null?q:1,t.value,n.value)),$=[[0,0],[se.width,se.height]],ee=re.constrain()(A,$,i.value);re.transform(F,ee),re.wheelDelta(De),_.value=re,S.value=F,I.value=oe,P.value={x:ee.x,y:ee.y,zoom:ee.k},re.on("start",M=>{var X;if(!M.sourceEvent)return null;W=M.sourceEvent.button,m.value=!0;const ie=Ie(M.transform);((X=M.sourceEvent)==null?void 0:X.type)==="mousedown"&&(w.value=!0),le=ie,h.viewportChangeStart(ie),h.moveStart({event:M,flowTransform:ie})}),re.on("end",M=>{if(!M.sourceEvent)return null;if(m.value=!1,w.value=!1,ke(R.value,W!=null?W:0)&&!te&&h.paneContextMenu(M.sourceEvent),te=!1,X=le,ie=M.transform,X.x!==ie.x&&!Number.isNaN(ie.x)||X.y!==ie.y&&!Number.isNaN(ie.y)||X.zoom!==ie.k&&!Number.isNaN(ie.k)){const ve=Ie(M.transform);le=ve,h.viewportChangeEnd(ve),h.moveEnd({event:M,flowTransform:ve})}var X,ie}),re.filter(M=>{var X,ie,ve;const ge=ne.value||b.value,_e=y.value&&M.ctrlKey,de=M.button;if((R.value===!0||Array.isArray(R.value)&&R.value.includes(1))&&de===1&&M.type==="mousedown"&&((X=M.target)!=null&&X.closest(".vue-flow__node")||(ie=M.target)!=null&&ie.closest(".vue-flow__edge")))return!0;if(!(R.value||ge||ae.value||g.value||y.value)||p.value||!g.value&&M.type==="dblclick"||Me(M,T.value)&&M.type==="wheel"||Me(M,c.value)&&(M.type!=="wheel"||ae.value&&M.type==="wheel"&&!ne.value)||!y.value&&M.ctrlKey&&M.type==="wheel"||!ge&&!ae.value&&!_e&&M.type==="wheel")return!1;if(!y&&M.type==="touchstart"&&((ve=M.touches)==null?void 0:ve.length)>1)return M.preventDefault(),!1;if(!R.value&&(M.type==="mousedown"||M.type==="touchstart")||a.value===!0&&Array.isArray(v.value)&&v.value.includes(0)&&de===0||Array.isArray(R.value)&&!R.value.includes(de)&&(M.type==="mousedown"||M.type==="touchstart"))return!1;const Oe=Array.isArray(R.value)&&R.value.includes(de)||a.value===!0&&Array.isArray(R.value)&&!R.value.includes(0)||!de||de<=1;return(!M.ctrlKey||M.type==="wheel")&&Oe}),Se([p,R],()=>{p.value&&!m.value?re.on("zoom",null):p.value||re.on("zoom",M=>{P.value={x:M.transform.x,y:M.transform.y,zoom:M.transform.k};const X=Ie(M.transform);te=ke(R.value,W!=null?W:0),h.viewportChange(X),h.move({event:M,flowTransform:X})})},{immediate:!0}),Se([p,ae,u,ne,y,C,T],()=>{!ae.value||ne.value||p.value?oe!==void 0&&F.on("wheel.zoom",function(M,X){const ie=!C.value&&M.type==="wheel"&&!M.ctrlKey,ve=ne.value||b.value,ge=y.value&&M.ctrlKey;if(!ve&&!s.value&&!ge&&M.type==="wheel"||ie||Me(M,T.value))return null;M.preventDefault(),oe.call(this,M,X)},{passive:!1}):F.on("wheel.zoom",M=>{if(Me(M,T.value))return!1;const X=ne.value||b.value,ie=y.value&&M.ctrlKey;if(!(!C.value||ae.value||X||ie))return!1;M.preventDefault(),M.stopImmediatePropagation();const ve=F.property("__zoom").k||1,ge=Kn();if(M.ctrlKey&&y.value&&ge){const Be=vt(M),ut=ve*Gt(2,De(M));return void re.scaleTo(F,ut,Be,M)}const _e=M.deltaMode===1?20:1;let de=u.value===bn.Vertical?0:M.deltaX*_e,Oe=u.value===bn.Horizontal?0:M.deltaY*_e;!ge&&M.shiftKey&&u.value!==bn.Vertical&&!de&&Oe&&(de=Oe,Oe=0),re.translateBy(F,-de/ve*d.value,-Oe/ve*d.value);const ze=Ie(F.property("__zoom"));j&&clearTimeout(j),O.value?(h.move({event:M,flowTransform:ze}),h.viewportChange(ze),j=setTimeout(()=>{h.moveEnd({event:M,flowTransform:ze}),h.viewportChangeEnd(ze),O.value=!1},150)):(O.value=!0,h.moveStart({event:M,flowTransform:ze}),h.viewportChangeStart(ze))},{passive:!1})},{immediate:!0})}),(K,se)=>(Q(),he("div",{ref_key:"viewportRef",ref:E,class:"vue-flow__viewport vue-flow__container"},[Pe(Is,{"is-selecting":fe.value,"selection-key-pressed":Z(be),class:Pt({connecting:!!Z(f),dragging:Z(w),draggable:Z(v)===!0||Array.isArray(Z(v))&&Z(v).includes(0)})},{default:je(()=>[Pe(Ps,null,{default:je(()=>[Re(K.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),As=["id"],$s=["id"],Os=["id"],zs=Ae({name:"A11yDescriptions",compatConfig:{MODE:3},setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=$e();return(i,r)=>(Q(),he(rt,null,[Ue("div",{id:`${Z(Ki)}-${Z(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+co(Z(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,As),Ue("div",{id:`${Z(qi)}-${Z(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,$s),Z(n)?We("",!0):(Q(),he("div",{key:0,id:`${Z("vue-flow__aria-live")}-${Z(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},co(Z(o)),9,Os))],64))}});function Ds(e,t,n){return n===G.Left?e-t:n===G.Right?e+t:e}function Bs(e,t,n){return n===G.Top?e-t:n===G.Bottom?e+t:e}const Uo=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=G.Top,type:i}){return Ne("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:Ds(t,e,o),cy:Bs(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Uo.props=["radius","centerX","centerY","position","type"],Uo.compatConfig={MODE:3};const Ur=Uo,Vs=Ae({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:i,emits:r,nodesSelectionActive:a,noPanClassName:l,getEdgeTypes:s,removeSelectedEdges:u,findEdge:d,findNode:v,isValidConnection:g,multiSelectionActive:y,disableKeyboardA11y:b,elementsSelectable:C,edgesUpdatable:T,edgesFocusable:c,hooks:h}=$e(),f=ue(()=>d(e.id)),{emit:p,on:w}=os(f.value,r),_=Ut(Qn),S=an(),I=we(!1),P=we(!1),E=we(""),N=we(null),m=we("source"),O=we(null),j=Ce(()=>f.value.selectable===void 0?C.value:f.value.selectable),te=Ce(()=>f.value.updatable===void 0?T.value:f.value.updatable),W=Ce(()=>f.value.focusable===void 0?c.value:f.value.focusable);Xt(ts,e.id),Xt(ns,O);const le=ue(()=>f.value.class instanceof Function?f.value.class(f.value):f.value.class),ce=ue(()=>f.value.style instanceof Function?f.value.style(f.value):f.value.style),be=ue(()=>{var k;const A=f.value.type||"default",$=_==null?void 0:_[`edge-${A}`];if($)return $;let ee=(k=f.value.template)!=null?k:s.value[A];if(typeof ee=="string"&&S){const Y=Object.keys(S.appContext.components);Y&&Y.includes(A)&&(ee=nt(A,!1))}return ee&&typeof ee!="string"?ee:(r.error(new Fe(He.EDGE_TYPE_MISSING,ee)),!1)}),{handlePointerDown:ne}=$r({nodeId:E,handleId:N,type:m,isValidConnection:g,edgeUpdaterType:m,onEdgeUpdate:function(A,$){p.update({event:A,edge:f.value,connection:$})},onEdgeUpdateEnd:function(A){p.updateEnd({event:A,edge:f.value}),P.value=!1}});return()=>{const A=v(f.value.source),$=v(f.value.target),ee="pathOptions"in f.value?f.value.pathOptions:{};if(!A&&!$)return r.error(new Fe(He.EDGE_SOURCE_TARGET_MISSING,f.value.id,f.value.source,f.value.target)),null;if(!A)return r.error(new Fe(He.EDGE_SOURCE_MISSING,f.value.id,f.value.source)),null;if(!$)return r.error(new Fe(He.EDGE_TARGET_MISSING,f.value.id,f.value.target)),null;if(!f.value||f.value.hidden||A.hidden||$.hidden)return null;let k;k=o.value===zt.Strict?A.handleBounds.source:[...A.handleBounds.source||[],...A.handleBounds.target||[]];const Y=wr(k,f.value.sourceHandle);let q;q=o.value===zt.Strict?$.handleBounds.target:[...$.handleBounds.target||[],...$.handleBounds.source||[]];const M=wr(q,f.value.targetHandle),X=(Y==null?void 0:Y.position)||G.Bottom,ie=(M==null?void 0:M.position)||G.Top,{x:ve,y:ge}=Wn(A,Y,X),{x:_e,y:de}=Wn($,M,ie);return f.value.sourceX=ve,f.value.sourceY=ge,f.value.targetX=_e,f.value.targetY=de,Ne("g",{ref:O,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${be.value===!1?"default":f.value.type||"default"}`,l.value,le.value,{updating:I.value,selected:f.value.selected,animated:f.value.animated,inactive:!j.value&&!h.value.edgeClick.hasListeners()}],onClick:ke,onContextmenu:De,onDblclick:Ie,onMouseenter:Me,onMousemove:K,onMouseleave:se,onKeyDown:W.value?oe:void 0,tabIndex:W.value?0:void 0,"aria-label":f.value.ariaLabel===null?void 0:f.value.ariaLabel||`Edge from ${f.value.source} to ${f.value.target}`,"aria-describedby":W.value?`${qi}-${t}`:void 0,role:W.value?"button":"img"},[P.value?null:Ne(be.value===!1?s.value.default:be.value,L({id:e.id,sourceNode:A,targetNode:$,source:f.value.source,target:f.value.target,type:f.value.type,updatable:te.value,selected:f.value.selected,animated:f.value.animated,label:f.value.label,labelStyle:f.value.labelStyle,labelShowBg:f.value.labelShowBg,labelBgStyle:f.value.labelBgStyle,labelBgPadding:f.value.labelBgPadding,labelBgBorderRadius:f.value.labelBgBorderRadius,data:f.value.data,events:L(L({},f.value.events),w),style:ce.value,markerStart:`url('#${Nn(f.value.markerStart,t)}')`,markerEnd:`url('#${Nn(f.value.markerEnd,t)}')`,sourcePosition:X,targetPosition:ie,sourceX:ve,sourceY:ge,targetX:_e,targetY:de,sourceHandleId:f.value.sourceHandle,targetHandleId:f.value.targetHandle,interactionWidth:f.value.interactionWidth},ee)),[te.value==="source"||te.value===!0?[Ne("g",{onMousedown:re,onMouseenter:R,onMouseout:ae},Ne(Ur,{position:X,centerX:ve,centerY:ge,radius:i.value,type:"source","data-type":"source"}))]:null,te.value==="target"||te.value===!0?[Ne("g",{onMousedown:F,onMouseenter:R,onMouseout:ae},Ne(Ur,{position:ie,centerX:_e,centerY:de,radius:i.value,type:"target","data-type":"target"}))]:null]])};function R(){I.value=!0}function ae(){I.value=!1}function fe(A,$){var ee;A.button===0&&(P.value=!0,E.value=$?f.value.target:f.value.source,N.value=(ee=$?f.value.targetHandle:f.value.sourceHandle)!=null?ee:"",m.value=$?"target":"source",p.updateStart({event:A,edge:f.value}),ne(A))}function ke(A){var $;const ee={event:A,edge:f.value};j.value&&(a.value=!1,f.value.selected&&y.value?(u([f.value]),($=O.value)==null||$.blur()):n([f.value])),p.click(ee)}function De(A){p.contextMenu({event:A,edge:f.value})}function Ie(A){p.doubleClick({event:A,edge:f.value})}function Me(A){p.mouseEnter({event:A,edge:f.value})}function K(A){p.mouseMove({event:A,edge:f.value})}function se(A){p.mouseLeave({event:A,edge:f.value})}function re(A){fe(A,!0)}function F(A){fe(A,!1)}function oe(A){var $;!b.value&&Ji.includes(A.key)&&j.value&&(A.key==="Escape"?(($=O.value)==null||$.blur(),u([d(e.id)])):n([d(e.id)]))}}}),Rs={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},Hs=Ae({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:i,connectionPosition:r,connectionLineType:a,connectionLineStyle:l,connectionLineOptions:s,connectionStatus:u,viewport:d,findNode:v}=$e(),g=(e=Ut(Qn))==null?void 0:e["connection-line"],y=ue(()=>{var h;return v((h=o.value)==null?void 0:h.nodeId)}),b=ue(()=>{var f;var h;return(f=v((h=i.value)==null?void 0:h.nodeId))!=null?f:null}),C=ue(()=>({x:(r.value.x-d.value.x)/d.value.zoom,y:(r.value.y-d.value.y)/d.value.zoom})),T=ue(()=>s.value.markerStart?`url(#${Nn(s.value.markerStart,t)})`:""),c=ue(()=>s.value.markerEnd?`url(#${Nn(s.value.markerEnd,t)})`:"");return()=>{var be,ne,R,ae;var h,f,p,w;if(!y.value||!o.value)return null;const _=o.value.handleId,S=o.value.type,I=y.value.handleBounds;let P=(I==null?void 0:I[S])||[];if(n.value===zt.Loose){const fe=(I==null?void 0:I[S==="source"?"target":"source"])||[];P=[...P,...fe]}if(!P)return null;const E=(be=_?P.find(fe=>fe.id===_):P[0])!=null?be:null,N=(E==null?void 0:E.position)||G.Top,{x:m,y:O}=Wn(y.value,E,N);let j=null;b.value&&((h=i.value)!=null&&h.handleId)&&(j=n.value===zt.Strict?((f=b.value.handleBounds[S==="source"?"target":"source"])==null?void 0:f.find(fe=>{var ke;return fe.id===((ke=i.value)==null?void 0:ke.handleId)}))||null:((p=[...b.value.handleBounds.source||[],...b.value.handleBounds.target||[]])==null?void 0:p.find(fe=>{var ke;return fe.id===((ke=i.value)==null?void 0:ke.handleId)}))||null);const te=(ne=(w=i.value)==null?void 0:w.position)!=null?ne:N?Rs[N]:null;if(!N||!te)return null;const W=(ae=(R=a.value)!=null?R:s.value.type)!=null?ae:Ot.Bezier;let le="";const ce={sourceX:m,sourceY:O,sourcePosition:N,targetX:C.value.x,targetY:C.value.y,targetPosition:te};return W===Ot.Bezier?[le]=Hr(ce):W===Ot.Step?[le]=ao(Ze(L({},ce),{borderRadius:0})):W===Ot.SmoothStep?[le]=ao(ce):W===Ot.SimpleBezier?[le]=Yr(ce):le=`M${m},${O} ${C.value.x},${C.value.y}`,Ne("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ne("g",{class:"vue-flow__connection"},g?Ne(g,{sourceX:m,sourceY:O,sourcePosition:N,targetX:C.value.x,targetY:C.value.y,targetPosition:te,sourceNode:y.value,sourceHandle:E,targetNode:b.value,targetHandle:j,markerEnd:c.value,markerStart:T.value,connectionStatus:u.value}):Ne("path",{d:le,class:[s.value.class,u,"vue-flow__connection-path"],style:L(L({},l.value),s.value.style),"marker-end":c.value,"marker-start":T.value})))}}}),Ls=["id","markerWidth","markerHeight","markerUnits","orient"],Ys=Ae({name:"MarkerType",compatConfig:{MODE:3},props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup:e=>(t,n)=>(Q(),he("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Z(Nt).ArrowClosed?(Q(),he("polyline",{key:0,style:ft({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):We("",!0),t.type===Z(Nt).Arrow?(Q(),he("polyline",{key:1,style:ft({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):We("",!0)],8,Ls))}),Gs={class:"vue-flow__marker vue-flow__container"},Fs=Ae({name:"MarkerDefinitions",compatConfig:{MODE:3},setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:i}=$e(),r=ue(()=>{const a=new Set,l=[],s=u=>{if(u){const d=Nn(u,t);a.has(d)||(typeof u=="object"?l.push(Ze(L({},u),{id:d,color:u.color||i.value})):l.push({id:d,color:i.value,type:u}),a.add(d))}};for(const u of[o.value.markerEnd,o.value.markerStart])s(u);for(const u of n.value)for(const d of[u.markerStart,u.markerEnd])s(d);return l.sort((u,d)=>u.id.localeCompare(d.id))});return(a,l)=>(Q(),he("svg",Gs,[Ue("defs",null,[(Q(!0),he(rt,null,fo(r.value,s=>(Q(),Qe(Ys,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,"stroke-width":s.strokeWidth,orient:s.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Xs=Ae({name:"Edges",compatConfig:{MODE:3},setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=$e();return(i,r)=>(Q(),he(rt,null,[Pe(Fs),(Q(!0),he(rt,null,fo(Z(n),a=>(Q(),he("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:ft({zIndex:Z(Jl)(a,Z(t),Z(o))})},[Pe(Z(Vs),{id:a.id},null,8,["id"])],4))),128)),Pe(Z(Hs))],64))}}),Us=Ae({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:i,multiSelectionActive:r,emits:a,removeSelectedNodes:l,addSelectedNodes:s,updateNodeDimensions:u,onUpdateNodeInternals:d,getNodeTypes:v,nodeExtent:g,elevateNodesOnSelect:y,disableKeyboardA11y:b,ariaLiveMessage:C,snapToGrid:T,snapGrid:c,nodeDragThreshold:h,nodesDraggable:f,elementsSelectable:p,nodesConnectable:w,nodesFocusable:_,hooks:S}=$e(),I=we(null);Xt(Tr,I),Xt(Pr,e.id);const P=Ut(Qn),E=an(),N=zr(),{node:m,parentNode:O}=Or(e.id),{emit:j,on:te}=is(m,a),W=Ce(()=>m.draggable===void 0?f.value:m.draggable),le=Ce(()=>m.selectable===void 0?p.value:m.selectable),ce=Ce(()=>m.connectable===void 0?w.value:m.connectable),be=Ce(()=>m.focusable===void 0?_.value:m.focusable),ne=Ce(()=>le.value||W.value||S.value.nodeClick.hasListeners()||S.value.nodeDoubleClick.hasListeners()||S.value.nodeMouseEnter.hasListeners()||S.value.nodeMouseMove.hasListeners()||S.value.nodeMouseLeave.hasListeners()),R=Ce(()=>!!m.dimensions.width&&!!m.dimensions.height),ae=ue(()=>{const k=m.type||"default",Y=P==null?void 0:P[`node-${k}`];if(Y)return Y;let q=m.template||v.value[k];if(typeof q=="string"&&E){const M=Object.keys(E.appContext.components);M&&M.includes(k)&&(q=nt(k,!1))}return q&&typeof q!="string"?q:(a.error(new Fe(He.NODE_TYPE_MISSING,q)),!1)}),fe=Ar({id:e.id,el:I,disabled:()=>!W.value,selectable:le,dragHandle:()=>m.dragHandle,onStart(k){j.dragStart(k)},onDrag(k){j.drag(k)},onStop(k){j.dragStop(k)},onClick(k){$(k)}}),ke=ue(()=>m.class instanceof Function?m.class(m):m.class),De=ue(()=>{const k=(m.style instanceof Function?m.style(m):m.style)||{},Y=m.width instanceof Function?m.width(m):m.width,q=m.height instanceof Function?m.height(m):m.height;return!k.width&&Y&&(k.width=typeof Y=="string"?Y:`${Y}px`),!k.height&&q&&(k.height=typeof q=="string"?q:`${q}px`),k}),Ie=Ce(()=>{var k,Y;return Number((Y=(k=m.zIndex)!=null?k:De.value.zIndex)!=null?Y:0)});return d(k=>{!k.includes(e.id)&&k.length||K()}),ct(()=>{Se(()=>m.hidden,(k=!1,Y,q)=>{!k&&I.value&&(e.resizeObserver.observe(I.value),q(()=>{I.value&&e.resizeObserver.unobserve(I.value)}))},{immediate:!0,flush:"post"})}),Se([()=>m.type,()=>m.sourcePosition,()=>m.targetPosition],()=>{mt(()=>{u([{id:e.id,nodeElement:I.value,forceUpdate:!0}])})}),Se([()=>m.position.x,()=>m.position.y,()=>{var k;return(k=O.value)==null?void 0:k.computedPosition.x},()=>{var k;return(k=O.value)==null?void 0:k.computedPosition.y},()=>{var k;return(k=O.value)==null?void 0:k.computedPosition.z},Ie,()=>m.selected,()=>m.dimensions.height,()=>m.dimensions.width,()=>{var k;return(k=O.value)==null?void 0:k.dimensions.height},()=>{var k;return(k=O.value)==null?void 0:k.dimensions.width}],([k,Y,q,M,X,ie])=>{const ve={x:k,y:Y,z:ie+(y.value&&m.selected?1e3:0)};var ge,_e;m.computedPosition=q!==void 0&&M!==void 0?{x:(_e=ve).x+(ge={x:q,y:M,z:X}).x,y:_e.y+ge.y,z:(ge.z>_e.z?ge.z:_e.z)+1}:ve},{flush:"post",immediate:!0}),Se([()=>m.extent,g],([k,Y],[q,M])=>{k===q&&Y===M||Me()}),m.extent==="parent"||typeof m.extent=="object"&&"range"in m.extent&&m.extent.range==="parent"?go(()=>R).toBe(!0).then(Me):Me(),()=>{var k,Y;return m.hidden?null:Ne("div",{ref:I,"data-id":m.id,class:["vue-flow__node",`vue-flow__node-${ae.value===!1?"default":m.type||"default"}`,{[n.value]:W.value,dragging:fe==null?void 0:fe.value,draggable:W.value,selected:m.selected,selectable:le.value,parent:m.isParent},ke.value],style:L({visibility:R.value?"visible":"hidden",zIndex:(k=m.computedPosition.z)!=null?k:Ie.value,transform:`translate(${m.computedPosition.x}px,${m.computedPosition.y}px)`,pointerEvents:ne.value?"all":"none"},De.value),tabIndex:be.value?0:void 0,role:be.value?"button":void 0,"aria-describedby":b.value?void 0:`${Ki}-${t}`,"aria-label":m.ariaLabel,onMouseenter:se,onMousemove:re,onMouseleave:F,onContextmenu:oe,onClick:$,onDblclick:A,onKeydown:ee},[Ne(ae.value===!1?v.value.default:ae.value,{id:m.id,type:m.type,data:m.data,events:L(L({},m.events),te),selected:m.selected,resizing:m.resizing,dragging:fe.value,connectable:ce.value,position:m.computedPosition,dimensions:m.dimensions,isValidTargetPos:m.isValidTargetPos,isValidSourcePos:m.isValidSourcePos,parent:m.parentNode,parentNodeId:m.parentNode,zIndex:(Y=m.computedPosition.z)!=null?Y:Ie.value,targetPosition:m.targetPosition,sourcePosition:m.sourcePosition,label:m.label,dragHandle:m.dragHandle,onUpdateNodeInternals:K})])};function Me(){const k=m.computedPosition,{computedPosition:Y,position:q}=Ho(m,T.value?qn(k,c.value):k,a.error,g.value,O.value);m.computedPosition.x===Y.x&&m.computedPosition.y===Y.y||(m.computedPosition=L(L({},m.computedPosition),Y)),m.position.x===q.x&&m.position.y===q.y||(m.position=q)}function K(){I.value&&u([{id:e.id,nodeElement:I.value,forceUpdate:!0}])}function se(k){fe!=null&&fe.value||j.mouseEnter({event:k,node:m})}function re(k){fe!=null&&fe.value||j.mouseMove({event:k,node:m})}function F(k){fe!=null&&fe.value||j.mouseLeave({event:k,node:m})}function oe(k){return j.contextMenu({event:k,node:m})}function A(k){return j.doubleClick({event:k,node:m})}function $(k){le.value&&(!o.value||!W.value||h.value>0)&&Fo(m,r.value,s,l,i,!1,I.value),j.click({event:k,node:m})}function ee(k){if(!zo(k)&&!b.value)if(Ji.includes(k.key)&&le.value){const Y=k.key==="Escape";Fo(m,r.value,s,l,i,Y,I.value)}else W.value&&m.selected&&tn[k.key]&&(C.value=`Moved selected node ${k.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~m.position.x}, y: ${~~m.position.y}`,N({x:tn[k.key].x,y:tn[k.key].y},k.shiftKey))}}}),Zs={class:"vue-flow__nodes vue-flow__container"},js=Ae({name:"Nodes",compatConfig:{MODE:3},setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=$e(),i=function(a={includeHiddenNodes:!1}){const{nodes:l}=$e();return ue(()=>{if(l.value.length===0)return!1;for(const s of l.value)if((a.includeHiddenNodes||!s.hidden)&&((s==null?void 0:s.handleBounds)===void 0||s.dimensions.width===0||s.dimensions.height===0))return!1;return!0})}(),r=we();return Se(i,a=>{a&&mt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),ct(()=>{r.value=new ResizeObserver(a=>{const l=a.map(s=>({id:s.target.getAttribute("data-id"),nodeElement:s.target,forceUpdate:!0}));mt(()=>n(l))})}),ei(()=>{var a;return(a=r.value)==null?void 0:a.disconnect()}),(a,l)=>(Q(),he("div",Zs,[r.value?(Q(!0),he(rt,{key:0},fo(Z(t),(s,u,d,v)=>{const g=[s.id];if(v&&v.key===s.id&&Qr(v,g))return v;const y=(Q(),Qe(Z(Us),{id:s.id,key:s.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return y.memo=g,y},l,0),128)):We("",!0)]))}}),Ws=Ue("div",{class:"vue-flow__edge-labels"},null,-1),Ks=Ae({name:"VueFlow",compatConfig:{MODE:3},props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=Kr(),r=mo(o,"modelValue",n),a=mo(o,"nodes",n),l=mo(o,"edges",n),s=$e(o),u=as({modelValue:r,nodes:a,edges:l},o,s);return function(d,v){qr(()=>{for(const[g,y]of Object.entries(v.value)){const b=C=>{d(g,C)};y.fns.add(b),In(()=>{y.off(b)})}})}(n,s.hooks),function(){const d=$e();Se(()=>d.viewportHelper.value.viewportInitialized,v=>{v&&setTimeout(()=>{d.emits.init(d),d.emits.paneReady(d)},1)})}(),function(){const{emits:d}=$e();ct(()=>{if(Sr()){const v=document.querySelector(".vue-flow__pane");v&&window.getComputedStyle(v).zIndex!=="1"&&d.error(new Fe(He.MISSING_STYLES))}})}(),Xt(Qn,i),qo(()=>{u()}),t(s),(d,v)=>(Q(),he("div",{ref:Z(s).vueFlowRef,class:"vue-flow"},[Pe(Ts,null,{default:je(()=>[Pe(Xs),Ws,Pe(js),Re(d.$slots,"zoom-pane")]),_:3}),Re(d.$slots,"default"),Pe(zs)],512))}}),qs=Ae({name:"Panel",compatConfig:{MODE:3},props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=$e(),o=ue(()=>`${t.position}`.split("-"));return(i,r)=>(Q(),he("div",{class:Pt(["vue-flow__panel",o.value]),style:ft({pointerEvents:Z(n)?"none":"all"})},[Re(i.$slots,"default")],6))}}),Js={class:"vue-flow__controls-button"},lo=((e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n})({name:"ControlButton",compatConfig:{MODE:3}},[["render",function(e,t,n,o,i,r){return Q(),he("button",Js,[Re(e.$slots,"default")])}]]),Qs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},eu=[Ue("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1)],tu={render:function(e,t){return Q(),he("svg",Qs,eu)}},nu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ou=[Ue("path",{d:"M0 0h32v4.2H0z"},null,-1)],iu={render:function(e,t){return Q(),he("svg",nu,ou)}},ru={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},au=[Ue("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1)],lu={render:function(e,t){return Q(),he("svg",ru,au)}},su={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},uu=[Ue("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1)],du={render:function(e,t){return Q(),he("svg",su,uu)}},cu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fu=[Ue("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1)],vu={render:function(e,t){return Q(),he("svg",cu,fu)}},hu=Ae({name:"Controls",compatConfig:{MODE:3},props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>ji.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:i,setInteractive:r,zoomIn:a,zoomOut:l,fitView:s,viewport:u,minZoom:d,maxZoom:v}=$e(),g=Ce(()=>n.value||o.value||i.value),y=Ce(()=>u.value.zoom<=d.value),b=Ce(()=>u.value.zoom>=v.value);function C(){a(),t("zoomIn")}function T(){l(),t("zoomOut")}function c(){s(e.fitViewParams),t("fitView")}function h(){r(!g.value),t("interactionChange",!g.value)}return(f,p)=>(Q(),Qe(Z(qs),{class:"vue-flow__controls",position:f.position},{default:je(()=>[Re(f.$slots,"top"),f.showZoom?(Q(),he(rt,{key:0},[Re(f.$slots,"control-zoom-in",{},()=>[Pe(lo,{class:"vue-flow__controls-zoomin",disabled:b.value,onClick:C},{default:je(()=>[Re(f.$slots,"icon-zoom-in",{},()=>[(Q(),Qe(jt(Z(tu))))])]),_:3},8,["disabled"])]),Re(f.$slots,"control-zoom-out",{},()=>[Pe(lo,{class:"vue-flow__controls-zoomout",disabled:y.value,onClick:T},{default:je(()=>[Re(f.$slots,"icon-zoom-out",{},()=>[(Q(),Qe(jt(Z(iu))))])]),_:3},8,["disabled"])])],64)):We("",!0),f.showFitView?Re(f.$slots,"control-fit-view",{key:1},()=>[Pe(lo,{class:"vue-flow__controls-fitview",onClick:c},{default:je(()=>[Re(f.$slots,"icon-fit-view",{},()=>[(Q(),Qe(jt(Z(lu))))])]),_:3})]):We("",!0),f.showInteractive?Re(f.$slots,"control-interactive",{key:2},()=>[f.showInteractive?(Q(),Qe(lo,{key:0,class:"vue-flow__controls-interactive",onClick:h},{default:je(()=>[g.value?Re(f.$slots,"icon-unlock",{key:0},()=>[(Q(),Qe(jt(Z(vu))))]):We("",!0),g.value?We("",!0):Re(f.$slots,"icon-lock",{key:1},()=>[(Q(),Qe(jt(Z(du))))])]),_:3})):We("",!0)]):We("",!0),Re(f.$slots,"default")]),_:3},8,["position"]))}}),pu={class:"custom-node"},gu=ln({components:{Handle:Vt},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G})},[["render",function(e,t,n,o,i,r){const a=nt("handle");return Q(),he("div",pu,[t[0]||(t[0]=Ue("div",{class:"start"},"\u5F00\u59CB",-1)),Pe(a,{id:"source-a",type:"source",position:o.Position.Left,style:{top:"40px",left:"30px",opacity:"0"}},null,8,["position"])])}]]),mu=ln({components:{Handle:Vt},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G,add:()=>{}})},[["render",function(e,t,n,o,i,r){const a=nt("Handle");return Q(),he("div",{class:"custom-node",onClick:t[0]||(t[0]=(...l)=>o.add&&o.add(...l))},[t[1]||(t[1]=Ue("div",null,"\u7ED3\u675F",-1)),Pe(a,{id:"source-a",type:"source",position:o.Position.Left,style:{opacity:"0"}},null,8,["position"])])}]]),yu=["d"],wu=["transform","d"],xu={class:"flow-container"},bu=ln({components:{VueFlow:Ks,startNode:gu,customizeNode:ln({components:{Handle:Vt},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G,add:()=>{}})},[["render",function(e,t,n,o,i,r){const a=nt("Handle");return Q(),he("div",{class:"custom-node",onClick:t[0]||(t[0]=(...l)=>o.add&&o.add(...l))},[t[1]||(t[1]=Ue("div",null,"\u81EA\u5B9A\u4E49\u5185\u5BB9",-1)),Pe(a,{id:"source-a",type:"target",position:o.Position.Left,style:{opacity:"0"}},null,8,["position"]),Pe(a,{id:"source-a",type:"source",position:o.Position.Left,style:{top:"40px",left:"30px",opacity:"0"}},null,8,["position"])])}],["__scopeId","data-v-6ecb1496"]]),endNode:mu,customEdge:ln({props:["sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition","borderRadius","centerX","centerY","offset"],setup(e){const t=ue(()=>ao(e)[0]);return{transform:ue(()=>function(n){const{targetPosition:o}=n;if(o==="top")return`rotate(0 ${n.targetX} ${n.targetY})`;if(o==="bottom")return`rotate(180 ${n.targetX} ${n.targetY})`;if(o==="left")return`rotate(-90 ${n.targetX} ${n.targetY})`;if(o==="right")return`rotate(90 ${n.targetX} ${n.targetY})`}(e)),path:t}}},[["render",function(e,t,n,o,i,r){return Q(),he("g",null,[Ue("path",{d:o.path,fill:"none",stroke:"#d9d9d9","stroke-width":"1"},null,8,yu),Ue("path",{transform:o.transform,d:`M ${n.targetX} ${n.targetY+1} L ${n.targetX-5} ${n.targetY-6} L ${n.targetX+5} ${n.targetY-6} Z`,fill:"#d9d9d9",stroke:"none"},null,8,wu)])}]]),Controls:hu},setup(e){const t=we(null),n=we({zoom:1}),o=we([{id:"start",type:"start",position:{x:50,y:50},data:{label:"start",ceshi:1}},{id:"1",type:"customize",position:{x:100,y:110},data:{label:"Node 1"}},{id:"2",type:"customize",position:{x:150,y:250},data:{label:"Node 2"}},{id:"end",type:"end",position:{x:200,y:350},data:{label:"end"}}]),i=we([{id:"e1->2",type:"custom",source:"start",target:"1",markerEnd:Nt.Arrow,style:{stroke:"#d9d9d9",strokeWidth:.5},class:"normal-edge"},{id:"e1->3",type:"custom",source:"start",target:"2",markerEnd:Nt.Arrow,style:{stroke:"#d9d9d9",strokeWidth:1},class:"normal-edge"},{id:"e1->4",type:"custom",source:"start",target:"end",markerEnd:Nt.Arrow,style:{stroke:"#d9d9d9",strokeWidth:1},class:"normal-edge"},{id:"e2->3",type:"custom",source:"1",target:"2",style:{stroke:"#d9d9d9",strokeWidth:1},markerEnd:Nt.Arrow,class:"normal-edge"},{id:"e2->4",type:"custom",source:"2",target:"end",style:{stroke:"#d9d9d9",strokeWidth:1},markerEnd:Nt.Arrow,class:"normal-edge"}]);return ct(()=>{t.value.setMinZoom(.2)}),{zoomBtnClick:r=>{r==1?t&&t.value.zoomIn(.2):t&&t.value.zoomOut(.2)},vueFlowRef:t,nodes:o,edges:i,defaultViewport:n}}},[["render",function(e,t,n,o,i,r){const a=nt("a-button"),l=nt("Controls"),s=nt("startNode"),u=nt("customizeNode"),d=nt("endNode"),v=nt("customEdge"),g=nt("VueFlow");return Q(),he("div",xu,[Pe(a,{onClick:t[0]||(t[0]=y=>o.zoomBtnClick(1))},{default:je(()=>t[2]||(t[2]=[ho("\u653E\u5927")])),_:1}),Pe(a,{onClick:t[1]||(t[1]=y=>o.zoomBtnClick(2))},{default:je(()=>t[3]||(t[3]=[ho("\u7F29\u5C0F")])),_:1}),Pe(g,{nodes:o.nodes,edges:o.edges,"nodes-draggable":!1,"default-viewport":o.defaultViewport,"max-zoom":4,"min-zoom":.1,ref:"vueFlowRef"},{"node-start":je(y=>[Pe(s,sn(un(y)),null,16)]),"node-customize":je(y=>[Pe(u,sn(un(y)),null,16)]),"node-end":je(y=>[Pe(d,sn(un(y)),null,16)]),"edge-custom":je(y=>[Pe(v,sn(un(y)),null,16)]),"connection-line":je(y=>[Pe(v,sn(un(y)),null,16)]),default:je(()=>[Pe(l)]),_:1},8,["nodes","edges","default-viewport"])])}],["__scopeId","data-v-08cedbf7"]]);export{bu as default};
