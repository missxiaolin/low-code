import{_export_sfc as e,ref as a,resolveComponent as t,openBlock as l,createBlock as o,withCtx as r,createVNode as u,createElementBlock as n,Fragment as s,renderList as i,createBaseVNode as c,createTextVNode as f}from"./index-CR_1l9OE.js";const m={class:"prams-form-item"};const d=e({name:"request",props:{config:{type:Object,default:()=>({})}},emits:["save"],setup(e,{emit:t,expose:l}){const o=a(null),r=a({requestUrl:e.config&&e.config.requestUrl?e.config.requestUrl:"",requestMethod:e.config&&e.config.requestMethod?e.config.requestMethod:"",activeKey:e.config&&e.config.activeKey?e.config.activeKey:"requestParams",requestParams:e.config&&e.config.requestParams?e.config.requestParams:[],requestParamsScript:e.config&&e.config.requestParamsScript?e.config.requestParamsScript:"(function (ctx) {\n  // TODO\n                    \n})(ctx)"}),u=a([{label:"POST",value:"post"},{label:"GET",value:"get"}]),n=()=>{t("save",r.value)};return l({onFinish:n}),{formRef:o,form:r,onFinish:n,options:u,addParams:()=>{r.value.requestParams.push({key:"",value:""})},delPrams:e=>{r.value.requestParams.splice(e,1)}}}},[["render",function(e,a,d,p,v,q){const P=t("a-input"),y=t("a-form-item"),g=t("a-select"),b=t("MinusCircleOutlined"),h=t("PlusOutlined"),_=t("a-button"),k=t("a-tab-pane"),U=t("a-textarea"),C=t("a-tabs"),x=t("a-form");return l(),o(x,{model:p.form,ref:"formRef",labelCol:{style:{width:"55px"}}},{default:r((()=>[u(y,{name:"url",label:"请求url"},{default:r((()=>[u(P,{value:p.form.requestUrl,"onUpdate:value":a[0]||(a[0]=e=>p.form.requestUrl=e)},null,8,["value"])])),_:1}),u(y,{name:"method",label:"请求方式"},{default:r((()=>[u(g,{options:p.options,getPopupContainer:e=>e.parentNode,value:p.form.requestMethod,"onUpdate:value":a[1]||(a[1]=e=>p.form.requestMethod=e)},null,8,["options","getPopupContainer","value"])])),_:1}),u(C,{activeKey:p.form.activeKey,"onUpdate:activeKey":a[3]||(a[3]=e=>p.form.activeKey=e)},{default:r((()=>[u(k,{key:"requestParams",tab:"参数"},{default:r((()=>[(l(!0),n(s,null,i(p.form.requestParams,((e,a)=>(l(),o(y,{key:a},{default:r((()=>[c("div",m,[u(P,{value:e.key,"onUpdate:value":a=>e.key=a,placeholder:"key"},null,8,["value","onUpdate:value"]),u(P,{value:e.value,"onUpdate:value":a=>e.value=a,placeholder:"value"},null,8,["value","onUpdate:value"]),u(b,{onClick:e=>p.delPrams(a)},null,8,["onClick"])])])),_:2},1024)))),128)),u(y,null,{default:r((()=>[u(_,{type:"dashed",style:{width:"100%"},onClick:p.addParams},{default:r((()=>[u(h),a[4]||(a[4]=f(" 添加字段 "))])),_:1},8,["onClick"])])),_:1})])),_:1}),u(k,{key:"script",tab:"脚本"},{default:r((()=>[u(y,{name:"requestParamsScript",label:"脚本"},{default:r((()=>[u(U,{value:p.form.requestParamsScript,"onUpdate:value":a[2]||(a[2]=e=>p.form.requestParamsScript=e),placeholder:"function","auto-size":{minRows:2,maxRows:5}},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["activeKey"]),u(y,{class:"form-bottom-box"},{default:r((()=>[u(_,{type:"primary",onClick:p.onFinish},{default:r((()=>a[5]||(a[5]=[f("保存")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])}],["__scopeId","data-v-03eb0ab1"]]);export{d as default};
