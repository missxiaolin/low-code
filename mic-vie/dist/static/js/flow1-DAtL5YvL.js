var vd=Object.defineProperty,hd=Object.defineProperties;var pd=Object.getOwnPropertyDescriptors;var Eo=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable;var vn=Math.pow,fa=(Te,ze,Ae)=>ze in Te?vd(Te,ze,{enumerable:!0,configurable:!0,writable:!0,value:Ae}):Te[ze]=Ae,L=(Te,ze)=>{for(var Ae in ze||(ze={}))va.call(ze,Ae)&&fa(Te,Ae,ze[Ae]);if(Eo)for(var Ae of Eo(ze))ha.call(ze,Ae)&&fa(Te,Ae,ze[Ae]);return Te},Ze=(Te,ze)=>hd(Te,pd(ze));var hn=(Te,ze)=>{var Ae={};for(var qe in Te)va.call(Te,qe)&&ze.indexOf(qe)<0&&(Ae[qe]=Te[qe]);if(Te!=null&&Eo)for(var qe of Eo(Te))ze.indexOf(qe)<0&&ha.call(Te,qe)&&(Ae[qe]=Te[qe]);return Ae};var ci=(Te,ze,Ae)=>new Promise((qe,Z)=>{var So=pt=>{try{ye(Ae.next(pt))}catch(ge){Z(ge)}},No=pt=>{try{ye(Ae.throw(pt))}catch(ge){Z(ge)}},ye=pt=>pt.done?qe(pt.value):Promise.resolve(pt.value).then(So,No);ye((Ae=Ae.apply(Te,ze)).next())});import{i as kt,_ as Hn,__tla as gd}from"./index-Cbtojdfa.js";let pa,md=Promise.all([(()=>{try{return gd}catch(Te){}})()]).then(()=>ci(void 0,null,function*(){const{getCurrentScope:Te,onScopeDispose:ze,isRef:Ae,reactive:qe,unref:Z,toRefs:So,customRef:No,ref:ye,readonly:pt,watch:ge,getCurrentInstance:pn,nextTick:gt,computed:se,toRef:$e,toValue:me,onMounted:mt,markRaw:Kt,inject:qt,effectScope:fi,onBeforeMount:ga,defineComponent:Oe,createPropsRestProxy:vi,onUnmounted:hi,openBlock:we,createElementBlock:Ce,normalizeClass:Dt,renderSlot:Ct,h:Ee,Fragment:lt,normalizeStyle:st,createCommentVNode:ut,createElementVNode:Bt,mergeProps:ma,createBlock:Jt,resolveDynamicComponent:ya,createTextVNode:wa,toDisplayString:ko,useAttrs:xa,provide:Qt,onBeforeUnmount:pi,createVNode:yt,withCtx:Co,resolveComponent:gi,renderList:Mo,Teleport:yd,isMemoSame:ba,useSlots:_a}=yield kt("vue");function Ln(e){return!!Te()&&(ze(e),!0)}function wt(e){return typeof e=="function"?e():Z(e)}const Ea=typeof window!="undefined"&&typeof document!="undefined",Sa=Object.prototype.toString,Na=()=>{},mi=e=>e();function yi(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function ka(e,t,n={}){const l=n,{eventFilter:o=mi}=l,i=hn(l,["eventFilter"]);return ge(e,(r=o,a=t,function(...s){return new Promise((u,d)=>{Promise.resolve(r(()=>a.apply(this,s),{fn:a,thisArg:this,args:s})).then(u).catch(d)})}),i);var r,a}function en(e,t,n={}){const u=n,{eventFilter:o}=u,i=hn(u,["eventFilter"]),{eventFilter:r,pause:a,resume:l,isActive:s}=function(d=mi){const v=ye(!0);return{isActive:pt(v),pause:function(){v.value=!1},resume:function(){v.value=!0},eventFilter:(...g)=>{v.value&&d(...g)}}}(o);return{stop:ka(e,t,Ze(L({},i),{eventFilter:r})),pause:a,resume:l,isActive:s}}function Ca(e,t={}){if(!Ae(e))return So(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=No(()=>({get:()=>e.value[o],set(i){var r;if((r=wt(t.replaceRef))==null||r)if(Array.isArray(e.value)){const a=[...e.value];a[o]=i,e.value=a}else{const a=Ze(L({},e.value),{[o]:i});Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=i}}));return n}function Io(e,t=!1){function n(a,{flush:l="sync",deep:s=!1,timeout:u,throwOnTimeout:d}={}){let v=null;const g=[new Promise(y=>{v=ge(e,b=>{a(b)!==t&&(v==null||v(),y(b))},{flush:l,deep:s,immediate:!0})})];return u!=null&&g.push(yi(u,d).then(()=>wt(e)).finally(()=>v==null?void 0:v())),Promise.race(g)}function o(a,l){if(!Ae(a))return n(b=>b===a,l);const{flush:s="sync",deep:u=!1,timeout:d,throwOnTimeout:v}=l!=null?l:{};let g=null;const y=[new Promise(b=>{g=ge([e,a],([M,T])=>{t!==(M===T)&&(g==null||g(),b(M))},{flush:s,deep:u,immediate:!0})})];return d!=null&&y.push(yi(d,v).then(()=>wt(e)).finally(()=>(g==null||g(),wt(e)))),Promise.race(y)}function i(a){return r(1,a)}function r(a=1,l){let s=-1;return n(()=>(s+=1,s>=a),l)}return Array.isArray(wt(e))?{toMatch:n,toContains:function(a,l){return n(s=>{const u=Array.from(s);return u.includes(a)||u.includes(wt(a))},l)},changed:i,changedTimes:r,get not(){return Io(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:function(a){return n(l=>!!l,a)},toBeNull:function(a){return o(null,a)},toBeNaN:function(a){return n(Number.isNaN,a)},toBeUndefined:function(a){return o(void 0,a)},changed:i,changedTimes:r,get not(){return Io(e,!t)}}}function Po(e){return Io(e)}function Ma(e){var t;const n=wt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const wi=Ea?window:void 0;function xi(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=wi):[t,n,o,i]=e,!t)return Na;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],a=()=>{r.forEach(u=>u()),r.length=0},l=ge(()=>[Ma(t),wt(i)],([u,d])=>{if(a(),!u)return;const v=(g=d,Sa.call(g)==="[object Object]"?L({},d):d);var g;r.push(...n.flatMap(y=>o.map(b=>((M,T,c,h)=>(M.addEventListener(T,c,h),()=>M.removeEventListener(T,c,h)))(u,y,b,v))))},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return Ln(s),s}function bi(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=wi,eventName:r="keydown",passive:a=!1,dedupe:l=!1}=o,s=typeof(u=t)=="function"?u:typeof u=="string"?d=>d.key===u:Array.isArray(u)?d=>u.includes(d.key):()=>!0;var u;return xi(i,r,d=>{d.repeat&&wt(l)||s(d)&&n(d)},a)}function To(e,t,n,o={}){var i,r,a;const{clone:l=!1,passive:s=!1,eventName:u,deep:d=!1,defaultValue:v,shouldEmit:g}=o,y=pn(),b=n||(y==null?void 0:y.emit)||((i=y==null?void 0:y.$emit)==null?void 0:i.bind(y))||((a=(r=y==null?void 0:y.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let M=u;t||(t="modelValue"),M=M||`update:${t.toString()}`;const T=f=>{return l?typeof l=="function"?l(f):(p=f,JSON.parse(JSON.stringify(p))):f;var p},c=()=>e[t]!==void 0?T(e[t]):v,h=f=>{g?g(f)&&b(M,f):b(M,f)};if(s){const f=c(),p=ye(f);let w=!1;return ge(()=>e[t],_=>{w||(w=!0,p.value=T(_),gt(()=>w=!1))}),ge(p,_=>{w||_===e[t]&&!d||h(_)},{deep:d}),p}return se({get:()=>c(),set(f){h(f)}})}var Ia={value:()=>{}};function Yn(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new Gn(o)}function Gn(e){this._=e}function Pa(e,t){for(var n,o=0,i=e.length;o<i;++o)if((n=e[o]).name===t)return n.value}function _i(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Ia,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}Gn.prototype=Yn.prototype={constructor:Gn,on:function(e,t){var n,o,i=this._,r=(o=i,(e+"").trim().split(/^|\s+/).map(function(s){var u="",d=s.indexOf(".");if(d>=0&&(u=s.slice(d+1),s=s.slice(0,d)),s&&!o.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:u}})),a=-1,l=r.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(n=(e=r[a]).type)i[n]=_i(i[n],e.name,t);else if(t==null)for(n in i)i[n]=_i(i[n],e.name,null);return this}for(;++a<l;)if((n=(e=r[a]).type)&&(n=Pa(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(o=this._[e]).length;r<n;++r)o[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};var Ao="http://www.w3.org/1999/xhtml";const Ei={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ei.hasOwnProperty(t)?{space:Ei[t],local:e}:e}function Ta(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ao&&t.documentElement.namespaceURI===Ao?t.createElement(e):t.createElementNS(n,e)}}function Aa(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Si(e){var t=Xn(e);return(t.local?Aa:Ta)(t)}function $a(){}function $o(e){return e==null?$a:function(){return this.querySelector(e)}}function Oa(){return[]}function Ni(e){return e==null?Oa:function(){return this.querySelectorAll(e)}}function za(e){return function(){return(t=e.apply(this,arguments))==null?[]:Array.isArray(t)?t:Array.from(t);var t}}function ki(e){return function(){return this.matches(e)}}function Ci(e){return function(t){return t.matches(e)}}var Da=Array.prototype.find;function Ba(){return this.firstElementChild}var Va=Array.prototype.filter;function Ra(){return Array.from(this.children)}function Mi(e){return new Array(e.length)}function Fn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ha(e,t,n,o,i,r){for(var a,l=0,s=t.length,u=r.length;l<u;++l)(a=t[l])?(a.__data__=r[l],o[l]=a):n[l]=new Fn(e,r[l]);for(;l<s;++l)(a=t[l])&&(i[l]=a)}function La(e,t,n,o,i,r,a){var l,s,u,d=new Map,v=t.length,g=r.length,y=new Array(v);for(l=0;l<v;++l)(s=t[l])&&(y[l]=u=a.call(s,s.__data__,l,t)+"",d.has(u)?i[l]=s:d.set(u,s));for(l=0;l<g;++l)u=a.call(e,r[l],l,r)+"",(s=d.get(u))?(o[l]=s,s.__data__=r[l],d.delete(u)):n[l]=new Fn(e,r[l]);for(l=0;l<v;++l)(s=t[l])&&d.get(y[l])===s&&(i[l]=s)}function Ya(e){return e.__data__}function Ga(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fa(e){return function(){this.removeAttribute(e)}}function Ua(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Za(e,t){return function(){this.setAttribute(e,t)}}function ja(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ka(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ii(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qa(e){return function(){this.style.removeProperty(e)}}function Ja(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Qa(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function tn(e,t){return e.style.getPropertyValue(t)||Ii(e).getComputedStyle(e,null).getPropertyValue(t)}function el(e){return function(){delete this[e]}}function tl(e,t){return function(){this[e]=t}}function nl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pi(e){return e.trim().split(/^|\s+/)}function Oo(e){return e.classList||new Ti(e)}function Ti(e){this._node=e,this._names=Pi(e.getAttribute("class")||"")}function Ai(e,t){for(var n=Oo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function $i(e,t){for(var n=Oo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function ol(e){return function(){Ai(this,e)}}function il(e){return function(){$i(this,e)}}function rl(e,t){return function(){(t.apply(this,arguments)?Ai:$i)(this,e)}}function al(){this.textContent=""}function ll(e){return function(){this.textContent=e}}function sl(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function ul(){this.innerHTML=""}function dl(e){return function(){this.innerHTML=e}}function cl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function fl(){this.nextSibling&&this.parentNode.appendChild(this)}function vl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hl(){return null}function pl(){var e=this.parentNode;e&&e.removeChild(this)}function gl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ml(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yl(e){return function(){var t=this.__on;if(t){for(var n,o=0,i=-1,r=t.length;o<r;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function wl(e,t,n){return function(){var o,i=this.__on,r=function(s){return function(u){s.call(this,u,this.__data__)}}(t);if(i){for(var a=0,l=i.length;a<l;++a)if((o=i[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),void(o.value=t)}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Oi(e,t,n){var o=Ii(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xl(e,t){return function(){return Oi(this,e,t)}}function bl(e,t){return function(){return Oi(this,e,t.apply(this,arguments))}}Fn.prototype={constructor:Fn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Ti.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var zi=[null];function Je(e,t){this._groups=e,this._parents=t}function gn(){return new Je([[document.documentElement]],zi)}function nt(e){return typeof e=="string"?new Je([[document.querySelector(e)]],[document.documentElement]):new Je([[e]],zi)}function dt(e,t){if(e=function(r){let a;for(;a=r.sourceEvent;)r=a;return r}(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}Je.prototype=gn.prototype={constructor:Je,select:function(e){typeof e!="function"&&(e=$o(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a,l=t[i],s=l.length,u=o[i]=new Array(s),d=0;d<s;++d)(r=l[d])&&(a=e.call(r,r.__data__,d,l))&&("__data__"in r&&(a.__data__=r.__data__),u[d]=a);return new Je(o,this._parents)},selectAll:function(e){e=typeof e=="function"?za(e):Ni(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a,l=t[r],s=l.length,u=0;u<s;++u)(a=l[u])&&(o.push(e.call(a,a.__data__,u,l)),i.push(a));return new Je(o,i)},selectChild:function(e){return this.select(e==null?Ba:function(t){return function(){return Da.call(this.children,t)}}(typeof e=="function"?e:Ci(e)))},selectChildren:function(e){return this.selectAll(e==null?Ra:function(t){return function(){return Va.call(this.children,t)}}(typeof e=="function"?e:Ci(e)))},filter:function(e){typeof e!="function"&&(e=ki(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],u=0;u<l;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&s.push(r);return new Je(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Ya);var n,o=t?La:Ha,i=this._parents,r=this._groups;typeof e!="function"&&(n=e,e=function(){return n});for(var a=r.length,l=new Array(a),s=new Array(a),u=new Array(a),d=0;d<a;++d){var v=i[d],g=r[d],y=g.length,b=Ga(e.call(v,v&&v.__data__,d,i)),M=b.length,T=s[d]=new Array(M),c=l[d]=new Array(M);o(v,g,T,c,u[d]=new Array(y),b,t);for(var h,f,p=0,w=0;p<M;++p)if(h=T[p]){for(p>=w&&(w=p+1);!(f=c[w])&&++w<M;);h._next=f||null}}return(l=new Je(l,i))._enter=s,l._exit=u,l},enter:function(){return new Je(this._enter||this._groups.map(Mi),this._parents)},exit:function(){return new Je(this._exit||this._groups.map(Mi),this._parents)},join:function(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o))&&(o=o.selection()):o=o.append(e+""),t!=null&&(i=t(i))&&(i=i.selection()),n==null?r.remove():n(r),o&&i?o.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u,d=n[s],v=o[s],g=d.length,y=l[s]=new Array(g),b=0;b<g;++b)(u=d[b]||v[b])&&(y[b]=u);for(;s<i;++s)l[s]=n[s];return new Je(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,i=e[t],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(v,g){return v&&g?e(v.__data__,g.__data__):!v-!g}e||(e=Xa);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,l=n[r],s=l.length,u=i[r]=new Array(s),d=0;d<s;++d)(a=l[d])&&(u[d]=a);u.sort(t)}return new Je(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i,r=t[n],a=0,l=r.length;a<l;++a)(i=r[a])&&e.call(i,i.__data__,a,r);return this},attr:function(e,t){var n=Xn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Ua:Fa:typeof t=="function"?n.local?Ka:Wa:n.local?ja:Za)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((t==null?qa:typeof t=="function"?Qa:Ja)(e,t,n==null?"":n)):tn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((t==null?el:typeof t=="function"?nl:tl)(e,t)):this.node()[e]},classed:function(e,t){var n=Pi(e+"");if(arguments.length<2){for(var o=Oo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?rl:t?ol:il)(n,t))},text:function(e){return arguments.length?this.each(e==null?al:(typeof e=="function"?sl:ll)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(e==null?ul:(typeof e=="function"?cl:dl)(e)):this.node().innerHTML},raise:function(){return this.each(fl)},lower:function(){return this.each(vl)},append:function(e){var t=typeof e=="function"?e:Si(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n=typeof e=="function"?e:Si(e),o=t==null?hl:typeof t=="function"?t:$o(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},remove:function(){return this.each(pl)},clone:function(e){return this.select(e?ml:gl)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,i,r=function(v){return v.trim().split(/^|\s+/).map(function(g){var y="",b=g.indexOf(".");return b>=0&&(y=g.slice(b+1),g=g.slice(0,b)),{type:g,name:y}})}(e+""),a=r.length;if(!(arguments.length<2)){for(l=t?wl:yl,o=0;o<a;++o)this.each(l(r[o],t,n));return this}var l=this.node().__on;if(l){for(var s,u=0,d=l.length;u<d;++u)for(o=0,s=l[u];o<a;++o)if((i=r[o]).type===s.type&&i.name===s.name)return s.value}},dispatch:function(e,t){return this.each((typeof t=="function"?bl:xl)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,i=e[t],r=0,a=i.length;r<a;++r)(o=i[r])&&(yield o)}};const _l={passive:!1},mn={capture:!0,passive:!1};function zo(e){e.stopImmediatePropagation()}function nn(e){e.preventDefault(),e.stopImmediatePropagation()}function Di(e){var t=e.document.documentElement,n=nt(e).on("dragstart.drag",nn,mn);"onselectstart"in t?n.on("selectstart.drag",nn,mn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bi(e,t){var n=e.document.documentElement,o=nt(e).on("dragstart.drag",null);t&&(o.on("click.drag",nn,mn),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Un=e=>()=>e;function Do(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:r,x:a,y:l,dx:s,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function El(e){return!e.ctrlKey&&!e.button}function Sl(){return this.parentNode}function Nl(e,t){return t==null?{x:e.x,y:e.y}:t}function kl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vi(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function yn(){}Do.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var wn=.7,Zn=1/wn,on="\\s*([+-]?\\d+)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cl=/^#([0-9a-f]{3,8})$/,Ml=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),Il=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),Pl=new RegExp(`^rgba\\(${on},${on},${on},${xn}\\)$`),Tl=new RegExp(`^rgba\\(${ct},${ct},${ct},${xn}\\)$`),Al=new RegExp(`^hsl\\(${xn},${ct},${ct}\\)$`),$l=new RegExp(`^hsla\\(${xn},${ct},${ct},${xn}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hi(){return this.rgb().formatHex()}function Li(){return this.rgb().formatRgb()}function bn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yi(t):n===3?new je(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):n===8?jn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):n===4?jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ml.exec(e))?new je(t[1],t[2],t[3],1):(t=Il.exec(e))?new je(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Pl.exec(e))?jn(t[1],t[2],t[3],t[4]):(t=Tl.exec(e))?jn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Al.exec(e))?Fi(t[1],t[2]/100,t[3]/100,1):(t=$l.exec(e))?Fi(t[1],t[2]/100,t[3]/100,t[4]):Ri.hasOwnProperty(e)?Yi(Ri[e]):e==="transparent"?new je(NaN,NaN,NaN,0):null}function Yi(e){return new je(e>>16&255,e>>8&255,255&e,1)}function jn(e,t,n,o){return o<=0&&(e=t=n=NaN),new je(e,t,n,o)}function Vo(e,t,n,o){return arguments.length===1?((i=e)instanceof yn||(i=bn(i)),i?new je((i=i.rgb()).r,i.g,i.b,i.opacity):new je):new je(e,t,n,o==null?1:o);var i}function je(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function Gi(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}`}function Xi(){const e=Wn(this.opacity);return`${e===1?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${e===1?")":`, ${e})`}`}function Wn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rt(e){return((e=Vt(e))<16?"0":"")+e.toString(16)}function Fi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ot(e,t,n,o)}function Ui(e){if(e instanceof ot)return new ot(e.h,e.s,e.l,e.opacity);if(e instanceof yn||(e=bn(e)),!e)return new ot;if(e instanceof ot)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(a=t===r?(n-o)/l+6*(n<o):n===r?(o-t)/l+2:(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new ot(a,l,s,e.opacity)}function ot(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Zi(e){return(e=(e||0)%360)<0?e+360:e}function Kn(e){return Math.max(0,Math.min(1,e||0))}function Ro(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Bo(yn,bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hi,formatHex:Hi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ui(this).formatHsl()},formatRgb:Li,toString:Li}),Bo(je,Vo,Vi(yn,{brighter(e){return e=e==null?Zn:Math.pow(Zn,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new je(Vt(this.r),Vt(this.g),Vt(this.b),Wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gi,formatHex:Gi,formatHex8:function(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}${Rt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Xi,toString:Xi})),Bo(ot,function(e,t,n,o){return arguments.length===1?Ui(e):new ot(e,t,n,o==null?1:o)},Vi(yn,{brighter(e){return e=e==null?Zn:Math.pow(Zn,e),new ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new je(Ro(e>=240?e-240:e+120,i,o),Ro(e,i,o),Ro(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new ot(Zi(this.h),Kn(this.s),Kn(this.l),Wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wn(this.opacity);return`${e===1?"hsl(":"hsla("}${Zi(this.h)}, ${100*Kn(this.s)}%, ${100*Kn(this.l)}%${e===1?")":`, ${e})`}`}}));const ji=e=>()=>e;function Ol(e){return(e=+e)==1?Wi:function(t,n){return n-t?function(o,i,r){return o=Math.pow(o,r),i=Math.pow(i,r)-o,r=1/r,function(a){return Math.pow(o+a*i,r)}}(t,n,e):ji(isNaN(t)?n:t)}}function Wi(e,t){var n=t-e;return n?function(o,i){return function(r){return o+r*i}}(e,n):ji(isNaN(e)?t:e)}const Ki=function e(t){var n=Ol(t);function o(i,r){var a=n((i=Vo(i)).r,(r=Vo(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=Wi(i.opacity,r.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return o.gamma=e,o}(1);function Mt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ho=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lo=new RegExp(Ho.source,"g");function zl(e,t){var n,o,i,r=Ho.lastIndex=Lo.lastIndex=0,a=-1,l=[],s=[];for(e+="",t+="";(n=Ho.exec(e))&&(o=Lo.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,s.push({i:a,x:Mt(n,o)})),r=Lo.lastIndex;return r<t.length&&(i=t.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?function(u){return function(d){return u(d)+""}}(s[0].x):function(u){return function(){return u}}(t):(t=s.length,function(u){for(var d,v=0;v<t;++v)l[(d=s[v]).i]=d.x(u);return l.join("")})}var qn,qi=180/Math.PI,Yo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ji(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*qi,skewX:Math.atan(s)*qi,scaleX:a,scaleY:l}}function Qi(e,t,n,o){function i(r){return r.length?r.pop()+" ":""}return function(r,a){var l=[],s=[];return r=e(r),a=e(a),function(u,d,v,g,y,b){if(u!==v||d!==g){var M=y.push("translate(",null,t,null,n);b.push({i:M-4,x:Mt(u,v)},{i:M-2,x:Mt(d,g)})}else(v||g)&&y.push("translate("+v+t+g+n)}(r.translateX,r.translateY,a.translateX,a.translateY,l,s),function(u,d,v,g){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),g.push({i:v.push(i(v)+"rotate(",null,o)-2,x:Mt(u,d)})):d&&v.push(i(v)+"rotate("+d+o)}(r.rotate,a.rotate,l,s),function(u,d,v,g){u!==d?g.push({i:v.push(i(v)+"skewX(",null,o)-2,x:Mt(u,d)}):d&&v.push(i(v)+"skewX("+d+o)}(r.skewX,a.skewX,l,s),function(u,d,v,g,y,b){if(u!==v||d!==g){var M=y.push(i(y)+"scale(",null,",",null,")");b.push({i:M-4,x:Mt(u,v)},{i:M-2,x:Mt(d,g)})}else v===1&&g===1||y.push(i(y)+"scale("+v+","+g+")")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,l,s),r=a=null,function(u){for(var d,v=-1,g=s.length;++v<g;)l[(d=s[v]).i]=d.x(u);return l.join("")}}}var Dl=Qi(function(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yo:Ji(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Bl=Qi(function(e){return e==null?Yo:(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",e),(e=qn.transform.baseVal.consolidate())?Ji((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Yo)},", ",")",")");function er(e){return((e=Math.exp(e))+1/e)/2}const Vl=function e(t,n,o){function i(r,a){var l,s,u=r[0],d=r[1],v=r[2],g=a[0],y=a[1],b=a[2],M=g-u,T=y-d,c=M*M+T*T;if(c<1e-12)s=Math.log(b/v)/t,l=function(S){return[u+S*M,d+S*T,v*Math.exp(t*S*s)]};else{var h=Math.sqrt(c),f=(b*b-v*v+o*c)/(2*v*n*h),p=(b*b-v*v-o*c)/(2*b*n*h),w=Math.log(Math.sqrt(f*f+1)-f),_=Math.log(Math.sqrt(p*p+1)-p);s=(_-w)/t,l=function(S){var I,P=S*s,E=er(w),N=v/(n*h)*(E*(I=t*P+w,((I=Math.exp(2*I))-1)/(I+1))-function(m){return((m=Math.exp(m))-1/m)/2}(w));return[u+N*M,d+N*T,v*E/er(t*P+w)]}}return l.duration=1e3*s*t/Math.SQRT2,l}return i.rho=function(r){var a=Math.max(.001,+r),l=a*a;return e(a,l,l*l)},i}(Math.SQRT2,2,4);var Jn,_n,rn=0,En=0,Sn=0,Qn=0,Ht=0,eo=0,Nn=typeof performance=="object"&&performance.now?performance:Date,tr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Go(){return Ht||(tr(Rl),Ht=Nn.now()+eo)}function Rl(){Ht=0}function to(){this._call=this._time=this._next=null}function nr(e,t,n){var o=new to;return o.restart(e,t,n),o}function or(){Ht=(Qn=Nn.now())+eo,rn=En=0;try{(function(){Go(),++rn;for(var e,t=Jn;t;)(e=Ht-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rn})()}finally{rn=0,function(){for(var e,t,n=Jn,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Jn=t);_n=e,Xo(o)}(),Ht=0}}function Hl(){var e=Nn.now(),t=e-Qn;t>1e3&&(eo-=t,Qn=e)}function Xo(e){rn||(En&&(En=clearTimeout(En)),e-Ht>24?(e<1/0&&(En=setTimeout(or,e-Nn.now()-eo)),Sn&&(Sn=clearInterval(Sn))):(Sn||(Qn=Nn.now(),Sn=setInterval(Hl,1e3)),rn=1,tr(or)))}function ir(e,t,n){var o=new to;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}to.prototype=nr.prototype={constructor:to,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Go():+n)+(t==null?0:+t),this._next||_n===this||(_n?_n._next=this:Jn=this,_n=this),this._call=e,this._time=n,Xo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xo())}};var Ll=Yn("start","end","cancel","interrupt"),Yl=[];function no(e,t,n,o,i,r){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(l,s,u){var d,v=l.__transition;function g(T){u.state=1,u.timer.restart(y,u.delay,u.time),u.delay<=T&&y(T-u.delay)}function y(T){var c,h,f,p;if(u.state!==1)return M();for(c in v)if((p=v[c]).name===u.name){if(p.state===3)return ir(y);p.state===4?(p.state=6,p.timer.stop(),p.on.call("interrupt",l,l.__data__,p.index,p.group),delete v[c]):+c<s&&(p.state=6,p.timer.stop(),p.on.call("cancel",l,l.__data__,p.index,p.group),delete v[c])}if(ir(function(){u.state===3&&(u.state=4,u.timer.restart(b,u.delay,u.time),b(T))}),u.state=2,u.on.call("start",l,l.__data__,u.index,u.group),u.state===2){for(u.state=3,d=new Array(f=u.tween.length),c=0,h=-1;c<f;++c)(p=u.tween[c].value.call(l,l.__data__,u.index,u.group))&&(d[++h]=p);d.length=h+1}}function b(T){for(var c=T<u.duration?u.ease.call(null,T/u.duration):(u.timer.restart(M),u.state=5,1),h=-1,f=d.length;++h<f;)d[h].call(l,c);u.state===5&&(u.on.call("end",l,l.__data__,u.index,u.group),M())}function M(){for(var T in u.state=6,u.timer.stop(),delete v[s],v)return;delete l.__transition}v[s]=u,u.timer=nr(g,0,u.time)})(e,n,{name:t,index:o,group:i,on:Ll,tween:Yl,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function Fo(e,t){var n=it(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ft(e,t){var n=it(e,t);if(n.state>3)throw new Error("too late; already running");return n}function it(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oo(e,t){var n,o,i,r=e.__transition,a=!0;if(r){for(i in t=t==null?null:t+"",r)(n=r[i]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete e.__transition}}function Gl(e,t){var n,o;return function(){var i=ft(this,e),r=i.tween;if(r!==n){for(var a=0,l=(o=n=r).length;a<l;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}}i.tween=o}}function Xl(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=ft(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Uo(e,t,n){var o=e._id;return e.each(function(){var i=ft(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return it(i,o).value[t]}}function rr(e,t){var n;return(typeof t=="number"?Mt:t instanceof bn?Ki:(n=bn(t))?(t=n,Ki):zl)(e,t)}function Fl(e){return function(){this.removeAttribute(e)}}function Ul(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zl(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttribute(e);return a===r?null:a===o?i:i=t(o=a,n)}}function jl(e,t,n){var o,i,r=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===o?i:i=t(o=a,n)}}function Wl(e,t,n){var o,i,r;return function(){var a,l,s=n(this);if(s!=null)return(a=this.getAttribute(e))===(l=s+"")?null:a===o&&l===i?r:(i=l,r=t(o=a,s));this.removeAttribute(e)}}function Kl(e,t,n){var o,i,r;return function(){var a,l,s=n(this);if(s!=null)return(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===o&&l===i?r:(i=l,r=t(o=a,s));this.removeAttributeNS(e.space,e.local)}}function ql(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(a,l){return function(s){this.setAttributeNS(a.space,a.local,l.call(this,s))}}(e,r)),n}return i._value=t,i}function Jl(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(a,l){return function(s){this.setAttribute(a,l.call(this,s))}}(e,r)),n}return i._value=t,i}function Ql(e,t){return function(){Fo(this,e).delay=+t.apply(this,arguments)}}function es(e,t){return t=+t,function(){Fo(this,e).delay=t}}function ts(e,t){return function(){ft(this,e).duration=+t.apply(this,arguments)}}function ns(e,t){return t=+t,function(){ft(this,e).duration=t}}var os=gn.prototype.constructor;function ar(e){return function(){this.style.removeProperty(e)}}var is=0;function xt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function lr(){return++is}var bt=gn.prototype;xt.prototype={constructor:xt,select:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$o(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l,s,u=o[a],d=u.length,v=r[a]=new Array(d),g=0;g<d;++g)(l=u[g])&&(s=e.call(l,l.__data__,g,u))&&("__data__"in l&&(s.__data__=l.__data__),v[g]=s,no(v[g],t,n,g,v,it(l,n)));return new xt(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ni(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s,u=o[l],d=u.length,v=0;v<d;++v)if(s=u[v]){for(var g,y=e.call(s,s.__data__,v,u),b=it(s,n),M=0,T=y.length;M<T;++M)(g=y[M])&&no(g,t,n,M,y,b);r.push(y),a.push(s)}return new xt(r,a,t,n)},selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:function(e){typeof e!="function"&&(e=ki(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r,a=t[i],l=a.length,s=o[i]=[],u=0;u<l;++u)(r=a[u])&&e.call(r,r.__data__,u,a)&&s.push(r);return new xt(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s,u=t[l],d=n[l],v=u.length,g=a[l]=new Array(v),y=0;y<v;++y)(s=u[y]||d[y])&&(g[y]=s);for(;l<o;++l)a[l]=t[l];return new xt(a,this._parents,this._name,this._id)},selection:function(){return new os(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=lr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,u=0;u<s;++u)if(a=l[u]){var d=it(a,t);no(a,e,n,u,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new xt(o,this._parents,e,n)},call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:function(e,t){var n=this._id;return arguments.length<2?it(this.node(),n).on.on(e):this.each(function(o,i,r){var a,l,s=function(u){return(u+"").trim().split(/^|\s+/).every(function(d){var v=d.indexOf(".");return v>=0&&(d=d.slice(0,v)),!d||d==="start"})}(i)?Fo:ft;return function(){var u=s(this,o),d=u.on;d!==a&&(l=(a=d).copy()).on(i,r),u.on=l}}(n,e,t))},attr:function(e,t){var n=Xn(e),o=n==="transform"?Bl:rr;return this.attrTween(e,typeof t=="function"?(n.local?Kl:Wl)(n,o,Uo(this,"attr."+e,t)):t==null?(n.local?Ul:Fl)(n):(n.local?jl:Zl)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Xn(e);return this.tween(n,(o.local?ql:Jl)(o,t))},style:function(e,t,n){var o=(e+="")=="transform"?Dl:rr;return t==null?this.styleTween(e,function(i,r){var a,l,s;return function(){var u=tn(this,i),d=(this.style.removeProperty(i),tn(this,i));return u===d?null:u===a&&d===l?s:s=r(a=u,l=d)}}(e,o)).on("end.style."+e,ar(e)):typeof t=="function"?this.styleTween(e,function(i,r,a){var l,s,u;return function(){var d=tn(this,i),v=a(this),g=v+"";return v==null&&(this.style.removeProperty(i),g=v=tn(this,i)),d===g?null:d===l&&g===s?u:(s=g,u=r(l=d,v))}}(e,o,Uo(this,"style."+e,t))).each(function(i,r){var a,l,s,u,d="style."+r,v="end."+d;return function(){var g=ft(this,i),y=g.on,b=g.value[d]==null?u||(u=ar(r)):void 0;y===a&&s===b||(l=(a=y).copy()).on(v,s=b),g.on=l}}(this._id,e)):this.styleTween(e,function(i,r,a){var l,s,u=a+"";return function(){var d=tn(this,i);return d===u?null:d===l?s:s=r(l=d,a)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,function(i,r,a){var l,s;function u(){var d=r.apply(this,arguments);return d!==s&&(l=(s=d)&&function(v,g,y){return function(b){this.style.setProperty(v,g.call(this,b),y)}}(i,d,a)),l}return u._value=r,u}(e,t,n==null?"":n))},text:function(e){return this.tween("text",typeof e=="function"?function(t){return function(){var n=t(this);this.textContent=n==null?"":n}}(Uo(this,"text",e)):function(t){return function(){this.textContent=t}}(e==null?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,function(n){var o,i;function r(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&function(l){return function(s){this.textContent=l.call(this,s)}}(a)),o}return r._value=n,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,i=it(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?Gl:Xl)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ql:es)(t,e)):it(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ts:ns)(t,e)):it(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(n,o){if(typeof o!="function")throw new Error;return function(){ft(this,n).ease=o}}(t,e)):it(this.node(),t).ease},easeVarying:function(e){if(typeof e!="function")throw new Error;return this.each(function(t,n){return function(){var o=n.apply(this,arguments);if(typeof o!="function")throw new Error;ft(this,t).ease=o}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i==0&&r()}};n.each(function(){var u=ft(this,o),d=u.on;d!==e&&((t=(e=d).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})},[Symbol.iterator]:bt[Symbol.iterator]};var rs={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function as(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}gn.prototype.interrupt=function(e){return this.each(function(){oo(this,e)})},gn.prototype.transition=function(e){var t,n;e instanceof xt?(t=e._id,e=e._name):(t=lr(),(n=rs).time=Go(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,l=o[r],s=l.length,u=0;u<s;++u)(a=l[u])&&no(a,e,t,u,l,n||as(a,t));return new xt(o,this._parents,e,t)};const io=e=>()=>e;function ls(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function _t(e,t,n){this.k=e,this.x=t,this.y=n}_t.prototype={constructor:_t,scale:function(e){return e===1?this:new _t(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _t(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var an=new _t(1,0,0);function Zo(e){e.stopImmediatePropagation()}function kn(e){e.preventDefault(),e.stopImmediatePropagation()}function ss(e){return!(e.ctrlKey&&e.type!=="wheel"||e.button)}function us(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function sr(){return this.__zoom||an}function ds(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function cs(){return navigator.maxTouchPoints||"ontouchstart"in this}function fs(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a))}_t.prototype;var G=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(G||{}),jo=(e=>(e.Partial="partial",e.Full="full",e))(jo||{}),Lt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Lt||{}),Yt=(e=>(e.Strict="strict",e.Loose="loose",e))(Yt||{}),It=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(It||{}),Cn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Cn||{}),ur=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(ur||{});function Wo(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(o==null?void 0:o.hasAttribute)=="function"&&o.hasAttribute("contenteditable"),r=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||i||!!r}function dr(e,t,n,o){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const r=i.every((a,l)=>n.has(a)&&Array.from(n.values())[l]===i[l]);return o&&n.delete(e.toLowerCase()),r}function Mn(e,t){const n=$e(()=>{var d;return(d=me(t==null?void 0:t.actInsideInputWithModifier))!=null?d:!1}),o=$e(()=>{var d;return(d=me(t==null?void 0:t.target))!=null?d:window}),i=ye(me(e)===!0);let r=!1;const a=new Set;let l=u(me(e));function s(){r=!1,a.clear(),i.value=me(e)===!0}function u(d){return d===null?(s(),()=>!1):typeof d=="boolean"?(s(),i.value=d,()=>!1):Array.isArray(d)||typeof d=="string"?function(v,g){return y=>{if(!y.code&&!y.key)return!1;const b=(M=y.code,v.includes(M)?"code":"key");var M;return Array.isArray(v)?v.some(T=>dr(y[b],T,g,y.type==="keyup")):dr(y[b],v,g,y.type==="keyup")}}(d,a):d}return ge(()=>me(e),(d,v)=>{typeof v=="boolean"&&typeof d!="boolean"&&s(),l=u(d)},{immediate:!0}),mt(()=>{xi(window,["blur","contextmenu"],s)}),bi((...d)=>l(...d),d=>{var v;r=(v=d).ctrlKey||v.metaKey||v.shiftKey,(!r||r&&!n.value)&&Wo(d)||(d.preventDefault(),i.value=!0)},{eventName:"keydown",target:o}),bi((...d)=>l(...d),d=>{if(i.value){if((!r||r&&!n.value)&&Wo(d))return;r=!1,i.value=!1}},{eventName:"keyup",target:o}),i}const cr="vue-flow__node-desc",fr="vue-flow__edge-desc",vr=["Enter"," ","Escape"],ln={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ko(e){return Ze(L({},e.computedPosition||{x:0,y:0}),{width:e.dimensions.width||0,height:e.dimensions.height||0})}function qo(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function ro(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Gt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function hr(e,t){return{x:Gt(e.x,t[0][0],t[1][0]),y:Gt(e.y,t[0][1],t[1][1])}}function pr(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Pt(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Xt(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Pt(e)}function In(e){return Xt(e)&&"computedPosition"in e}function ao(e){return!Number.isNaN(e)&&Number.isFinite(e)}function vs(e,t,n){var i;const o={id:e.id.toString(),type:(i=e.type)!=null?i:"default",dimensions:Kt({width:0,height:0}),computedPosition:Kt(L({z:0},e.position)),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ye(e.data)?e.data:{},events:Kt(Ye(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function gr(e,t,n){var a,l,s,u,d,v,g;var o,i;const r=L({id:e.id.toString(),type:(l=(a=e.type)!=null?a:t==null?void 0:t.type)!=null?l:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:(s=e.updatable)!=null?s:n==null?void 0:n.updatable,selectable:(u=e.selectable)!=null?u:n==null?void 0:n.selectable,focusable:(d=e.focusable)!=null?d:n==null?void 0:n.focusable,data:Ye(e.data)?e.data:{},events:Kt(Ye(e.events)?e.events:{}),label:(v=e.label)!=null?v:"",interactionWidth:(g=e.interactionWidth)!=null?g:n==null?void 0:n.interactionWidth},n!=null?n:{});return Object.assign(t!=null?t:r,e,{id:e.id.toString()})}function mr(e,t,n,o){const i=typeof e=="string"?e:e.id,r=new Set,a=o==="source"?"target":"source";for(const l of n)l[a]===i&&r.add(l[o]);return t.filter(l=>r.has(l.id))}function yr({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`}function wr({x:e,y:t},{x:n,y:o,zoom:i}){return{x:e*i+n,y:t*i+o}}function Pn({x:e,y:t},{x:n,y:o,zoom:i},r=!1,a=[1,1]){const l={x:(e-n)/i,y:(t-o)/i};return r?uo(l,a):l}function xr({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function br(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let i=0;i<e.length;i++){const r=e[i];n=t,o=xr(L(L({},r.computedPosition),r.dimensions)),t={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y),x2:Math.max(n.x2,o.x2),y2:Math.max(n.y2,o.y2)}}var n,o;return function({x:i,y:r,x2:a,y2:l}){return{x:i,y:r,width:a-i,height:l-r}}(t)}function _r(e,t,n={x:0,y:0,zoom:1},o=!1,i=!1){var l,s,u,d;const r=Ze(L({},Pn(t,n)),{width:t.width/n.zoom,height:t.height/n.zoom}),a=[];for(const v of e){const{dimensions:g,selectable:y=!0,hidden:b=!1}=v,M=(s=(l=g.width)!=null?l:v.width)!=null?s:null,T=(d=(u=g.height)!=null?u:v.height)!=null?d:null;if(i&&!y||b)continue;const c=qo(r,Ko(v));(M===null||T===null||o&&c>0||c>=(M!=null?M:0)*(T!=null?T:0)||v.dragging)&&a.push(v)}return a}function Er(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Sr(e,t,n,o,i,r=.1,a={x:0,y:0}){var g,y;const l=t/(e.width*(1+r)),s=n/(e.height*(1+r)),u=Gt(Math.min(l,s),o,i),d=e.x+e.width/2,v=e.y+e.height/2;return{x:t/2-d*u+((g=a.x)!=null?g:0),y:n/2-v*u+((y=a.y)!=null?y:0),zoom:u}}function Nr(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return!!n&&(!!n.selected||Nr(n,t))}function Tn(e,t){return e===void 0?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`}function kr(e,t,n){return e<t?Gt(Math.abs(e-t),1,t)/t:e>n?-Gt(Math.abs(e-n),1,t)/t:0}function Cr(e,t,n=15,o=40){return[kr(e.x,o,t.width-o)*n,kr(e.y,o,t.height-o)*n]}function Jo(e,t){var n,o;if(t){const i=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(i>0||r>0||e.position.x<0||e.position.y<0){let a={};if(typeof t.style=="function"?a=L({},t.style(t)):t.style&&(a=L({},t.style)),a.width=(n=a.width)!=null?n:`${t.dimensions.width}px`,a.height=(o=a.height)!=null?o:`${t.dimensions.height}px`,i>0)if(typeof a.width=="string"){const l=Number(a.width.replace("px",""));a.width=`${l+i}px`}else a.width+=i;if(r>0)if(typeof a.height=="string"){const l=Number(a.height.replace("px",""));a.height=`${l+r}px`}else a.height+=r;if(e.position.x<0){const l=Math.abs(e.position.x);if(t.position.x=t.position.x-l,typeof a.width=="string"){const s=Number(a.width.replace("px",""));a.width=`${s+l}px`}else a.width+=l;e.position.x=0}if(e.position.y<0){const l=Math.abs(e.position.y);if(t.position.y=t.position.y-l,typeof a.height=="string"){const s=Number(a.height.replace("px",""));a.height=`${s+l}px`}else a.height+=l;e.position.y=0}t.dimensions.width=Number(a.width.toString().replace("px","")),t.dimensions.height=Number(a.height.toString().replace("px","")),typeof t.style=="function"?t.style=l=>L(L({},(0,t.style)(l)),a):t.style=L(L({},t.style),a)}}}function Mr(e,t){var n,o;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(l=>l.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const l=t.findIndex(s=>s.id===a.id);l!==-1&&t.splice(l,1)}const r=t.map(a=>a.id);for(const a of t)for(const l of e)if(l.id===a.id)switch(l.type){case"select":a.selected=l.selected;break;case"position":if(In(a)&&(l.position!==void 0&&(a.position=l.position),l.dragging!==void 0&&(a.dragging=l.dragging),a.expandParent&&a.parentNode)){const s=t[r.indexOf(a.parentNode)];s&&In(s)&&Jo(a,s)}break;case"dimensions":if(In(a)&&(l.dimensions!==void 0&&(a.dimensions=l.dimensions),l.updateStyle!==void 0&&l.updateStyle&&(a.style=Ze(L({},a.style||{}),{width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(o=l.dimensions)==null?void 0:o.height}px`})),l.resizing!==void 0&&(a.resizing=l.resizing),a.expandParent&&a.parentNode)){const s=t[r.indexOf(a.parentNode)];s&&In(s)&&(s.dimensions.width&&s.dimensions.height?Jo(a,s):gt(()=>{Jo(a,s)}))}}return t}function Tt(e,t){return{id:e,type:"select",selected:t}}function Ir(e){return{item:e,type:"add"}}function Pr(e){return{id:e,type:"remove"}}function Tr(e,t,n,o,i){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:i||null,type:"remove"}}function At(e,t=new Set,n=!1){const o=[];for(const[i,r]of e){const a=t.has(i);r.selected===void 0&&!a||r.selected===a||(n&&(r.selected=a),o.push(Tt(r.id,a)))}return o}function O(e){const t=new Set;let n=!1;e&&(n=!0,t.add(e));const o=i=>{t.delete(i)};return{on:i=>{e&&n&&t.delete(e),t.add(i);const r=()=>{o(i),e&&n&&t.add(e)};return Ln(r),{off:r}},off:o,trigger:i=>Promise.all(Array.from(t).map(r=>r(i))),hasListeners:()=>t.size>0,fns:t}}function Ar(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Qo({id:e,dragItems:t,findNode:n}){const o=[];for(const i of t){const r=n(i.id);r&&o.push(r)}return[e?o.find(i=>i.id===e):o[0],o]}function $r(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function hs(e,t,n,o){let i=e.extent||n;if(i!=="parent"&&(Array.isArray(i)||(i==null?void 0:i.range)!=="parent")||e.expandParent){if(Array.isArray(i)){const r=(o==null?void 0:o.computedPosition.x)||0,a=(o==null?void 0:o.computedPosition.y)||0;i=[[i[0][0]+r,i[0][1]+a],[i[1][0]+r,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[r,a,l,s]=$r(i.padding),u=(o==null?void 0:o.computedPosition.x)||0,d=(o==null?void 0:o.computedPosition.y)||0;i=[[i.range[0][0]+u+s,i.range[0][1]+d+r],[i.range[1][0]+u-a,i.range[1][1]+d-l]]}}else if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=function(a,l,s){const[u,d,v,g]=typeof a!="string"?$r(a.padding):[0,0,0,0];return!(!s||s.computedPosition.x===void 0||s.computedPosition.y===void 0||s.dimensions.width===void 0||s.dimensions.height===void 0)&&[[s.computedPosition.x+g,s.computedPosition.y+u],[s.computedPosition.x+s.dimensions.width-d,s.computedPosition.y+s.dimensions.height-v]]}(i,0,o);r&&(i=r)}else t(new Ge(Le.NODE_EXTENT_INVALID,e.id)),i=n;return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function ei(e,t,n,o,i){const r=hr(t,function({width:a,height:l},s){return[s[0],[s[1][0]-(a||0),s[1][1]-(l||0)]]}(e.dimensions,hs(e,n,o,i)));return{position:{x:r.x-((i==null?void 0:i.computedPosition.x)||0),y:r.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:r}}function lo(e,t,n=G.Left){var l,s,u;const o=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,i=((s=t==null?void 0:t.y)!=null?s:0)+e.computedPosition.y,{width:r,height:a}=t!=null?t:function(d){var y,b,M,T;var v,g;return{width:(b=(y=(v=d.dimensions)==null?void 0:v.width)!=null?y:d.width)!=null?b:0,height:(T=(M=(g=d.dimensions)==null?void 0:g.height)!=null?M:d.height)!=null?T:0}}(e);switch((u=t==null?void 0:t.position)!=null?u:n){case G.Top:return{x:o+r/2,y:i};case G.Right:return{x:o+r,y:i+a/2};case G.Bottom:return{x:o+r/2,y:i+a};case G.Left:return{x:o,y:i+a/2}}}function Or(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function ps({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:a,height:l,viewport:s}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=xr({x:(0-s.x)/s.zoom,y:(0-s.y)/s.zoom,width:a/s.zoom,height:l/s.zoom}),v=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),g=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(v*g)>0}function gs(e,t,n=!1){const o=typeof e.zIndex=="number";let i=o?e.zIndex:0;const r=t(e.source),a=t(e.target);return r&&a?(n&&(i=o?e.zIndex:Math.max(r.computedPosition.z||0,a.computedPosition.z||0)),i):0}var Le=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Le||{});const zr={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ge extends Error{constructor(t,...n){var o;super((o=zr[t])==null?void 0:o.call(zr,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function ti(e){return"clientX"in e}function Dr(e){return"sourceEvent"in e}function Et(e,t){var l,s;var n,o;const i=ti(e),r=i?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,a=i?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((l=t==null?void 0:t.left)!=null?l:0),y:a-((s=t==null?void 0:t.top)!=null?s:0)}}const so=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function uo(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}function ni(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Br(e,t,n,o){const i=[];for(const r of t[n]||[])if(`${e.id}-${r.id}-${n}`!==o){const{x:a,y:l}=lo(e,r);i.push({id:r.id||null,type:n,nodeId:e.id,x:a,y:l})}return i}function Vr(e,t,n,o,i,r,a,l,s,u,d){const v=r==="target",g=l.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:y,y:b}=Et(e),M=l.elementFromPoint(y,b),T=M!=null&&M.classList.contains("vue-flow__handle")?M:g,c={handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null};if(T){c.handleDomNode=T;const h=oi(void 0,T),f=T.getAttribute("data-nodeid"),p=T.getAttribute("data-handleid"),w=T.classList.contains("connectable"),_=T.classList.contains("connectableend"),S={source:v?f:o,sourceHandle:v?p:i,target:v?o:f,targetHandle:v?i:p};c.connection=S,w&&_&&(n===Yt.Strict?v&&h==="source"||!v&&h==="target":f!==o||p!==i)&&(c.isValid=a(S,{edges:s,nodes:u,sourceNode:d(S.source),targetNode:d(S.target)}),c.endHandle={nodeId:f,handleId:p,type:h,position:c.isValid?T.getAttribute("data-handlepos"):null})}return c}function oi(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}const ms=["production","prod"];function co(e,...t){Rr()}function Rr(){return!ms.includes("production")}function Hr(e,t,n,o){const i=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(i).map(r=>{const a=r.getBoundingClientRect();return L({id:r.getAttribute("data-handleid"),position:r.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o},ro(r))})}function ii(e,t,n,o,i,r=!1,a){i.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),gt(()=>{a.blur()})):n([e])}function Ye(e){return Z(e)!==void 0}function ys(e,t,n,o){var r;if(!e||!e.source||!e.target)return n(new Ge(Le.EDGE_INVALID,(r=e==null?void 0:e.id)!=null?r:"[ID UNKNOWN]")),!1;let i;return i=Pt(e)?e:Ze(L({},e),{id:yr(e)}),i=gr(i,void 0,o),!function(a,l){return l.some(s=>Pt(s)&&s.source===a.source&&s.target===a.target&&(s.sourceHandle===a.sourceHandle||!s.sourceHandle&&!a.sourceHandle)&&(s.targetHandle===a.targetHandle||!s.targetHandle&&!a.targetHandle))}(i,t)&&i}function Lr(e,t,n){const o={},i=[];for(let r=0;r<e.length;++r){const a=e[r];if(!Xt(a)){n(new Ge(Le.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const l=vs(a,t(a.id),a.parentNode);a.parentNode&&(o[a.parentNode]=!0),i[r]=l}for(const r of i){const a=t(r.parentNode)||i.find(l=>l.id===r.parentNode);r.parentNode&&!a&&n(new Ge(Le.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||o[r.id])&&(o[r.id]&&(r.isParent=!0),a&&(a.isParent=!0))}return i}function Yr(e,t){e.clear();for(const n of t){const{id:o,source:i,target:r,sourceHandle:a=null,targetHandle:l=null}=n,s=`${i}-source-${a}`,u=`${r}-target-${l}`,d=e.get(s)||new Map,v=e.get(u)||new Map,g=Kt({edgeId:o,source:i,target:r,sourceHandle:a,targetHandle:l});e.set(s,d.set(`${r}-${l}`,g)),e.set(u,v.set(`${i}-${a}`,g))}}function Gr(e,t,n,o,i,r,a,l){const s=[];for(const u of e){const d=Pt(u)?u:ys(u,l,i,r);if(!d)continue;const v=n(d.source),g=n(d.target);if(!v||!g){i(new Ge(Le.EDGE_SOURCE_TARGET_MISSING,d.id,d.source,d.target));continue}if(!v){i(new Ge(Le.EDGE_SOURCE_MISSING,d.id,d.source));continue}if(!g){i(new Ge(Le.EDGE_TARGET_MISSING,d.id,d.target));continue}if(t&&!t(d,{edges:l,nodes:a,sourceNode:v,targetNode:g})){i(new Ge(Le.EDGE_INVALID,d.id));continue}const y=o(d.id);s.push(Ze(L({},gr(d,y,r)),{sourceNode:v,targetNode:g}))}return s}const Xr=Symbol("vueFlow"),Fr=Symbol("nodeId"),Ur=Symbol("nodeRef"),ws=Symbol("edgeId"),xs=Symbol("edgeRef"),fo=Symbol("slots");function Zr(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:i,nodes:r,nodeExtent:a,nodeDragThreshold:l,viewport:s,autoPanOnNodeDrag:u,autoPanSpeed:d,nodesDraggable:v,panBy:g,findNode:y,multiSelectionActive:b,nodesSelectionActive:M,selectNodesOnDrag:T,removeSelectedElements:c,addSelectedNodes:h,updateNodePositions:f,emits:p}=Ie(),{onStart:w,onDrag:_,onStop:S,onClick:I,el:P,disabled:E,id:N,selectable:m,dragHandle:z}=e,j=ye(!1);let ee,W=[],ae=null,de={x:void 0,y:void 0},be={x:0,y:0},te=null,R=!1,re=0,ce=!1;const Ne=function(){const{viewport:K,snapGrid:le,snapToGrid:ie}=Ie();return X=>{const ne=Dr(X)?X.sourceEvent:X,{x:A,y:$}=Et(ne),Q=Pn({x:A,y:$},K.value),{x:k,y:Y}=ie.value?uo(Q,le.value):Q;return L({xSnapped:k,ySnapped:Y},Q)}}(),Ve=({x:K,y:le})=>{de={x:K,y:le};let ie=!1;if(W=W.map(X=>{const ne={x:K-X.distance.x,y:le-X.distance.y},{computedPosition:A}=ei(X,n.value?uo(ne,o.value):ne,p.error,a.value,X.parentNode?y(X.parentNode):void 0);return ie=ie||X.position.x!==A.x||X.position.y!==A.y,X.position=A,X}),ie&&(f(W,!0,!0),j.value=!0,te)){const[X,ne]=Qo({id:N,dragItems:W,findNode:y});_({event:te,node:X,nodes:ne})}},Me=()=>{var ie,X;if(!ae)return;const[K,le]=Cr(be,ae,d.value);if(K!==0||le!==0){const ne={x:((ie=de.x)!=null?ie:0)-K/s.value.zoom,y:((X=de.y)!=null?X:0)-le/s.value.zoom};g({x:K,y:le})&&Ve(ne)}re=requestAnimationFrame(Me)},ke=(K,le)=>{R=!0;const ie=y(N);T.value||b.value||!ie||ie.selected||c(),ie&&me(m)&&T.value&&ii(ie,b.value,h,c,M,!1,le);const X=Ne(K.sourceEvent);if(de=X,W=function(ne,A,$,Q,k){var Y,q;const C=[];for(const F of ne)!F.selected&&F.id!==k||F.parentNode&&Nr(F,Q)||!(F.draggable||A&&F.draggable===void 0)||C.push(Kt({id:F.id,position:F.position||{x:0,y:0},distance:{x:$.x-((Y=F.computedPosition)==null?void 0:Y.x)||0,y:$.y-((q=F.computedPosition)==null?void 0:q.y)||0},from:F.computedPosition,extent:F.extent,parentNode:F.parentNode,dimensions:F.dimensions,expandParent:F.expandParent}));return C}(r.value,v.value,X,y,N),W.length){const[ne,A]=Qo({id:N,dragItems:W,findNode:y});w({event:K.sourceEvent,node:ne,nodes:A})}};return ge([()=>me(E),P],([K,le],ie,X)=>{if(le){const ne=nt(le);K||(ee=function(){var A,$,Q,k,Y=El,q=Sl,C=Nl,F=kl,oe={},fe=Yn("start","drag","end"),he=0,_e=0;function ue(D){D.on("mousedown.drag",De).filter(F).on("touchstart.drag",vt).on("touchmove.drag",Pe,_l).on("touchend.drag touchcancel.drag",Xe).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function De(D,B){if(!k&&Y.call(this,D,B)){var xe=Qe(this,q.call(this,D,B),D,B,"mouse");xe&&(nt(D.view).on("mousemove.drag",Be,mn).on("mouseup.drag",Re,mn),Di(D.view),zo(D),Q=!1,A=D.clientX,$=D.clientY,xe("start",D))}}function Be(D){if(nn(D),!Q){var B=D.clientX-A,xe=D.clientY-$;Q=B*B+xe*xe>_e}oe.mouse("drag",D)}function Re(D){nt(D.view).on("mousemove.drag mouseup.drag",null),Bi(D.view,Q),nn(D),oe.mouse("end",D)}function vt(D,B){if(Y.call(this,D,B)){var xe,Fe,Ue=D.changedTouches,dn=q.call(this,D,B),Ke=Ue.length;for(xe=0;xe<Ke;++xe)(Fe=Qe(this,dn,D,B,Ue[xe].identifier,Ue[xe]))&&(zo(D),Fe("start",D,Ue[xe]))}}function Pe(D){var B,xe,Fe=D.changedTouches,Ue=Fe.length;for(B=0;B<Ue;++B)(xe=oe[Fe[B].identifier])&&(nn(D),xe("drag",D,Fe[B]))}function Xe(D){var B,xe,Fe=D.changedTouches,Ue=Fe.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),B=0;B<Ue;++B)(xe=oe[Fe[B].identifier])&&(zo(D),xe("end",D,Fe[B]))}function Qe(D,B,xe,Fe,Ue,dn){var Ke,Bn,cn,Vn=fe.copy(),tt=dt(dn||xe,B);if((cn=C.call(D,new Do("beforestart",{sourceEvent:xe,target:ue,identifier:Ue,active:he,x:tt[0],y:tt[1],dx:0,dy:0,dispatch:Vn}),Fe))!=null)return Ke=cn.x-tt[0]||0,Bn=cn.y-tt[1]||0,function ui(Rn,_o,x){var U,V=tt;switch(Rn){case"start":oe[Ue]=ui,U=he++;break;case"end":delete oe[Ue],--he;case"drag":tt=dt(x||_o,B),U=he}Vn.call(Rn,D,new Do(Rn,{sourceEvent:_o,subject:cn,target:ue,identifier:Ue,active:U,x:tt[0]+Ke,y:tt[1]+Bn,dx:tt[0]-V[0],dy:tt[1]-V[1],dispatch:Vn}),Fe)}}return ue.filter=function(D){return arguments.length?(Y=typeof D=="function"?D:Un(!!D),ue):Y},ue.container=function(D){return arguments.length?(q=typeof D=="function"?D:Un(D),ue):q},ue.subject=function(D){return arguments.length?(C=typeof D=="function"?D:Un(D),ue):C},ue.touchable=function(D){return arguments.length?(F=typeof D=="function"?D:Un(!!D),ue):F},ue.on=function(){var D=fe.on.apply(fe,arguments);return D===fe?ue:D},ue.clickDistance=function(D){return arguments.length?(_e=(D=+D)*D,ue):Math.sqrt(_e)},ue}().on("start",A=>(($,Q)=>{var k;$.sourceEvent.type==="touchmove"&&$.sourceEvent.touches.length>1||(l.value===0&&ke($,Q),de=Ne($.sourceEvent),ae=((k=t.value)==null?void 0:k.getBoundingClientRect())||null,be=Et($.sourceEvent,ae))})(A,le)).on("drag",A=>(($,Q)=>{var Y,q;const k=Ne($.sourceEvent);if(!ce&&R&&u.value&&(ce=!0,Me()),!R){const C=k.xSnapped-((Y=de.x)!=null?Y:0),F=k.ySnapped-((q=de.y)!=null?q:0);Math.sqrt(C*C+F*F)>l.value&&ke($,Q)}(de.x!==k.xSnapped||de.y!==k.ySnapped)&&W.length&&R&&(te=$.sourceEvent,be=Et($.sourceEvent,ae),Ve(k))})(A,le)).on("end",A=>($=>{var Q,k;if(Dr($)||R||j.value||b.value){if(j.value=!1,ce=!1,R=!1,de={x:void 0,y:void 0},cancelAnimationFrame(re),W.length){f(W,!1,!1);const[Y,q]=Qo({id:N,dragItems:W,findNode:y});S({event:$.sourceEvent,node:Y,nodes:q})}}else{const Y=$,q=Ne(Y),C=q.xSnapped-((Q=de.x)!=null?Q:0),F=q.ySnapped-((k=de.y)!=null?k:0),oe=Math.sqrt(C*C+F*F);oe!==0&&oe<=l.value&&(I==null||I(Y))}})(A)).filter(A=>{const $=A.target,Q=me(z);return!A.button&&(!i.value||!Ar($,`.${i.value}`,le)&&(!Q||Ar($,Q,le)))}),ne.call(ee)),X(()=>{ne.on(".drag",null),ee&&(ee.on("start",null),ee.on("drag",null),ee.on("end",null))})}}),j}function bs(e,t){const n={doubleClick:O(),click:O(),mouseEnter:O(),mouseMove:O(),mouseLeave:O(),contextMenu:O(),updateStart:O(),update:O(),updateEnd:O()};return n.doubleClick.on(o=>{var i,r;t.edgeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.edgeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.edgeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.edgeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.edgeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.edgeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.updateStart.on(o=>{var i,r;t.edgeUpdateStart(o),(r=(i=e.events)==null?void 0:i.updateStart)==null||r.call(i,o)}),n.update.on(o=>{var i,r;t.edgeUpdate(o),(r=(i=e.events)==null?void 0:i.update)==null||r.call(i,o)}),n.updateEnd.on(o=>{var i,r;t.edgeUpdateEnd(o),(r=(i=e.events)==null?void 0:i.updateEnd)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function vo(){return!0}function jr({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:i,onEdgeUpdate:r,onEdgeUpdateEnd:a}){const{vueFlowRef:l,connectionMode:s,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:v,nodesConnectable:g,autoPanOnConnect:y,autoPanSpeed:b,findNode:M,panBy:T,startConnection:c,updateConnection:h,endConnection:f,emits:p,viewport:w,edges:_,nodes:S,isValidConnection:I}=Ie();let P=null,E=!1,N=null,m=null;return{handlePointerDown:function(z){var j;const ee=me(n)==="target",W=ti(z),ae=pr(z.target);if(W&&z.button===0||!W){let de=function($){ie=Et($,K);const{handle:Q,validHandleResult:k}=function(Y,q,C,F,oe,fe){const{x:he,y:_e}=Et(Y),ue=q.elementsFromPoint(he,_e).find(Pe=>Pe.classList.contains("vue-flow__handle"));if(ue){const Pe=ue.getAttribute("data-nodeid");if(Pe){const Xe=oi(void 0,ue),Qe=ue.getAttribute("data-handleid"),D=fe({nodeId:Pe,id:Qe,type:Xe});if(D){const B=oe.find(xe=>xe.nodeId===Pe&&xe.type===Xe&&xe.id===Qe);return{handle:{id:Qe,type:Xe,nodeId:Pe,x:(B==null?void 0:B.x)||C.x,y:(B==null?void 0:B.y)||C.y},validHandleResult:D}}}}let De=[],Be=Number.POSITIVE_INFINITY;for(const Pe of oe){const Xe=Math.sqrt(vn(Pe.x-C.x,2)+vn(Pe.y-C.y,2));if(Xe<=F){const Qe=fe(Pe);Xe<=Be&&(Xe<Be?De=[{handle:Pe,validHandleResult:Qe}]:Xe===Be&&De.push({handle:Pe,validHandleResult:Qe}),Be=Xe)}}if(!De.length)return{handle:null,validHandleResult:{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}};if(De.length===1)return De[0];const Re=De.some(({validHandleResult:Pe})=>Pe.isValid),vt=De.some(({handle:Pe})=>Pe.type==="target");return De.find(({handle:Pe,validHandleResult:Xe})=>vt?Pe.type==="target":!Re||Xe.isValid)||De[0]}($,ae,Pn(ie,w.value,!1,[1,1]),u.value,ne,Y=>Vr($,Y,s.value,me(t),me(e),ee?"target":"source",re,ae,_.value,S.value,M));if(R=Q,X||(A(),X=!0),P=k.connection,E=k.isValid,N=k.handleDomNode,!(E&&R&&(m!=null&&m.endHandle)&&k.endHandle&&m.endHandle.type===k.endHandle.type&&m.endHandle.nodeId===k.endHandle.nodeId&&m.endHandle.handleId===k.endHandle.handleId)){if(h(R&&E?wr({x:R.x,y:R.y},w.value):ie,k.endHandle,function(Y,q){let C=null;return q?C="valid":Y&&!q&&(C="invalid"),C}(!!R,E)),m=k,!R&&!E&&!N)return ni(le);P&&P.source!==P.target&&N&&(ni(le),le=N,N.classList.add("connecting","vue-flow__handle-connecting"),N.classList.toggle("valid",E),N.classList.toggle("vue-flow__handle-valid",E))}},be=function($){(R||N)&&P&&E&&(r?r($,P):p.connect(P)),p.connectEnd($),i&&(a==null||a($)),ni(le),cancelAnimationFrame(ce),f($),X=!1,E=!1,P=null,N=null,ae.removeEventListener("mousemove",de),ae.removeEventListener("mouseup",be),ae.removeEventListener("touchmove",de),ae.removeEventListener("touchend",be)};const te=M(me(t));let R,re=me(o)||I.value||vo;!re&&te&&(re=(ee?te.isValidSourcePos:te.isValidTargetPos)||vo);let ce=0;const{x:Ne,y:Ve}=Et(z),Me=ae==null?void 0:ae.elementFromPoint(Ne,Ve),ke=oi(me(i),Me),K=(j=l.value)==null?void 0:j.getBoundingClientRect();if(!K||!ke)return;let le,ie=Et(z,K),X=!1;const ne=function({nodes:$,nodeId:Q,handleId:k,handleType:Y}){const q=[];for(let C=0;C<$.length;C++){const F=$[C],{handleBounds:oe}=F;let fe=[],he=[];oe&&(fe=Br(F,oe,"source",`${Q}-${k}-${Y}`),he=Br(F,oe,"target",`${Q}-${k}-${Y}`)),q.push(...fe,...he)}return q}({nodes:S.value,nodeId:me(t),handleId:me(e),handleType:ke}),A=()=>{if(!y.value)return;const[$,Q]=Cr(ie,K,b.value);T({x:$,y:Q}),ce=requestAnimationFrame(A)};c({nodeId:me(t),handleId:me(e),type:ke,position:(Me==null?void 0:Me.getAttribute("data-handlepos"))||G.Top},{x:Ne-K.left,y:Ve-K.top}),p.connectStart({event:z,nodeId:me(t),handleId:me(e),handleType:ke}),ae.addEventListener("mousemove",de),ae.addEventListener("mouseup",be),ae.addEventListener("touchmove",de),ae.addEventListener("touchend",be)}},handleClick:function(z){if(!d.value)return;const j=me(n)==="target";if(v.value){let ee=me(o)||I.value||vo;const W=M(me(t));if(!ee&&W&&(ee=(j?W.isValidSourcePos:W.isValidTargetPos)||vo),W&&(W.connectable===void 0?g.value:W.connectable)===!1)return;const ae=pr(z.target),{connection:de,isValid:be}=Vr(z,{nodeId:me(t),id:me(e),type:me(n)},s.value,v.value.nodeId,v.value.handleId||null,v.value.type,ee,ae,_.value,S.value,M),te=de.source===de.target;be&&!te&&p.connect(de),p.clickConnectEnd(z),f(z,!0)}else p.clickConnectStart({event:z,nodeId:me(t),handleId:me(e)}),c({nodeId:me(t),type:me(n),handleId:me(e)},void 0,!0)}}}function Wr(e){var l;const t=(l=e!=null?e:qt(Fr,""))!=null?l:"",n=qt(Ur,ye(null)),{findNode:o,edges:i,emits:r}=Ie(),a=o(t);return a||r.error(new Ge(Le.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:se(()=>o(a.parentNode)),connectedEdges:se(()=>Er([a],i.value))}}function _s(e,t){const n={doubleClick:O(),click:O(),mouseEnter:O(),mouseMove:O(),mouseLeave:O(),contextMenu:O(),dragStart:O(),drag:O(),dragStop:O()};return n.doubleClick.on(o=>{var i,r;t.nodeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.nodeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.nodeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.nodeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.nodeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.nodeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.dragStart.on(o=>{var i,r;t.nodeDragStart(o),(r=(i=e.events)==null?void 0:i.dragStart)==null||r.call(i,o)}),n.drag.on(o=>{var i,r;t.nodeDrag(o),(r=(i=e.events)==null?void 0:i.drag)==null||r.call(i,o)}),n.dragStop.on(o=>{var i,r;t.nodeDragStop(o),(r=(i=e.events)==null?void 0:i.dragStop)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function Kr(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:i,snapToGrid:r,nodesDraggable:a,emits:l}=Ie();return(s,u=!1)=>{const d=r.value?i.value[0]:5,v=r.value?i.value[1]:5,g=u?4:1,y=s.x*d*g,b=s.y*v*g,M=[];for(const T of e.value)if(T.draggable||a&&T.draggable===void 0){const c={x:T.computedPosition.x+y,y:T.computedPosition.y+b},{computedPosition:h}=ei(T,c,l.error,t.value,T.parentNode?o(T.parentNode):void 0);M.push({id:T.id,position:h,from:T.position,distance:{x:s.x,y:s.y},dimensions:T.dimensions})}n(M,!0,!1)}}function $t(){return co(),Promise.resolve(!1)}const Es={zoomIn:$t,zoomOut:$t,zoomTo:$t,fitView:$t,setCenter:$t,fitBounds:$t,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:$t,setTransform:$t,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function ri(e,t=0,n){return e.transition().duration(t).on("end",n)}function Ss(e,t,n){const o=fi(!0);return o.run(()=>{o.run(()=>{let i,r,a=!(!n.nodes.value.length&&!n.edges.value.length);i=en([e.modelValue,()=>{var l,s;return(s=(l=e.modelValue)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setElements(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=en([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([l,s])=>{var u;(u=e.modelValue)!=null&&u.value&&Array.isArray(e.modelValue.value)&&(i==null||i.pause(),e.modelValue.value=[...l,...s],gt(()=>{i==null||i.resume()}))},{immediate:a}),ze(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{let i,r,a=!!n.nodes.value.length;i=en([e.nodes,()=>{var l,s;return(s=(l=e.nodes)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setNodes(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=en([n.nodes,()=>n.nodes.value.length],([l])=>{var s;(s=e.nodes)!=null&&s.value&&Array.isArray(e.nodes.value)&&(i==null||i.pause(),e.nodes.value=[...l],gt(()=>{i==null||i.resume()}))},{immediate:a}),ze(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{let i,r,a=!!n.edges.value.length;i=en([e.edges,()=>{var l,s;return(s=(l=e.edges)==null?void 0:l.value)==null?void 0:s.length}],([l])=>{l&&Array.isArray(l)&&(r==null||r.pause(),n.setEdges(l),r||a||!l.length?r==null||r.resume():a=!0)}),r=en([n.edges,()=>n.edges.value.length],([l])=>{var s;(s=e.edges)!=null&&s.value&&Array.isArray(e.edges.value)&&(i==null||i.pause(),e.edges.value=[...l],gt(()=>{i==null||i.resume()}))},{immediate:a}),ze(()=>{i==null||i.stop(),r==null||r.stop()})}),o.run(()=>{ge(()=>t.minZoom,()=>{t.minZoom&&Ye(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})}),o.run(()=>{ge(()=>t.maxZoom,()=>{t.maxZoom&&Ye(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})}),o.run(()=>{ge(()=>t.translateExtent,()=>{t.translateExtent&&Ye(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})}),o.run(()=>{ge(()=>t.nodeExtent,()=>{t.nodeExtent&&Ye(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})}),o.run(()=>{ge(()=>t.applyDefault,()=>{Ye(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})}),o.run(()=>{const i=r=>ci(this,null,function*(){let a=r;typeof t.autoConnect=="function"&&(a=yield t.autoConnect(r)),a!==!1&&n.addEdges([a])});ge(()=>t.autoConnect,()=>{Ye(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ge(n.autoConnect,(r,a,l)=>{r?n.onConnect(i):n.hooks.value.connect.off(i),l(()=>{n.hooks.value.connect.off(i)})},{immediate:!0})}),(()=>{const i=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const r of Object.keys(t)){const a=r;if(!i.includes(a)){const l=$e(()=>t[a]),s=n[a];Ae(s)&&o.run(()=>{ge(l,u=>{Ye(u)&&(s.value=u)},{immediate:!0})})}}})()}),()=>o.stop()}function qr(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:jo.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Cn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Lt.Bezier,style:{}},connectionMode:Yt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:so()?"Meta":"Control",zoomActivationKeyCode:so()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:{edgesChange:O(),nodesChange:O(),nodeDoubleClick:O(),nodeClick:O(),nodeMouseEnter:O(),nodeMouseMove:O(),nodeMouseLeave:O(),nodeContextMenu:O(),nodeDragStart:O(),nodeDrag:O(),nodeDragStop:O(),nodesInitialized:O(),miniMapNodeClick:O(),miniMapNodeDoubleClick:O(),miniMapNodeMouseEnter:O(),miniMapNodeMouseMove:O(),miniMapNodeMouseLeave:O(),connect:O(),connectStart:O(),connectEnd:O(),clickConnectStart:O(),clickConnectEnd:O(),paneReady:O(),init:O(),move:O(),moveStart:O(),moveEnd:O(),selectionDragStart:O(),selectionDrag:O(),selectionDragStop:O(),selectionContextMenu:O(),selectionStart:O(),selectionEnd:O(),viewportChangeStart:O(),viewportChange:O(),viewportChangeEnd:O(),paneScroll:O(),paneClick:O(),paneContextMenu:O(),paneMouseEnter:O(),paneMouseMove:O(),paneMouseLeave:O(),edgeContextMenu:O(),edgeMouseEnter:O(),edgeMouseMove:O(),edgeMouseLeave:O(),edgeDoubleClick:O(),edgeClick:O(),edgeUpdateStart:O(),edgeUpdate:O(),edgeUpdateEnd:O(),updateNodeInternals:O(),error:O(e=>co(e.message))},applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Ns=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function ks(e,t,n){const o=function(c){function h(p,w){return new Promise(_=>{c.d3Selection&&c.d3Zoom?c.d3Zoom.scaleBy(ri(c.d3Selection,w,()=>{_(!0)}),p):_(!1)})}function f(p,w,_,S){return new Promise(I=>{const{x:P,y:E}=hr({x:-p,y:-w},c.translateExtent),N=an.translate(-P,-E).scale(_);c.d3Selection&&c.d3Zoom?c.d3Zoom.transform(ri(c.d3Selection,S,()=>{I(!0)}),N):I(!1)})}return se(()=>c.d3Zoom&&c.d3Selection&&c.dimensions.width&&c.dimensions.height?{viewportInitialized:!0,zoomIn:p=>h(1.2,p==null?void 0:p.duration),zoomOut:p=>h(.8333333333333334,p==null?void 0:p.duration),zoomTo:(p,w)=>new Promise(_=>{c.d3Selection&&c.d3Zoom?c.d3Zoom.scaleTo(ri(c.d3Selection,w==null?void 0:w.duration,()=>{_(!0)}),p):_(!1)}),setViewport:(p,w)=>f(p.x,p.y,p.zoom,w==null?void 0:w.duration),setTransform:(p,w)=>f(p.x,p.y,p.zoom,w==null?void 0:w.duration),getViewport:()=>({x:c.viewport.x,y:c.viewport.y,zoom:c.viewport.zoom}),getTransform:()=>({x:c.viewport.x,y:c.viewport.y,zoom:c.viewport.zoom}),fitView:(p={padding:.1,includeHiddenNodes:!1,duration:0})=>{var m,z,j;var w,_;const S=[];for(const ee of c.nodes)ee.dimensions.width&&ee.dimensions.height&&(p!=null&&p.includeHiddenNodes||!ee.hidden)&&(!((w=p.nodes)!=null&&w.length)||(_=p.nodes)!=null&&_.length&&p.nodes.includes(ee.id))&&S.push(ee);if(!S.length)return Promise.resolve(!1);const I=br(S),{x:P,y:E,zoom:N}=Sr(I,c.dimensions.width,c.dimensions.height,(m=p.minZoom)!=null?m:c.minZoom,(z=p.maxZoom)!=null?z:c.maxZoom,(j=p.padding)!=null?j:.1,p.offset);return f(P,E,N,p==null?void 0:p.duration)},setCenter:(p,w,_)=>{const S=(_==null?void 0:_.zoom)!==void 0?_.zoom:c.maxZoom;return f(c.dimensions.width/2-p*S,c.dimensions.height/2-w*S,S,_==null?void 0:_.duration)},fitBounds:(p,w={padding:.1})=>{const{x:_,y:S,zoom:I}=Sr(p,c.dimensions.width,c.dimensions.height,c.minZoom,c.maxZoom,w.padding);return f(_,S,I,w==null?void 0:w.duration)},project:p=>Pn(p,c.viewport,c.snapToGrid,c.snapGrid),screenToFlowCoordinate:p=>{if(c.vueFlowRef){const{x:w,y:_}=c.vueFlowRef.getBoundingClientRect();return Pn({x:p.x-w,y:p.y-_},c.viewport,c.snapToGrid,c.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:p=>{if(c.vueFlowRef){const{x:w,y:_}=c.vueFlowRef.getBoundingClientRect();return wr({x:p.x+w,y:p.y+_},c.viewport)}return{x:0,y:0}}}:Es)}(e),i=c=>{const h=c!=null?c:[];e.hooks.updateNodeInternals.trigger(h)},r=c=>Er(c,e.edges),a=c=>{if(c)return t.value.get(c)},l=c=>{if(c)return n.value.get(c)},s=(c,h)=>{const f=new Set,p=new Set;for(const S of c)Xt(S)?f.add(S.id):Pt(S)&&p.add(S.id);const w=At(t.value,f,!0),_=At(n.value,p);if(e.multiSelectionActive){for(const S of f)w.push(Tt(S,h));for(const S of p)_.push(Tt(S,h))}w.length&&e.hooks.nodesChange.trigger(w),_.length&&e.hooks.edgesChange.trigger(_)},u=c=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([c,e.maxZoom]),e.minZoom=c},d=c=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([e.minZoom,c]),e.maxZoom=c},v=c=>{var h;(h=e.d3Zoom)==null||h.translateExtent(c),e.translateExtent=c},g=c=>{const h=c instanceof Function?c(e.nodes):c;(e.initialized||h.length)&&(e.nodes=Lr(h,a,e.hooks.error.trigger))},y=c=>{const h=c instanceof Function?c(e.edges):c;if(!e.initialized&&!h.length)return;const f=Gr(h,e.isValidConnection,a,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Yr(e.connectionLookup,f),e.edges=f},b=c=>{const h=c instanceof Function?c([...e.nodes,...e.edges]):c;(e.initialized||h.length)&&(g(h.filter(Xt)),y(h.filter(Pt)))},M=c=>{const h=ao((f=c).width)&&ao(f.height)&&ao(f.x)&&ao(f.y);var f;const p=h?null:In(c)?c:a(c.id);return!h&&!p?[null,null,h]:[h?c:Ko(p),p,h]},T=c=>{const h=c instanceof Function?c(e):c,f=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ye(h.defaultEdgeOptions)&&(e.defaultEdgeOptions=h.defaultEdgeOptions);const p=h.modelValue||h.nodes||h.edges?[]:void 0;p&&(h.modelValue&&p.push(...h.modelValue),h.nodes&&p.push(...h.nodes),h.edges&&p.push(...h.edges),b(p));for(const w of Object.keys(h)){const _=w,S=h[_];![...Ns,...f].includes(_)&&Ye(S)&&(e[_]=S)}Po(()=>e.d3Zoom).not.toBeNull().then(()=>{Ye(h.maxZoom)&&d(h.maxZoom),Ye(h.minZoom)&&u(h.minZoom),Ye(h.translateExtent)&&v(h.translateExtent)}),e.initialized||(e.initialized=!0)};return{updateNodePositions:(c,h,f)=>{var S,I;var p,w;const _=[];for(const P of c){const E={id:P.id,type:"position",dragging:f,from:P.from};if(h&&(E.position=P.position,P.parentNode)){const N=a(P.parentNode);E.position={x:E.position.x-((S=(p=N==null?void 0:N.computedPosition)==null?void 0:p.x)!=null?S:0),y:E.position.y-((I=(w=N==null?void 0:N.computedPosition)==null?void 0:w.y)!=null?I:0)}}_.push(E)}_!=null&&_.length&&e.hooks.nodesChange.trigger(_)},updateNodeDimensions:c=>{if(!e.vueFlowRef)return;const h=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!h)return;const f=window.getComputedStyle(h),{m22:p}=new window.DOMMatrixReadOnly(f.transform),w=[];for(let _=0;_<c.length;++_){const S=c[_],I=a(S.id);if(I){const P=ro(S.nodeElement);if(!(!P.width||!P.height||I.dimensions.width===P.width&&I.dimensions.height===P.height&&!S.forceUpdate)){const E=S.nodeElement.getBoundingClientRect();I.dimensions=P,I.handleBounds.source=Hr(".source",S.nodeElement,E,p),I.handleBounds.target=Hr(".target",S.nodeElement,E,p),w.push({id:I.id,type:"dimensions",dimensions:P})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),w.length&&e.hooks.nodesChange.trigger(w)},setElements:b,setNodes:g,setEdges:y,addNodes:c=>{let h=c instanceof Function?c(e.nodes):c;h=Array.isArray(h)?h:[h];const f=Lr(h,a,e.hooks.error.trigger),p=[];for(const w of f)p.push(Ir(w));p.length&&e.hooks.nodesChange.trigger(p)},addEdges:c=>{let h=c instanceof Function?c(e.edges):c;h=Array.isArray(h)?h:[h];const f=Gr(h,e.isValidConnection,a,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),p=[];for(const w of f)p.push(Ir(w));p.length&&e.hooks.edgesChange.trigger(p)},removeNodes:(c,h=!0,f=!1)=>{const p=c instanceof Function?c(e.nodes):c,w=Array.isArray(p)?p:[p],_=[],S=[];function I(E){const N=r(E);for(const m of N)Ye(m.deletable)&&!m.deletable||S.push(Tr(m.id,m.source,m.target,m.sourceHandle,m.targetHandle))}function P(E){const N=[];for(const m of e.nodes)m.parentNode===E&&N.push(m);if(N.length){for(const m of N)_.push(Pr(m.id));h&&I(N);for(const m of N)P(m.id)}}for(const E of w){const N=typeof E=="string"?a(E):E;N&&(Ye(N.deletable)&&!N.deletable||(_.push(Pr(N.id)),h&&I([N]),f&&P(N.id)))}S.length&&e.hooks.edgesChange.trigger(S),_.length&&e.hooks.nodesChange.trigger(_)},removeEdges:c=>{const h=c instanceof Function?c(e.edges):c,f=Array.isArray(h)?h:[h],p=[];for(const w of f){const _=typeof w=="string"?l(w):w;_&&(Ye(_.deletable)&&!_.deletable||p.push(Tr(typeof w=="string"?w:w.id,_.source,_.target,_.sourceHandle,_.targetHandle)))}e.hooks.edgesChange.trigger(p)},findNode:a,findEdge:l,updateEdge:(c,h,f=!0)=>function(p,w,_,S,I,P){if(!w.source||!w.target)return P(new Ge(Le.EDGE_INVALID,p.id)),!1;const E=S(p.id);if(!E)return P(new Ge(Le.EDGE_NOT_FOUND,p.id)),!1;const j=p,{id:N}=j,m=hn(j,["id"]),z=Ze(L({},m),{id:I?yr(w):N,source:w.source,target:w.target,sourceHandle:w.sourceHandle,targetHandle:w.targetHandle});return _.splice(_.indexOf(E),1,z),z}(c,h,e.edges,l,f,e.hooks.error.trigger),updateEdgeData:(c,h,f={replace:!1})=>{const p=l(c);if(!p)return;const w=typeof h=="function"?h(p):h;p.data=f.replace?w:L(L({},p.data),w)},updateNode:(c,h,f={replace:!1})=>{const p=a(c);if(!p)return;const w=typeof h=="function"?h(p):h;f.replace?e.nodes.splice(e.nodes.indexOf(p),1,w):Object.assign(p,w)},updateNodeData:(c,h,f={replace:!1})=>{const p=a(c);if(!p)return;const w=typeof h=="function"?h(p):h;p.data=f.replace?w:L(L({},p.data),w)},applyEdgeChanges:c=>{const h=Mr(c,e.edges);return Yr(e.connectionLookup,h),h},applyNodeChanges:c=>Mr(c,e.nodes),addSelectedElements:c=>{s(c,!0)},addSelectedNodes:c=>{if(e.multiSelectionActive){const h=c.map(f=>Tt(f.id,!0));e.hooks.nodesChange.trigger(h)}else e.hooks.nodesChange.trigger(At(t.value,new Set(c.map(h=>h.id)),!0)),e.hooks.edgesChange.trigger(At(n.value))},addSelectedEdges:c=>{if(e.multiSelectionActive){const h=c.map(f=>Tt(f.id,!0));e.hooks.edgesChange.trigger(h)}else e.hooks.edgesChange.trigger(At(n.value,new Set(c.map(h=>h.id)))),e.hooks.nodesChange.trigger(At(t.value,new Set,!0))},setMinZoom:u,setMaxZoom:d,setTranslateExtent:v,setNodeExtent:c=>{e.nodeExtent=c,i()},setPaneClickDistance:c=>{var h;(h=e.d3Zoom)==null||h.clickDistance(c)},removeSelectedElements:c=>{if(!c||!c.length)return s([],!1);const h=c.reduce((f,p)=>{const w=Tt(p.id,!1);return Xt(p)?f.nodes.push(w):f.edges.push(w),f},{nodes:[],edges:[]});h.nodes.length&&e.hooks.nodesChange.trigger(h.nodes),h.edges.length&&e.hooks.edgesChange.trigger(h.edges)},removeSelectedNodes:c=>{const h=(c||e.nodes).map(f=>(f.selected=!1,Tt(f.id,!1)));e.hooks.nodesChange.trigger(h)},removeSelectedEdges:c=>{const h=(c||e.edges).map(f=>(f.selected=!1,Tt(f.id,!1)));e.hooks.edgesChange.trigger(h)},startConnection:(c,h,f=!1)=>{f?e.connectionClickStartHandle=c:e.connectionStartHandle=c,e.connectionEndHandle=null,e.connectionStatus=null,h&&(e.connectionPosition=h)},updateConnection:(c,h=null,f=null)=>{e.connectionStartHandle&&(e.connectionPosition=c,e.connectionEndHandle=h,e.connectionStatus=f)},endConnection:(c,h)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,h?e.connectionClickStartHandle=null:e.connectionStartHandle=null},setInteractive:c=>{e.nodesDraggable=c,e.nodesConnectable=c,e.elementsSelectable=c},setState:T,getIntersectingNodes:(c,h=!0,f=e.nodes)=>{const[p,w,_]=M(c);if(!p)return[];const S=[];for(const I of f||e.nodes){if(!(_||I.id!==w.id&&I.computedPosition))continue;const P=qo(Ko(I),p);(h&&P>0||P>=Number(p.width)*Number(p.height))&&S.push(I)}return S},getIncomers:c=>function(...h){if(h.length===3){const[_,S,I]=h;return mr(_,S,I,"source")}const[f,p]=h,w=typeof f=="string"?f:f.id;return p.filter(_=>Pt(_)&&_.target===w).map(_=>p.find(S=>Xt(S)&&S.id===_.source))}(c,e.nodes,e.edges),getOutgoers:c=>function(...h){if(h.length===3){const[_,S,I]=h;return mr(_,S,I,"target")}const[f,p]=h,w=typeof f=="string"?f:f.id;return p.filter(_=>Pt(_)&&_.source===w).map(_=>p.find(S=>Xt(S)&&S.id===_.target))}(c,e.nodes,e.edges),getConnectedEdges:r,getHandleConnections:({id:c,type:h,nodeId:f})=>{var w;var p;return Array.from((w=(p=e.connectionLookup.get(`${f}-${h}-${c!=null?c:null}`))==null?void 0:p.values())!=null?w:[])},isNodeIntersecting:(c,h,f=!0)=>{const[p]=M(c);if(!p)return!1;const w=qo(p,h);return f&&w>0||w>=Number(p.width)*Number(p.height)},panBy:c=>{const{viewport:h,dimensions:f,d3Zoom:p,d3Selection:w,translateExtent:_}=e;if(!p||!w||!c.x&&!c.y)return!1;const S=an.translate(h.x+c.x,h.y+c.y).scale(h.zoom),I=[[0,0],[f.width,f.height]],P=p.constrain()(S,I,_),E=e.viewport.x!==P.x||e.viewport.y!==P.y||e.viewport.zoom!==P.k;return p.transform(w,P),E},fitView:c=>o.value.fitView(c),zoomIn:c=>o.value.zoomIn(c),zoomOut:c=>o.value.zoomOut(c),zoomTo:(c,h)=>o.value.zoomTo(c,h),setViewport:(c,h)=>o.value.setViewport(c,h),setTransform:(c,h)=>o.value.setTransform(c,h),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(c,h,f)=>o.value.setCenter(c,h,f),fitBounds:(c,h)=>o.value.fitBounds(c,h),project:c=>o.value.project(c),screenToFlowCoordinate:c=>o.value.screenToFlowCoordinate(c),flowToScreenCoordinate:c=>o.value.flowToScreenCoordinate(c),toObject:()=>{const c=[],h=[];for(const w of e.nodes){const f=w,{computedPosition:_,handleBounds:S,selected:I,dimensions:P,isParent:E,resizing:N,dragging:m,events:z}=f,j=hn(f,["computedPosition","handleBounds","selected","dimensions","isParent","resizing","dragging","events"]);c.push(j)}for(const w of e.edges){const p=w,{selected:_,sourceNode:S,targetNode:I,events:P}=p,E=hn(p,["selected","sourceNode","targetNode","events"]);h.push(E)}return JSON.parse(JSON.stringify({nodes:c,edges:h,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:c=>new Promise(h=>{const{nodes:f,edges:p,position:w,zoom:_,viewport:S}=c;if(f&&g(f),p&&y(p),(S==null?void 0:S.x)&&(S==null?void 0:S.y)||w){const I=(S==null?void 0:S.x)||w[0],P=(S==null?void 0:S.y)||w[1],E=(S==null?void 0:S.zoom)||_||e.viewport.zoom;return Po(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:I,y:P,zoom:E}).then(()=>{h(!0)})})}h(!0)}),updateNodeInternals:i,viewportHelper:o,$reset:()=>{var h,f,p;const c=qr();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const w=an.translate((h=c.defaultViewport.x)!=null?h:0,(f=c.defaultViewport.y)!=null?f:0).scale(Gt((p=c.defaultViewport.zoom)!=null?p:1,c.minZoom,c.maxZoom)),_=e.viewportRef.getBoundingClientRect(),S=[[0,0],[_.width,_.height]],I=e.d3Zoom.constrain()(w,S,c.translateExtent);e.d3Zoom.transform(e.d3Selection,I)}T(c)},$destroy:()=>{}}}const Cs=["data-id","data-handleid","data-nodeid","data-handlepos"],Ft=Oe({name:"Handle",compatConfig:{MODE:3},props:{id:{default:null},type:{},position:{default:()=>G.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=vi(e,["position","connectable","connectableStart","connectableEnd","id"]),o=$e(()=>{var E;return(E=n.type)!=null?E:"source"}),i=$e(()=>{var E;return(E=n.isValidConnection)!=null?E:null}),{connectionStartHandle:r,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:s,nodesConnectable:u,noDragClassName:d,noPanClassName:v}=Ie(),{id:g,node:y,nodeEl:b,connectedEdges:M}=Wr(),T=ye(),c=$e(()=>e.connectableStart===void 0||e.connectableStart),h=$e(()=>e.connectableEnd===void 0||e.connectableEnd),f=$e(()=>{var E,N,m,z,j,ee;return((E=r.value)==null?void 0:E.nodeId)===g&&((N=r.value)==null?void 0:N.handleId)===e.id&&((m=r.value)==null?void 0:m.type)===o.value||((z=l.value)==null?void 0:z.nodeId)===g&&((j=l.value)==null?void 0:j.handleId)===e.id&&((ee=l.value)==null?void 0:ee.type)===o.value}),p=$e(()=>{var E,N,m;return((E=a.value)==null?void 0:E.nodeId)===g&&((N=a.value)==null?void 0:N.handleId)===e.id&&((m=a.value)==null?void 0:m.type)===o.value}),{handlePointerDown:w,handleClick:_}=jr({nodeId:g,handleId:e.id,isValidConnection:i,type:o}),S=se(()=>typeof e.connectable=="string"&&e.connectable==="single"?!M.value.some(E=>{const N=E[`${o.value}Handle`];return E[o.value]===g&&(!N||N===e.id)}):typeof e.connectable=="number"?M.value.filter(E=>{const N=E[`${o.value}Handle`];return E[o.value]===g&&(!N||N===e.id)}).length<e.connectable:typeof e.connectable=="function"?e.connectable(y,M.value):Ye(e.connectable)?e.connectable:u.value);function I(E){const N=ti(E);S.value&&c.value&&(N&&E.button===0||!N)&&w(E)}function P(E){g&&(a.value||c.value)&&S.value&&_(E)}return mt(()=>{var de;var E;if(!y.dimensions.width||!y.dimensions.height)return;const N=(E=y.handleBounds[o.value])==null?void 0:E.find(be=>be.id===e.id);if(!s.value||N)return;const m=s.value.querySelector(".vue-flow__transformationpane");if(!(b.value&&T.value&&m&&e.id))return;const z=b.value.getBoundingClientRect(),j=T.value.getBoundingClientRect(),ee=window.getComputedStyle(m),{m22:W}=new window.DOMMatrixReadOnly(ee.transform),ae=L({id:e.id,position:e.position,x:(j.left-z.left)/W,y:(j.top-z.top)/W},ro(T.value));y.handleBounds[o.value]=[...(de=y.handleBounds[o.value])!=null?de:[],ae]}),hi(()=>{const E=y.handleBounds[o.value];E&&(y.handleBounds[o.value]=E.filter(N=>N.id!==e.id))}),t({handleClick:_,handlePointerDown:w,onClick:P,onPointerDown:I}),(E,N)=>(we(),Ce("div",{ref_key:"handle",ref:T,"data-id":`${Z(g)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":Z(g),"data-handlepos":E.position,class:Dt(["vue-flow__handle",[`vue-flow__handle-${E.position}`,`vue-flow__handle-${e.id}`,Z(d),Z(v),o.value,{connectable:S.value,connecting:p.value,connectablestart:c.value,connectableend:h.value,connectionindicator:S.value&&(c.value&&!f.value||h.value&&f.value)}]]),onMousedown:I,onTouchstartPassive:I,onClick:P},[Ct(E.$slots,"default",{id:E.id})],42,Cs))}}),ho=function({sourcePosition:e=G.Bottom,targetPosition:t=G.Top,label:n,connectable:o=!0,isValidTargetPos:i,isValidSourcePos:r,data:a}){const l=a.label||n;return[Ee(Ft,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof l!="string"&&l?Ee(l):Ee(lt,[l]),Ee(Ft,{type:"source",position:e,connectable:o,isValidConnection:r})]};ho.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"],ho.inheritAttrs=!1,ho.compatConfig={MODE:3};const Ms=ho,po=function({targetPosition:e=G.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:i}){const r=i.label||t;return[Ee(Ft,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof r!="string"&&r?Ee(r):Ee(lt,[r])]};po.props=["targetPosition","label","isValidTargetPos","connectable","data"],po.inheritAttrs=!1,po.compatConfig={MODE:3};const Is=po,go=function({sourcePosition:e=G.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:i}){const r=i.label||t;return[typeof r!="string"&&r?Ee(r):Ee(lt,[r]),Ee(Ft,{type:"source",position:e,connectable:n,isValidConnection:o})]};go.props=["sourcePosition","label","isValidSourcePos","connectable","data"],go.inheritAttrs=!1,go.compatConfig={MODE:3};const Ps=go,Ts=["transform"],As=["width","height","x","y","rx","ry"],$s=["y"],Os=Oe({name:"EdgeText",compatConfig:{MODE:3},props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ye({x:0,y:0,width:0,height:0}),n=ye(null),o=se(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);function i(){if(!n.value)return;const r=n.value.getBBox();r.width===t.value.width&&r.height===t.value.height||(t.value=r)}return mt(i),ge([()=>e.x,()=>e.y,n,()=>e.label],i),(r,a)=>(we(),Ce("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(we(),Ce("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:st(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,As)):ut("",!0),Bt("text",ma(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[Ct(r.$slots,"default",{},()=>[typeof r.label!="string"?(we(),Jt(ya(r.label),{key:0})):(we(),Ce(lt,{key:1},[wa(ko(r.label),1)],64))])],16,$s)],8,Ts))}}),zs=["id","d","marker-end","marker-start"],Ds=["d","stroke-width"],mo=Oe({name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3},props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=vi(e,["interactionWidth","labelShowBg"]),o=ye(null),i=ye(null),r=ye(null),a=xa();return t({pathEl:o,interactionEl:i,labelEl:r}),(l,s)=>(we(),Ce(lt,null,[Bt("path",{id:l.id,ref_key:"pathEl",ref:o,d:l.path,style:st(n.style),class:Dt(["vue-flow__edge-path",Z(a).class]),"marker-end":l.markerEnd,"marker-start":l.markerStart},null,14,zs),l.interactionWidth?(we(),Ce("path",{key:0,ref_key:"interactionEl",ref:i,fill:"none",d:l.path,"stroke-width":l.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Ds)):ut("",!0),l.label&&l.labelX&&l.labelY?(we(),Jt(Os,{key:1,ref_key:"labelEl",ref:r,x:l.labelX,y:l.labelY,label:l.label,"label-show-bg":l.labelShowBg,"label-bg-style":l.labelBgStyle,"label-bg-padding":l.labelBgPadding,"label-bg-border-radius":l.labelBgBorderRadius,"label-style":l.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):ut("",!0)],64))}});function Jr({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,r=n<e?n+i:n-i,a=Math.abs(o-t)/2;return[r,o<t?o+a:o-a,i,a]}function Qr({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:r,targetControlX:a,targetControlY:l}){const s=.125*e+.375*i+.375*a+.125*n,u=.125*t+.375*r+.375*l+.125*o;return[s,u,Math.abs(s-e),Math.abs(u-t)]}function yo(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function ea({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let a,l;switch(e){case G.Left:a=t-yo(t-o,r),l=n;break;case G.Right:a=t+yo(o-t,r),l=n;break;case G.Top:a=t,l=n-yo(n-i,r);break;case G.Bottom:a=t,l=n+yo(i-n,r)}return[a,l]}function ta(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top,curvature:l=.25}=e,[s,u]=ea({pos:o,x1:t,y1:n,x2:i,y2:r,c:l}),[d,v]=ea({pos:a,x1:i,y1:r,x2:t,y2:n,c:l}),[g,y,b,M]=Qr({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:s,sourceControlY:u,targetControlX:d,targetControlY:v});return[`M${t},${n} C${s},${u} ${d},${v} ${i},${r}`,g,y,b,M]}function na({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,a;switch(e){case G.Left:case G.Right:r=.5*(t+o),a=n;break;case G.Top:case G.Bottom:r=t,a=.5*(n+i)}return[r,a]}function oa(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top}=e,[l,s]=na({pos:o,x1:t,y1:n,x2:i,y2:r}),[u,d]=na({pos:a,x1:i,y1:r,x2:t,y2:n}),[v,g,y,b]=Qr({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${s} ${u},${d} ${i},${r}`,v,g,y,b]}const ia={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}};function ra(e,t){return Math.sqrt(vn(t.x-e.x,2)+vn(t.y-e.y,2))}function Bs({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:o=G.Top,center:i,offset:r}){var _,S;const a=ia[t],l=ia[o],s={x:e.x+a.x*r,y:e.y+a.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},d=function({source:I,sourcePosition:P=G.Bottom,target:E}){return P===G.Left||P===G.Right?I.x<E.x?{x:1,y:0}:{x:-1,y:0}:I.y<E.y?{x:0,y:1}:{x:0,y:-1}}({source:s,sourcePosition:t,target:u}),v=d.x!==0?"x":"y",g=d[v];let y,b,M;const T={x:0,y:0},c={x:0,y:0},[h,f,p,w]=Jr({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[v]*l[v]==-1){b=(_=i.x)!=null?_:h,M=(S=i.y)!=null?S:f;const I=[{x:b,y:s.y},{x:b,y:u.y}],P=[{x:s.x,y:M},{x:u.x,y:M}];y=a[v]===g?v==="x"?I:P:v==="x"?P:I}else{const I=[{x:s.x,y:u.y}],P=[{x:u.x,y:s.y}];if(y=v==="x"?a.x===g?P:I:a.y===g?I:P,t===o){const m=Math.abs(e[v]-n[v]);if(m<=r){const z=Math.min(r-1,r-m);a[v]===g?T[v]=(s[v]>e[v]?-1:1)*z:c[v]=(u[v]>n[v]?-1:1)*z}}if(t!==o){const m=v==="x"?"y":"x",z=a[v]===l[m],j=s[m]>u[m],ee=s[m]<u[m];(a[v]===1&&(!z&&j||z&&ee)||a[v]!==1&&(!z&&ee||z&&j))&&(y=v==="x"?I:P)}const E={x:s.x+T.x,y:s.y+T.y},N={x:u.x+c.x,y:u.y+c.y};Math.max(Math.abs(E.x-y[0].x),Math.abs(N.x-y[0].x))>=Math.max(Math.abs(E.y-y[0].y),Math.abs(N.y-y[0].y))?(b=(E.x+N.x)/2,M=y[0].y):(b=y[0].x,M=(E.y+N.y)/2)}return[[e,{x:s.x+T.x,y:s.y+T.y},...y,{x:u.x+c.x,y:u.y+c.y},n],b,M,p,w]}function wo(e){const{sourceX:t,sourceY:n,sourcePosition:o=G.Bottom,targetX:i,targetY:r,targetPosition:a=G.Top,borderRadius:l=5,centerX:s,centerY:u,offset:d=20}=e,[v,g,y,b,M]=Bs({source:{x:t,y:n},sourcePosition:o,target:{x:i,y:r},targetPosition:a,center:{x:s,y:u},offset:d});return[v.reduce((T,c,h)=>{let f;return f=h>0&&h<v.length-1?function(p,w,_,S){const I=Math.min(ra(p,w)/2,ra(w,_)/2,S),{x:P,y:E}=w;if(p.x===P&&P===_.x||p.y===E&&E===_.y)return`L${P} ${E}`;if(p.y===E)return`L ${P+I*(p.x<_.x?-1:1)},${E}Q ${P},${E} ${P},${E+I*(p.y<_.y?1:-1)}`;const N=p.x<_.x?1:-1;return`L ${P},${E+I*(p.y<_.y?-1:1)}Q ${P},${E} ${P+I*N},${E}`}(v[h-1],c,v[h+1],l):`${h===0?"M":"L"}${c.x} ${c.y}`,T+=f},""),g,y,b,M]}const Vs=Oe({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{const[n,o,i]=function(r){const{sourceX:a,sourceY:l,targetX:s,targetY:u}=r,[d,v,g,y]=Jr({sourceX:a,sourceY:l,targetX:s,targetY:u});return[`M ${a},${l}L ${s},${u}`,d,v,g,y]}(e);return Ee(mo,L(L({path:n,labelX:o,labelY:i},t),e))}}),aa=Oe({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=wo(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ee(mo,L(L({path:n,labelX:o,labelY:i},t),e))}}),Rs=Oe({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup:(e,{attrs:t})=>()=>Ee(aa,Ze(L(L({},e),t),{borderRadius:0}))}),Hs=Oe({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=ta(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ee(mo,L(L({path:n,labelX:o,labelY:i},t),e))}}),Ls=Oe({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup:(e,{attrs:t})=>()=>{var r,a;const[n,o,i]=oa(Ze(L({},e),{sourcePosition:(r=e.sourcePosition)!=null?r:G.Bottom,targetPosition:(a=e.targetPosition)!=null?a:G.Top}));return Ee(mo,L(L({path:n,labelX:o,labelY:i},t),e))}}),Ys={input:Ps,default:Ms,output:Is},Gs={default:Hs,straight:Vs,step:Rs,smoothstep:aa,simplebezier:Ls};class Ut{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var i;var t;const n=(t=pn())==null?void 0:t.appContext.app,o=(i=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?i:Ut.instance;return Ut.instance=o!=null?o:new Ut,n&&(n.config.globalProperties.$vueFlowStorage=Ut.instance),Ut.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=qr(),i=qe(o),r={};for(const[g,y]of Object.entries(i.hooks))r[`on${g.charAt(0).toUpperCase()+g.slice(1)}`]=y.on;const a={};for(const[g,y]of Object.entries(i.hooks))a[g]=y.trigger;const l=se(()=>{const g=new Map;for(const y of i.nodes)g.set(y.id,y);return g}),s=se(()=>{const g=new Map;for(const y of i.edges)g.set(y.id,y);return g}),u=function(g,y,b){const M=se(()=>N=>y.value.get(N)),T=se(()=>N=>b.value.get(N)),c=se(()=>{const N=L(L({},Gs),g.edgeTypes),m=Object.keys(N);for(const z of g.edges)z.type&&!m.includes(z.type)&&(N[z.type]=z.type);return N}),h=se(()=>{const N=L(L({},Ys),g.nodeTypes),m=Object.keys(N);for(const z of g.nodes)z.type&&!m.includes(z.type)&&(N[z.type]=z.type);return N}),f=se(()=>g.onlyRenderVisibleElements?_r(g.nodes,{x:0,y:0,width:g.dimensions.width,height:g.dimensions.height},g.viewport,!0):g.nodes),p=se(()=>{if(g.onlyRenderVisibleElements){const N=[];for(const m of g.edges){const z=y.value.get(m.source),j=y.value.get(m.target);ps({sourcePos:z.computedPosition||{x:0,y:0},targetPos:j.computedPosition||{x:0,y:0},sourceWidth:z.dimensions.width,sourceHeight:z.dimensions.height,targetWidth:j.dimensions.width,targetHeight:j.dimensions.height,width:g.dimensions.width,height:g.dimensions.height,viewport:g.viewport})&&N.push(m)}return N}return g.edges}),w=se(()=>[...f.value,...p.value]),_=se(()=>{const N=[];for(const m of g.nodes)m.selected&&N.push(m);return N}),S=se(()=>{const N=[];for(const m of g.edges)m.selected&&N.push(m);return N}),I=se(()=>[..._.value,...S.value]),P=se(()=>{const N=[];for(const m of g.nodes)m.dimensions.width&&m.dimensions.height&&m.handleBounds!==void 0&&N.push(m);return N}),E=se(()=>f.value.length>0&&P.value.length===f.value.length);return{getNode:M,getEdge:T,getElements:w,getEdgeTypes:c,getNodeTypes:h,getEdges:p,getNodes:f,getSelectedElements:I,getSelectedNodes:_,getSelectedEdges:S,getNodesInitialized:P,areNodesInitialized:E}}(i,l,s),d=ks(i,l,s);d.setState(L(L({},i),n));const v=Ze(L(L(L(L({},r),u),d),Ca(i)),{nodeLookup:l,edgeLookup:s,emits:a,id:t,vueFlowVersion:"1.41.5",$destroy:()=>{this.remove(t)}});return this.set(t,v),v}getId(){return"vue-flow-"+this.currentId++}}function Ie(e){const t=Ut.getInstance(),n=Te(),o=typeof e=="object",i=o?e:{id:e},r=i.id,a=r!=null?r:n==null?void 0:n.vueFlowId;let l;if(n){const s=qt(Xr,null);s==null||a&&s.id!==a||(l=s)}if(l||a&&(l=t.get(a)),!l||a&&l.id!==a){const s=r!=null?r:t.getId(),u=t.create(s,i);l=u,(n!=null?n:fi(!0)).run(()=>{ge(u.applyDefault,(d,v,g)=>{const y=M=>{u.applyNodeChanges(M)},b=M=>{u.applyEdgeChanges(M)};d?(u.onNodesChange(y),u.onEdgesChange(b)):(u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)),g(()=>{u.hooks.value.nodesChange.off(y),u.hooks.value.edgesChange.off(b)})},{immediate:!0}),Ln(()=>{if(l){const d=t.get(l.id);d?d.$destroy():co(l.id)}})})}else o&&l.setState(i);if(n&&(Qt(Xr,l),n.vueFlowId=l.id),o){const s=pn();(s==null?void 0:s.type.name)!=="VueFlow"&&l.emits.error(new Ge(Le.USEVUEFLOW_OPTIONS))}return l}const Xs=Oe({name:"UserSelection",compatConfig:{MODE:3},props:{userSelectionRect:{}},setup:e=>(t,n)=>(we(),Ce("div",{class:"vue-flow__selection vue-flow__container",style:st({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}),Fs=["tabIndex"],Us=Oe({name:"NodesSelection",compatConfig:{MODE:3},setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:i,disableKeyboardA11y:r,userSelectionActive:a}=Ie(),l=Kr(),s=ye(null),u=Zr({el:s,onStart(b){t.selectionDragStart(b)},onDrag(b){t.selectionDrag(b)},onStop(b){t.selectionDragStop(b)}});mt(()=>{var b;r.value||(b=s.value)==null||b.focus({preventScroll:!0})});const d=se(()=>br(o.value)),v=se(()=>({width:`${d.value.width}px`,height:`${d.value.height}px`,top:`${d.value.y}px`,left:`${d.value.x}px`}));function g(b){t.selectionContextMenu({event:b,nodes:o.value})}function y(b){r||ln[b.key]&&l({x:ln[b.key].x,y:ln[b.key].y},b.shiftKey)}return(b,M)=>!Z(a)&&d.value.width&&d.value.height?(we(),Ce("div",{key:0,class:Dt(["vue-flow__nodesselection vue-flow__container",Z(i)]),style:st({transform:`translate(${Z(n).x}px,${Z(n).y}px) scale(${Z(n).zoom})`})},[Bt("div",{ref_key:"el",ref:s,class:Dt([{dragging:Z(u)},"vue-flow__nodesselection-rect"]),style:st(v.value),tabIndex:Z(r)?void 0:-1,onContextmenu:g,onKeydown:y},null,46,Fs)],6)):ut("",!0)}}),Zs=Oe({name:"Pane",compatConfig:{MODE:3},props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:i,userSelectionActive:r,removeSelectedElements:a,panOnDrag:l,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:d,getSelectedEdges:v,getSelectedNodes:g,removeNodes:y,removeEdges:b,selectionMode:M,deleteKeyCode:T,multiSelectionKeyCode:c,multiSelectionActive:h,edgeLookup:f,nodeLookup:p}=Ie(),w=ye(null),_=ye(0),S=ye(0),I=ye(),P=ye(new Map),E=$e(()=>u.value&&(e.isSelecting||r.value));let N=!1,m=!1;const z=Mn(T,{actInsideInputWithModifier:!1}),j=Mn(c);function ee(te,R){return re=>{re.target===R&&(te==null||te(re))}}function W(te){N?N=!1:(i.paneClick(te),a(),d.value=!1)}function ae(te){var R;Array.isArray(l.value)&&((R=l.value)!=null&&R.includes(2))?te.preventDefault():i.paneContextMenu(te)}function de(te){i.paneScroll(te)}function be(te){var R;te.button===0&&m&&((R=te.target)==null||R.releasePointerCapture(te.pointerId),!r.value&&s.value&&te.target===w.value&&W(te),_.value>0&&(d.value=!0),r.value=!1,s.value=null,_.value=0,S.value=0,i.selectionEnd(te),e.selectionKeyPressed&&(N=!1),m=!1)}return ge(z,te=>{te&&(y(g.value),b(v.value),d.value=!1)}),ge(j,te=>{h.value=te}),(te,R)=>(we(),Ce("div",{ref_key:"container",ref:w,class:Dt(["vue-flow__pane vue-flow__container",{selection:te.isSelecting}]),onClick:R[0]||(R[0]=re=>E.value?void 0:ee(W,w.value)(re)),onContextmenu:R[1]||(R[1]=re=>ee(ae,w.value)(re)),onWheelPassive:R[2]||(R[2]=re=>ee(de,w.value)(re)),onPointerenter:R[3]||(R[3]=re=>E.value?void 0:Z(i).paneMouseEnter(re)),onPointerdown:R[4]||(R[4]=re=>E.value?function(ce){var Ne,Ve,Me,ke,K;if(I.value=(Ne=t.value)==null?void 0:Ne.getBoundingClientRect(),!u.value||!e.isSelecting||ce.button!==0||ce.target!==w.value||!I.value)return;(Me=(Ve=ce.target)==null?void 0:Ve.setPointerCapture)==null||Me.call(Ve,ce.pointerId);const{x:le,y:ie}=function(X,ne){return{x:X.clientX-ne.left,y:X.clientY-ne.top}}(ce,I.value);m=!0,N=!1,P.value=new Map;for(const[X,ne]of f.value)P.value.set(ne.source,((ke=P.value.get(ne.source))==null?void 0:ke.add(X))||new Set([X])),P.value.set(ne.target,((K=P.value.get(ne.target))==null?void 0:K.add(X))||new Set([X]));a(),s.value={width:0,height:0,startX:le,startY:ie,x:le,y:ie},i.selectionStart(ce)}(re):Z(i).paneMouseMove(re)),onPointermove:R[5]||(R[5]=re=>E.value?function(ce){if(!I.value||!s.value)return;N=!0;const{x:Ne,y:Ve}=Et(ce,I.value),{startX:Me=0,startY:ke=0}=s.value,K={startX:Me,startY:ke,x:Ne<Me?Ne:Me,y:Ve<ke?Ve:ke,width:Math.abs(Ne-Me),height:Math.abs(Ve-ke)},le=_r(n.value,K,o.value,M.value===jo.Partial,!0),ie=new Set,X=new Set;for(const ne of le){X.add(ne.id);const A=P.value.get(ne.id);if(A)for(const $ of A)ie.add($)}if(_.value!==X.size){_.value=X.size;const ne=At(p.value,X,!0);i.nodesChange(ne)}if(S.value!==ie.size){S.value=ie.size;const ne=At(f.value,ie);i.edgesChange(ne)}s.value=K,r.value=!0,d.value=!1}(re):Z(i).paneMouseMove(re)),onPointerup:R[6]||(R[6]=re=>E.value?be(re):void 0),onPointerleave:R[7]||(R[7]=re=>Z(i).paneMouseLeave(re))},[Ct(te.$slots,"default"),Z(r)&&Z(s)?(we(),Jt(Xs,{key:0,"user-selection-rect":Z(s)},null,8,["user-selection-rect"])):ut("",!0),Z(d)&&Z(g).length?(we(),Jt(Us,{key:1})):ut("",!0)],34))}}),js=Oe({name:"Transform",compatConfig:{MODE:3},setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Ie(),i=se(()=>!!n.value&&!o.value),r=se(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,l)=>(we(),Ce("div",{class:"vue-flow__transformationpane vue-flow__container",style:st({transform:r.value,opacity:i.value?0:void 0})},[Ct(a.$slots,"default")],4))}}),Ws=Oe({name:"Viewport",compatConfig:{MODE:3},setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:i,zoomActivationKeyCode:r,selectionKeyCode:a,panActivationKeyCode:l,panOnScroll:s,panOnScrollMode:u,panOnScrollSpeed:d,panOnDrag:v,zoomOnDoubleClick:g,zoomOnPinch:y,zoomOnScroll:b,preventScrolling:M,noWheelClassName:T,noPanClassName:c,emits:h,connectionStartHandle:f,userSelectionActive:p,paneDragging:w,d3Zoom:_,d3Selection:S,d3ZoomHandler:I,viewport:P,viewportRef:E,paneClickDistance:N}=Ie();(function(K){const{emits:le,dimensions:ie}=Ie();let X;mt(()=>{const ne=K.value,A=()=>{if(!ne)return;const $=ro(ne);$.width!==0&&$.height!==0||le.error(new Ge(Le.MISSING_VIEWPORT_DIMENSIONS)),ie.value={width:$.width||500,height:$.height||500}};A(),window.addEventListener("resize",A),ne&&(X=new ResizeObserver(()=>A()),X.observe(ne)),pi(()=>{window.removeEventListener("resize",A),X&&ne&&X.unobserve(ne)})})})(E);const m=ye(!1),z=ye(!1);let j=null,ee=!1,W=0,ae={x:0,y:0,zoom:0};const de=Mn(l),be=Mn(a),te=Mn(r),R=$e(()=>(!be.value||be.value&&a.value===!0)&&(de.value||v.value)),re=$e(()=>de.value||s.value),ce=$e(()=>be.value||a.value===!0&&R.value!==!0);function Ne(K,le){return le===2&&Array.isArray(K)&&K.includes(2)}function Ve(K){const le=K.ctrlKey&&so()?10:1;return-K.deltaY*(K.deltaMode===1?.05:K.deltaMode?1:.002)*le}function Me(K){return{x:K.x,y:K.y,zoom:K.k}}function ke(K,le){return K.target.closest(`.${le}`)}return mt(()=>{var k,Y,q;if(!E.value)return void co();const K=E.value,le=K.getBoundingClientRect(),ie=function(){var C,F,oe,fe=ss,he=us,_e=fs,ue=ds,De=cs,Be=[0,1/0],Re=[[-1/0,-1/0],[1/0,1/0]],vt=250,Pe=Vl,Xe=Yn("start","zoom","end"),Qe=0,D=10;function B(x){x.property("__zoom",sr).on("wheel.zoom",cn,{passive:!1}).on("mousedown.zoom",Vn).on("dblclick.zoom",tt).filter(De).on("touchstart.zoom",ui).on("touchmove.zoom",Rn).on("touchend.zoom touchcancel.zoom",_o).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function xe(x,U){return(U=Math.max(Be[0],Math.min(Be[1],U)))===x.k?x:new _t(U,x.x,x.y)}function Fe(x,U,V){var H=U[0]-V[0]*x.k,J=U[1]-V[1]*x.k;return H===x.x&&J===x.y?x:new _t(x.k,H,J)}function Ue(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function dn(x,U,V,H){x.on("start.zoom",function(){Ke(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){Ke(this,arguments).event(H).end()}).tween("zoom",function(){var J=this,ve=arguments,pe=Ke(J,ve).event(H),He=he.apply(J,ve),Se=V==null?Ue(He):typeof V=="function"?V.apply(J,ve):V,rt=Math.max(He[1][0]-He[0][0],He[1][1]-He[0][1]),ht=J.__zoom,zt=typeof U=="function"?U.apply(J,ve):U,fn=Pe(ht.invert(Se).concat(rt/ht.k),zt.invert(Se).concat(rt/zt.k));return function(at){if(at===1)at=zt;else{var Nt=fn(at),di=rt/Nt[2];at=new _t(di,Se[0]-Nt[0]*di,Se[1]-Nt[1]*di)}pe.zoom(null,at)}})}function Ke(x,U,V){return!V&&x.__zooming||new Bn(x,U)}function Bn(x,U){this.that=x,this.args=U,this.active=0,this.sourceEvent=null,this.extent=he.apply(x,U),this.taps=0}function cn(x,...U){if(fe.apply(this,arguments)){var V=Ke(this,U).event(x),H=this.__zoom,J=Math.max(Be[0],Math.min(Be[1],H.k*Math.pow(2,ue.apply(this,arguments)))),ve=dt(x);if(V.wheel)V.mouse[0][0]===ve[0]&&V.mouse[0][1]===ve[1]||(V.mouse[1]=H.invert(V.mouse[0]=ve)),clearTimeout(V.wheel);else{if(H.k===J)return;V.mouse=[ve,H.invert(ve)],oo(this),V.start()}kn(x),V.wheel=setTimeout(function(){V.wheel=null,V.end()},150),V.zoom("mouse",_e(Fe(xe(H,J),V.mouse[0],V.mouse[1]),V.extent,Re))}}function Vn(x,...U){if(!oe&&fe.apply(this,arguments)){var V=x.currentTarget,H=Ke(this,U,!0).event(x),J=nt(x.view).on("mousemove.zoom",function(Se){if(kn(Se),!H.moved){var rt=Se.clientX-pe,ht=Se.clientY-He;H.moved=rt*rt+ht*ht>Qe}H.event(Se).zoom("mouse",_e(Fe(H.that.__zoom,H.mouse[0]=dt(Se,V),H.mouse[1]),H.extent,Re))},!0).on("mouseup.zoom",function(Se){J.on("mousemove.zoom mouseup.zoom",null),Bi(Se.view,H.moved),kn(Se),H.event(Se).end()},!0),ve=dt(x,V),pe=x.clientX,He=x.clientY;Di(x.view),Zo(x),H.mouse=[ve,this.__zoom.invert(ve)],oo(this),H.start()}}function tt(x,...U){if(fe.apply(this,arguments)){var V=this.__zoom,H=dt(x.changedTouches?x.changedTouches[0]:x,this),J=V.invert(H),ve=V.k*(x.shiftKey?.5:2),pe=_e(Fe(xe(V,ve),H,J),he.apply(this,U),Re);kn(x),vt>0?nt(this).transition().duration(vt).call(dn,pe,H,x):nt(this).call(B.transform,pe,H,x)}}function ui(x,...U){if(fe.apply(this,arguments)){var V,H,J,ve,pe=x.touches,He=pe.length,Se=Ke(this,U,x.changedTouches.length===He).event(x);for(Zo(x),H=0;H<He;++H)ve=[ve=dt(J=pe[H],this),this.__zoom.invert(ve),J.identifier],Se.touch0?Se.touch1||Se.touch0[2]===ve[2]||(Se.touch1=ve,Se.taps=0):(Se.touch0=ve,V=!0,Se.taps=1+!!C);C&&(C=clearTimeout(C)),V&&(Se.taps<2&&(F=ve[0],C=setTimeout(function(){C=null},500)),oo(this),Se.start())}}function Rn(x,...U){if(this.__zooming){var V,H,J,ve,pe=Ke(this,U).event(x),He=x.changedTouches,Se=He.length;for(kn(x),V=0;V<Se;++V)J=dt(H=He[V],this),pe.touch0&&pe.touch0[2]===H.identifier?pe.touch0[0]=J:pe.touch1&&pe.touch1[2]===H.identifier&&(pe.touch1[0]=J);if(H=pe.that.__zoom,pe.touch1){var rt=pe.touch0[0],ht=pe.touch0[1],zt=pe.touch1[0],fn=pe.touch1[1],at=(at=zt[0]-rt[0])*at+(at=zt[1]-rt[1])*at,Nt=(Nt=fn[0]-ht[0])*Nt+(Nt=fn[1]-ht[1])*Nt;H=xe(H,Math.sqrt(at/Nt)),J=[(rt[0]+zt[0])/2,(rt[1]+zt[1])/2],ve=[(ht[0]+fn[0])/2,(ht[1]+fn[1])/2]}else{if(!pe.touch0)return;J=pe.touch0[0],ve=pe.touch0[1]}pe.zoom("touch",_e(Fe(H,J,ve),pe.extent,Re))}}function _o(x,...U){if(this.__zooming){var V,H,J=Ke(this,U).event(x),ve=x.changedTouches,pe=ve.length;for(Zo(x),oe&&clearTimeout(oe),oe=setTimeout(function(){oe=null},500),V=0;V<pe;++V)H=ve[V],J.touch0&&J.touch0[2]===H.identifier?delete J.touch0:J.touch1&&J.touch1[2]===H.identifier&&delete J.touch1;if(J.touch1&&!J.touch0&&(J.touch0=J.touch1,delete J.touch1),J.touch0)J.touch0[1]=this.__zoom.invert(J.touch0[0]);else if(J.end(),J.taps===2&&(H=dt(H,this),Math.hypot(F[0]-H[0],F[1]-H[1])<D)){var He=nt(this).on("dblclick.zoom");He&&He.apply(this,arguments)}}}return B.transform=function(x,U,V,H){var J=x.selection?x.selection():x;J.property("__zoom",sr),x!==J?dn(x,U,V,H):J.interrupt().each(function(){Ke(this,arguments).event(H).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},B.scaleBy=function(x,U,V,H){B.scaleTo(x,function(){return this.__zoom.k*(typeof U=="function"?U.apply(this,arguments):U)},V,H)},B.scaleTo=function(x,U,V,H){B.transform(x,function(){var J=he.apply(this,arguments),ve=this.__zoom,pe=V==null?Ue(J):typeof V=="function"?V.apply(this,arguments):V,He=ve.invert(pe),Se=typeof U=="function"?U.apply(this,arguments):U;return _e(Fe(xe(ve,Se),pe,He),J,Re)},V,H)},B.translateBy=function(x,U,V,H){B.transform(x,function(){return _e(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof V=="function"?V.apply(this,arguments):V),he.apply(this,arguments),Re)},null,H)},B.translateTo=function(x,U,V,H,J){B.transform(x,function(){var ve=he.apply(this,arguments),pe=this.__zoom,He=H==null?Ue(ve):typeof H=="function"?H.apply(this,arguments):H;return _e(an.translate(He[0],He[1]).scale(pe.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof V=="function"?-V.apply(this,arguments):-V),ve,Re)},H,J)},Bn.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,U){return this.mouse&&x!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var U=nt(this.that).datum();Xe.call(x,this.that,new ls(x,{sourceEvent:this.sourceEvent,target:B,type:x,transform:this.that.__zoom,dispatch:Xe}),U)}},B.wheelDelta=function(x){return arguments.length?(ue=typeof x=="function"?x:io(+x),B):ue},B.filter=function(x){return arguments.length?(fe=typeof x=="function"?x:io(!!x),B):fe},B.touchable=function(x){return arguments.length?(De=typeof x=="function"?x:io(!!x),B):De},B.extent=function(x){return arguments.length?(he=typeof x=="function"?x:io([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),B):he},B.scaleExtent=function(x){return arguments.length?(Be[0]=+x[0],Be[1]=+x[1],B):[Be[0],Be[1]]},B.translateExtent=function(x){return arguments.length?(Re[0][0]=+x[0][0],Re[1][0]=+x[1][0],Re[0][1]=+x[0][1],Re[1][1]=+x[1][1],B):[[Re[0][0],Re[0][1]],[Re[1][0],Re[1][1]]]},B.constrain=function(x){return arguments.length?(_e=x,B):_e},B.duration=function(x){return arguments.length?(vt=+x,B):vt},B.interpolate=function(x){return arguments.length?(Pe=x,B):Pe},B.on=function(){var x=Xe.on.apply(Xe,arguments);return x===Xe?B:x},B.clickDistance=function(x){return arguments.length?(Qe=(x=+x)*x,B):Math.sqrt(Qe)},B.tapDistance=function(x){return arguments.length?(D=+x,B):D},B}().clickDistance(N.value).scaleExtent([t.value,n.value]).translateExtent(i.value),X=nt(K).call(ie),ne=X.on("wheel.zoom"),A=an.translate((k=o.value.x)!=null?k:0,(Y=o.value.y)!=null?Y:0).scale(Gt((q=o.value.zoom)!=null?q:1,t.value,n.value)),$=[[0,0],[le.width,le.height]],Q=ie.constrain()(A,$,i.value);ie.transform(X,Q),ie.wheelDelta(Ve),_.value=ie,S.value=X,I.value=ne,P.value={x:Q.x,y:Q.y,zoom:Q.k},ie.on("start",C=>{var F;if(!C.sourceEvent)return null;W=C.sourceEvent.button,m.value=!0;const oe=Me(C.transform);((F=C.sourceEvent)==null?void 0:F.type)==="mousedown"&&(w.value=!0),ae=oe,h.viewportChangeStart(oe),h.moveStart({event:C,flowTransform:oe})}),ie.on("end",C=>{if(!C.sourceEvent)return null;if(m.value=!1,w.value=!1,Ne(R.value,W!=null?W:0)&&!ee&&h.paneContextMenu(C.sourceEvent),ee=!1,F=ae,oe=C.transform,F.x!==oe.x&&!Number.isNaN(oe.x)||F.y!==oe.y&&!Number.isNaN(oe.y)||F.zoom!==oe.k&&!Number.isNaN(oe.k)){const fe=Me(C.transform);ae=fe,h.viewportChangeEnd(fe),h.moveEnd({event:C,flowTransform:fe})}var F,oe}),ie.filter(C=>{var F,oe,fe;const he=te.value||b.value,_e=y.value&&C.ctrlKey,ue=C.button;if((R.value===!0||Array.isArray(R.value)&&R.value.includes(1))&&ue===1&&C.type==="mousedown"&&((F=C.target)!=null&&F.closest(".vue-flow__node")||(oe=C.target)!=null&&oe.closest(".vue-flow__edge")))return!0;if(!(R.value||he||re.value||g.value||y.value)||p.value||!g.value&&C.type==="dblclick"||ke(C,T.value)&&C.type==="wheel"||ke(C,c.value)&&(C.type!=="wheel"||re.value&&C.type==="wheel"&&!te.value)||!y.value&&C.ctrlKey&&C.type==="wheel"||!he&&!re.value&&!_e&&C.type==="wheel")return!1;if(!y&&C.type==="touchstart"&&((fe=C.touches)==null?void 0:fe.length)>1)return C.preventDefault(),!1;if(!R.value&&(C.type==="mousedown"||C.type==="touchstart")||a.value===!0&&Array.isArray(v.value)&&v.value.includes(0)&&ue===0||Array.isArray(R.value)&&!R.value.includes(ue)&&(C.type==="mousedown"||C.type==="touchstart"))return!1;const De=Array.isArray(R.value)&&R.value.includes(ue)||a.value===!0&&Array.isArray(R.value)&&!R.value.includes(0)||!ue||ue<=1;return(!C.ctrlKey||C.type==="wheel")&&De}),ge([p,R],()=>{p.value&&!m.value?ie.on("zoom",null):p.value||ie.on("zoom",C=>{P.value={x:C.transform.x,y:C.transform.y,zoom:C.transform.k};const F=Me(C.transform);ee=Ne(R.value,W!=null?W:0),h.viewportChange(F),h.move({event:C,flowTransform:F})})},{immediate:!0}),ge([p,re,u,te,y,M,T],()=>{!re.value||te.value||p.value?ne!==void 0&&X.on("wheel.zoom",function(C,F){const oe=!M.value&&C.type==="wheel"&&!C.ctrlKey,fe=te.value||b.value,he=y.value&&C.ctrlKey;if(!fe&&!s.value&&!he&&C.type==="wheel"||oe||ke(C,T.value))return null;C.preventDefault(),ne.call(this,C,F)},{passive:!1}):X.on("wheel.zoom",C=>{if(ke(C,T.value))return!1;const F=te.value||b.value,oe=y.value&&C.ctrlKey;if(!(!M.value||re.value||F||oe))return!1;C.preventDefault(),C.stopImmediatePropagation();const fe=X.property("__zoom").k||1,he=so();if(C.ctrlKey&&y.value&&he){const Re=dt(C),vt=fe*vn(2,Ve(C));return void ie.scaleTo(X,vt,Re,C)}const _e=C.deltaMode===1?20:1;let ue=u.value===Cn.Vertical?0:C.deltaX*_e,De=u.value===Cn.Horizontal?0:C.deltaY*_e;!he&&C.shiftKey&&u.value!==Cn.Vertical&&!ue&&De&&(ue=De,De=0),ie.translateBy(X,-ue/fe*d.value,-De/fe*d.value);const Be=Me(X.property("__zoom"));j&&clearTimeout(j),z.value?(h.move({event:C,flowTransform:Be}),h.viewportChange(Be),j=setTimeout(()=>{h.moveEnd({event:C,flowTransform:Be}),h.viewportChangeEnd(Be),z.value=!1},150)):(z.value=!0,h.moveStart({event:C,flowTransform:Be}),h.viewportChangeStart(Be))},{passive:!1})},{immediate:!0})}),(K,le)=>(we(),Ce("div",{ref_key:"viewportRef",ref:E,class:"vue-flow__viewport vue-flow__container"},[yt(Zs,{"is-selecting":ce.value,"selection-key-pressed":Z(be),class:Dt({connecting:!!Z(f),dragging:Z(w),draggable:Z(v)===!0||Array.isArray(Z(v))&&Z(v).includes(0)})},{default:Co(()=>[yt(js,null,{default:Co(()=>[Ct(K.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Ks=["id"],qs=["id"],Js=["id"],Qs=Oe({name:"A11yDescriptions",compatConfig:{MODE:3},setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Ie();return(i,r)=>(we(),Ce(lt,null,[Bt("div",{id:`${Z(cr)}-${Z(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+ko(Z(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Ks),Bt("div",{id:`${Z(fr)}-${Z(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,qs),Z(n)?ut("",!0):(we(),Ce("div",{key:0,id:`${Z("vue-flow__aria-live")}-${Z(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},ko(Z(o)),9,Js))],64))}});function eu(e,t,n){return n===G.Left?e-t:n===G.Right?e+t:e}function tu(e,t,n){return n===G.Top?e-t:n===G.Bottom?e+t:e}const ai=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=G.Top,type:i}){return Ee("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:eu(t,e,o),cy:tu(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};ai.props=["radius","centerX","centerY","position","type"],ai.compatConfig={MODE:3};const la=ai,nu=Oe({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:i,emits:r,nodesSelectionActive:a,noPanClassName:l,getEdgeTypes:s,removeSelectedEdges:u,findEdge:d,findNode:v,isValidConnection:g,multiSelectionActive:y,disableKeyboardA11y:b,elementsSelectable:M,edgesUpdatable:T,edgesFocusable:c,hooks:h}=Ie(),f=se(()=>d(e.id)),{emit:p,on:w}=bs(f.value,r),_=qt(fo),S=pn(),I=ye(!1),P=ye(!1),E=ye(""),N=ye(null),m=ye("source"),z=ye(null),j=$e(()=>f.value.selectable===void 0?M.value:f.value.selectable),ee=$e(()=>f.value.updatable===void 0?T.value:f.value.updatable),W=$e(()=>f.value.focusable===void 0?c.value:f.value.focusable);Qt(ws,e.id),Qt(xs,z);const ae=se(()=>f.value.class instanceof Function?f.value.class(f.value):f.value.class),de=se(()=>f.value.style instanceof Function?f.value.style(f.value):f.value.style),be=se(()=>{var k;const A=f.value.type||"default",$=_==null?void 0:_[`edge-${A}`];if($)return $;let Q=(k=f.value.template)!=null?k:s.value[A];if(typeof Q=="string"&&S){const Y=Object.keys(S.appContext.components);Y&&Y.includes(A)&&(Q=gi(A,!1))}return Q&&typeof Q!="string"?Q:(r.error(new Ge(Le.EDGE_TYPE_MISSING,Q)),!1)}),{handlePointerDown:te}=jr({nodeId:E,handleId:N,type:m,isValidConnection:g,edgeUpdaterType:m,onEdgeUpdate:function(A,$){p.update({event:A,edge:f.value,connection:$})},onEdgeUpdateEnd:function(A){p.updateEnd({event:A,edge:f.value}),P.value=!1}});return()=>{const A=v(f.value.source),$=v(f.value.target),Q="pathOptions"in f.value?f.value.pathOptions:{};if(!A&&!$)return r.error(new Ge(Le.EDGE_SOURCE_TARGET_MISSING,f.value.id,f.value.source,f.value.target)),null;if(!A)return r.error(new Ge(Le.EDGE_SOURCE_MISSING,f.value.id,f.value.source)),null;if(!$)return r.error(new Ge(Le.EDGE_TARGET_MISSING,f.value.id,f.value.target)),null;if(!f.value||f.value.hidden||A.hidden||$.hidden)return null;let k;k=o.value===Yt.Strict?A.handleBounds.source:[...A.handleBounds.source||[],...A.handleBounds.target||[]];const Y=Or(k,f.value.sourceHandle);let q;q=o.value===Yt.Strict?$.handleBounds.target:[...$.handleBounds.target||[],...$.handleBounds.source||[]];const C=Or(q,f.value.targetHandle),F=(Y==null?void 0:Y.position)||G.Bottom,oe=(C==null?void 0:C.position)||G.Top,{x:fe,y:he}=lo(A,Y,F),{x:_e,y:ue}=lo($,C,oe);return f.value.sourceX=fe,f.value.sourceY=he,f.value.targetX=_e,f.value.targetY=ue,Ee("g",{ref:z,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${be.value===!1?"default":f.value.type||"default"}`,l.value,ae.value,{updating:I.value,selected:f.value.selected,animated:f.value.animated,inactive:!j.value&&!h.value.edgeClick.hasListeners()}],onClick:Ne,onContextmenu:Ve,onDblclick:Me,onMouseenter:ke,onMousemove:K,onMouseleave:le,onKeyDown:W.value?ne:void 0,tabIndex:W.value?0:void 0,"aria-label":f.value.ariaLabel===null?void 0:f.value.ariaLabel||`Edge from ${f.value.source} to ${f.value.target}`,"aria-describedby":W.value?`${fr}-${t}`:void 0,role:W.value?"button":"img"},[P.value?null:Ee(be.value===!1?s.value.default:be.value,L({id:e.id,sourceNode:A,targetNode:$,source:f.value.source,target:f.value.target,type:f.value.type,updatable:ee.value,selected:f.value.selected,animated:f.value.animated,label:f.value.label,labelStyle:f.value.labelStyle,labelShowBg:f.value.labelShowBg,labelBgStyle:f.value.labelBgStyle,labelBgPadding:f.value.labelBgPadding,labelBgBorderRadius:f.value.labelBgBorderRadius,data:f.value.data,events:L(L({},f.value.events),w),style:de.value,markerStart:`url('#${Tn(f.value.markerStart,t)}')`,markerEnd:`url('#${Tn(f.value.markerEnd,t)}')`,sourcePosition:F,targetPosition:oe,sourceX:fe,sourceY:he,targetX:_e,targetY:ue,sourceHandleId:f.value.sourceHandle,targetHandleId:f.value.targetHandle,interactionWidth:f.value.interactionWidth},Q)),[ee.value==="source"||ee.value===!0?[Ee("g",{onMousedown:ie,onMouseenter:R,onMouseout:re},Ee(la,{position:F,centerX:fe,centerY:he,radius:i.value,type:"source","data-type":"source"}))]:null,ee.value==="target"||ee.value===!0?[Ee("g",{onMousedown:X,onMouseenter:R,onMouseout:re},Ee(la,{position:oe,centerX:_e,centerY:ue,radius:i.value,type:"target","data-type":"target"}))]:null]])};function R(){I.value=!0}function re(){I.value=!1}function ce(A,$){var Q;A.button===0&&(P.value=!0,E.value=$?f.value.target:f.value.source,N.value=(Q=$?f.value.targetHandle:f.value.sourceHandle)!=null?Q:"",m.value=$?"target":"source",p.updateStart({event:A,edge:f.value}),te(A))}function Ne(A){var $;const Q={event:A,edge:f.value};j.value&&(a.value=!1,f.value.selected&&y.value?(u([f.value]),($=z.value)==null||$.blur()):n([f.value])),p.click(Q)}function Ve(A){p.contextMenu({event:A,edge:f.value})}function Me(A){p.doubleClick({event:A,edge:f.value})}function ke(A){p.mouseEnter({event:A,edge:f.value})}function K(A){p.mouseMove({event:A,edge:f.value})}function le(A){p.mouseLeave({event:A,edge:f.value})}function ie(A){ce(A,!0)}function X(A){ce(A,!1)}function ne(A){var $;!b.value&&vr.includes(A.key)&&j.value&&(A.key==="Escape"?(($=z.value)==null||$.blur(),u([d(e.id)])):n([d(e.id)]))}}}),ou={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},iu=Oe({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:i,connectionPosition:r,connectionLineType:a,connectionLineStyle:l,connectionLineOptions:s,connectionStatus:u,viewport:d,findNode:v}=Ie(),g=(e=qt(fo))==null?void 0:e["connection-line"],y=se(()=>{var h;return v((h=o.value)==null?void 0:h.nodeId)}),b=se(()=>{var f;var h;return(f=v((h=i.value)==null?void 0:h.nodeId))!=null?f:null}),M=se(()=>({x:(r.value.x-d.value.x)/d.value.zoom,y:(r.value.y-d.value.y)/d.value.zoom})),T=se(()=>s.value.markerStart?`url(#${Tn(s.value.markerStart,t)})`:""),c=se(()=>s.value.markerEnd?`url(#${Tn(s.value.markerEnd,t)})`:"");return()=>{var be,te,R,re;var h,f,p,w;if(!y.value||!o.value)return null;const _=o.value.handleId,S=o.value.type,I=y.value.handleBounds;let P=(I==null?void 0:I[S])||[];if(n.value===Yt.Loose){const ce=(I==null?void 0:I[S==="source"?"target":"source"])||[];P=[...P,...ce]}if(!P)return null;const E=(be=_?P.find(ce=>ce.id===_):P[0])!=null?be:null,N=(E==null?void 0:E.position)||G.Top,{x:m,y:z}=lo(y.value,E,N);let j=null;b.value&&((h=i.value)!=null&&h.handleId)&&(j=n.value===Yt.Strict?((f=b.value.handleBounds[S==="source"?"target":"source"])==null?void 0:f.find(ce=>{var Ne;return ce.id===((Ne=i.value)==null?void 0:Ne.handleId)}))||null:((p=[...b.value.handleBounds.source||[],...b.value.handleBounds.target||[]])==null?void 0:p.find(ce=>{var Ne;return ce.id===((Ne=i.value)==null?void 0:Ne.handleId)}))||null);const ee=(te=(w=i.value)==null?void 0:w.position)!=null?te:N?ou[N]:null;if(!N||!ee)return null;const W=(re=(R=a.value)!=null?R:s.value.type)!=null?re:Lt.Bezier;let ae="";const de={sourceX:m,sourceY:z,sourcePosition:N,targetX:M.value.x,targetY:M.value.y,targetPosition:ee};return W===Lt.Bezier?[ae]=ta(de):W===Lt.Step?[ae]=wo(Ze(L({},de),{borderRadius:0})):W===Lt.SmoothStep?[ae]=wo(de):W===Lt.SimpleBezier?[ae]=oa(de):ae=`M${m},${z} ${M.value.x},${M.value.y}`,Ee("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ee("g",{class:"vue-flow__connection"},g?Ee(g,{sourceX:m,sourceY:z,sourcePosition:N,targetX:M.value.x,targetY:M.value.y,targetPosition:ee,sourceNode:y.value,sourceHandle:E,targetNode:b.value,targetHandle:j,markerEnd:c.value,markerStart:T.value,connectionStatus:u.value}):Ee("path",{d:ae,class:[s.value.class,u,"vue-flow__connection-path"],style:L(L({},l.value),s.value.style),"marker-end":c.value,"marker-start":T.value})))}}}),ru=["id","markerWidth","markerHeight","markerUnits","orient"],au=Oe({name:"MarkerType",compatConfig:{MODE:3},props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup:e=>(t,n)=>(we(),Ce("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Z(It).ArrowClosed?(we(),Ce("polyline",{key:0,style:st({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):ut("",!0),t.type===Z(It).Arrow?(we(),Ce("polyline",{key:1,style:st({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):ut("",!0)],8,ru))}),lu={class:"vue-flow__marker vue-flow__container"},su=Oe({name:"MarkerDefinitions",compatConfig:{MODE:3},setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:i}=Ie(),r=se(()=>{const a=new Set,l=[],s=u=>{if(u){const d=Tn(u,t);a.has(d)||(typeof u=="object"?l.push(Ze(L({},u),{id:d,color:u.color||i.value})):l.push({id:d,color:i.value,type:u}),a.add(d))}};for(const u of[o.value.markerEnd,o.value.markerStart])s(u);for(const u of n.value)for(const d of[u.markerStart,u.markerEnd])s(d);return l.sort((u,d)=>u.id.localeCompare(d.id))});return(a,l)=>(we(),Ce("svg",lu,[Bt("defs",null,[(we(!0),Ce(lt,null,Mo(r.value,s=>(we(),Jt(au,{id:s.id,key:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,"stroke-width":s.strokeWidth,orient:s.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),uu=Oe({name:"Edges",compatConfig:{MODE:3},setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Ie();return(i,r)=>(we(),Ce(lt,null,[yt(su),(we(!0),Ce(lt,null,Mo(Z(n),a=>(we(),Ce("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:st({zIndex:Z(gs)(a,Z(t),Z(o))})},[yt(Z(nu),{id:a.id},null,8,["id"])],4))),128)),yt(Z(iu))],64))}}),du=Oe({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:i,multiSelectionActive:r,emits:a,removeSelectedNodes:l,addSelectedNodes:s,updateNodeDimensions:u,onUpdateNodeInternals:d,getNodeTypes:v,nodeExtent:g,elevateNodesOnSelect:y,disableKeyboardA11y:b,ariaLiveMessage:M,snapToGrid:T,snapGrid:c,nodeDragThreshold:h,nodesDraggable:f,elementsSelectable:p,nodesConnectable:w,nodesFocusable:_,hooks:S}=Ie(),I=ye(null);Qt(Ur,I),Qt(Fr,e.id);const P=qt(fo),E=pn(),N=Kr(),{node:m,parentNode:z}=Wr(e.id),{emit:j,on:ee}=_s(m,a),W=$e(()=>m.draggable===void 0?f.value:m.draggable),ae=$e(()=>m.selectable===void 0?p.value:m.selectable),de=$e(()=>m.connectable===void 0?w.value:m.connectable),be=$e(()=>m.focusable===void 0?_.value:m.focusable),te=$e(()=>ae.value||W.value||S.value.nodeClick.hasListeners()||S.value.nodeDoubleClick.hasListeners()||S.value.nodeMouseEnter.hasListeners()||S.value.nodeMouseMove.hasListeners()||S.value.nodeMouseLeave.hasListeners()),R=$e(()=>!!m.dimensions.width&&!!m.dimensions.height),re=se(()=>{const k=m.type||"default",Y=P==null?void 0:P[`node-${k}`];if(Y)return Y;let q=m.template||v.value[k];if(typeof q=="string"&&E){const C=Object.keys(E.appContext.components);C&&C.includes(k)&&(q=gi(k,!1))}return q&&typeof q!="string"?q:(a.error(new Ge(Le.NODE_TYPE_MISSING,q)),!1)}),ce=Zr({id:e.id,el:I,disabled:()=>!W.value,selectable:ae,dragHandle:()=>m.dragHandle,onStart(k){j.dragStart(k)},onDrag(k){j.drag(k)},onStop(k){j.dragStop(k)},onClick(k){$(k)}}),Ne=se(()=>m.class instanceof Function?m.class(m):m.class),Ve=se(()=>{const k=(m.style instanceof Function?m.style(m):m.style)||{},Y=m.width instanceof Function?m.width(m):m.width,q=m.height instanceof Function?m.height(m):m.height;return!k.width&&Y&&(k.width=typeof Y=="string"?Y:`${Y}px`),!k.height&&q&&(k.height=typeof q=="string"?q:`${q}px`),k}),Me=$e(()=>{var k,Y;return Number((Y=(k=m.zIndex)!=null?k:Ve.value.zIndex)!=null?Y:0)});return d(k=>{!k.includes(e.id)&&k.length||K()}),mt(()=>{ge(()=>m.hidden,(k=!1,Y,q)=>{!k&&I.value&&(e.resizeObserver.observe(I.value),q(()=>{I.value&&e.resizeObserver.unobserve(I.value)}))},{immediate:!0,flush:"post"})}),ge([()=>m.type,()=>m.sourcePosition,()=>m.targetPosition],()=>{gt(()=>{u([{id:e.id,nodeElement:I.value,forceUpdate:!0}])})}),ge([()=>m.position.x,()=>m.position.y,()=>{var k;return(k=z.value)==null?void 0:k.computedPosition.x},()=>{var k;return(k=z.value)==null?void 0:k.computedPosition.y},()=>{var k;return(k=z.value)==null?void 0:k.computedPosition.z},Me,()=>m.selected,()=>m.dimensions.height,()=>m.dimensions.width,()=>{var k;return(k=z.value)==null?void 0:k.dimensions.height},()=>{var k;return(k=z.value)==null?void 0:k.dimensions.width}],([k,Y,q,C,F,oe])=>{const fe={x:k,y:Y,z:oe+(y.value&&m.selected?1e3:0)};var he,_e;m.computedPosition=q!==void 0&&C!==void 0?{x:(_e=fe).x+(he={x:q,y:C,z:F}).x,y:_e.y+he.y,z:(he.z>_e.z?he.z:_e.z)+1}:fe},{flush:"post",immediate:!0}),ge([()=>m.extent,g],([k,Y],[q,C])=>{k===q&&Y===C||ke()}),m.extent==="parent"||typeof m.extent=="object"&&"range"in m.extent&&m.extent.range==="parent"?Po(()=>R).toBe(!0).then(ke):ke(),()=>{var k,Y;return m.hidden?null:Ee("div",{ref:I,"data-id":m.id,class:["vue-flow__node",`vue-flow__node-${re.value===!1?"default":m.type||"default"}`,{[n.value]:W.value,dragging:ce==null?void 0:ce.value,draggable:W.value,selected:m.selected,selectable:ae.value,parent:m.isParent},Ne.value],style:L({visibility:R.value?"visible":"hidden",zIndex:(k=m.computedPosition.z)!=null?k:Me.value,transform:`translate(${m.computedPosition.x}px,${m.computedPosition.y}px)`,pointerEvents:te.value?"all":"none"},Ve.value),tabIndex:be.value?0:void 0,role:be.value?"button":void 0,"aria-describedby":b.value?void 0:`${cr}-${t}`,"aria-label":m.ariaLabel,onMouseenter:le,onMousemove:ie,onMouseleave:X,onContextmenu:ne,onClick:$,onDblclick:A,onKeydown:Q},[Ee(re.value===!1?v.value.default:re.value,{id:m.id,type:m.type,data:m.data,events:L(L({},m.events),ee),selected:m.selected,resizing:m.resizing,dragging:ce.value,connectable:de.value,position:m.computedPosition,dimensions:m.dimensions,isValidTargetPos:m.isValidTargetPos,isValidSourcePos:m.isValidSourcePos,parent:m.parentNode,parentNodeId:m.parentNode,zIndex:(Y=m.computedPosition.z)!=null?Y:Me.value,targetPosition:m.targetPosition,sourcePosition:m.sourcePosition,label:m.label,dragHandle:m.dragHandle,onUpdateNodeInternals:K})])};function ke(){const k=m.computedPosition,{computedPosition:Y,position:q}=ei(m,T.value?uo(k,c.value):k,a.error,g.value,z.value);m.computedPosition.x===Y.x&&m.computedPosition.y===Y.y||(m.computedPosition=L(L({},m.computedPosition),Y)),m.position.x===q.x&&m.position.y===q.y||(m.position=q)}function K(){I.value&&u([{id:e.id,nodeElement:I.value,forceUpdate:!0}])}function le(k){ce!=null&&ce.value||j.mouseEnter({event:k,node:m})}function ie(k){ce!=null&&ce.value||j.mouseMove({event:k,node:m})}function X(k){ce!=null&&ce.value||j.mouseLeave({event:k,node:m})}function ne(k){return j.contextMenu({event:k,node:m})}function A(k){return j.doubleClick({event:k,node:m})}function $(k){ae.value&&(!o.value||!W.value||h.value>0)&&ii(m,r.value,s,l,i,!1,I.value),j.click({event:k,node:m})}function Q(k){if(!Wo(k)&&!b.value)if(vr.includes(k.key)&&ae.value){const Y=k.key==="Escape";ii(m,r.value,s,l,i,Y,I.value)}else W.value&&m.selected&&ln[k.key]&&(M.value=`Moved selected node ${k.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~m.position.x}, y: ${~~m.position.y}`,N({x:ln[k.key].x,y:ln[k.key].y},k.shiftKey))}}}),cu={class:"vue-flow__nodes vue-flow__container"},fu=Oe({name:"Nodes",compatConfig:{MODE:3},setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Ie(),i=function(a={includeHiddenNodes:!1}){const{nodes:l}=Ie();return se(()=>{if(l.value.length===0)return!1;for(const s of l.value)if((a.includeHiddenNodes||!s.hidden)&&((s==null?void 0:s.handleBounds)===void 0||s.dimensions.width===0||s.dimensions.height===0))return!1;return!0})}(),r=ye();return ge(i,a=>{a&&gt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),mt(()=>{r.value=new ResizeObserver(a=>{const l=a.map(s=>({id:s.target.getAttribute("data-id"),nodeElement:s.target,forceUpdate:!0}));gt(()=>n(l))})}),pi(()=>{var a;return(a=r.value)==null?void 0:a.disconnect()}),(a,l)=>(we(),Ce("div",cu,[r.value?(we(!0),Ce(lt,{key:0},Mo(Z(t),(s,u,d,v)=>{const g=[s.id];if(v&&v.key===s.id&&ba(v,g))return v;const y=(we(),Jt(Z(du),{id:s.id,key:s.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return y.memo=g,y},l,0),128)):ut("",!0)]))}}),vu=Bt("div",{class:"vue-flow__edge-labels"},null,-1),hu=Oe({name:"VueFlow",compatConfig:{MODE:3},props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=_a(),r=To(o,"modelValue",n),a=To(o,"nodes",n),l=To(o,"edges",n),s=Ie(o),u=Ss({modelValue:r,nodes:a,edges:l},o,s);return function(d,v){ga(()=>{for(const[g,y]of Object.entries(v.value)){const b=M=>{d(g,M)};y.fns.add(b),Ln(()=>{y.off(b)})}})}(n,s.hooks),function(){const d=Ie();ge(()=>d.viewportHelper.value.viewportInitialized,v=>{v&&setTimeout(()=>{d.emits.init(d),d.emits.paneReady(d)},1)})}(),function(){const{emits:d}=Ie();mt(()=>{if(Rr()){const v=document.querySelector(".vue-flow__pane");v&&window.getComputedStyle(v).zIndex!=="1"&&d.error(new Ge(Le.MISSING_STYLES))}})}(),Qt(fo,i),hi(()=>{u()}),t(s),(d,v)=>(we(),Ce("div",{ref:Z(s).vueFlowRef,class:"vue-flow"},[yt(Ws,null,{default:Co(()=>[yt(uu),vu,yt(fu),Ct(d.$slots,"zoom-pane")]),_:3}),Ct(d.$slots,"default"),yt(Qs)],512))}}),pu=Oe({name:"Panel",compatConfig:{MODE:3},props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Ie(),o=se(()=>`${t.position}`.split("-"));return(i,r)=>(we(),Ce("div",{class:Dt(["vue-flow__panel",o.value]),style:st({pointerEvents:Z(n)?"none":"all"})},[Ct(i.$slots,"default")],6))}}),{openBlock:We,createElementBlock:Zt,renderSlot:et,createElementVNode:An,defineComponent:gu,toRef:li,createBlock:jt,unref:sn,withCtx:$n,Fragment:mu,createVNode:si,resolveDynamicComponent:On,createCommentVNode:un}=yield kt("vue"),yu={class:"vue-flow__controls-button"},xo=((e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n})({name:"ControlButton",compatConfig:{MODE:3}},[["render",function(e,t,n,o,i,r){return We(),Zt("button",yu,[et(e.$slots,"default")])}]]),wu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},xu=[An("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1)],bu={render:function(e,t){return We(),Zt("svg",wu,xu)}},_u={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Eu=[An("path",{d:"M0 0h32v4.2H0z"},null,-1)],Su={render:function(e,t){return We(),Zt("svg",_u,Eu)}},Nu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ku=[An("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1)],Cu={render:function(e,t){return We(),Zt("svg",Nu,ku)}},Mu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Iu=[An("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1)],Pu={render:function(e,t){return We(),Zt("svg",Mu,Iu)}},Tu={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Au=[An("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1)],$u={render:function(e,t){return We(),Zt("svg",Tu,Au)}},Ou=gu({name:"Controls",compatConfig:{MODE:3},props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>ur.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:i,setInteractive:r,zoomIn:a,zoomOut:l,fitView:s,viewport:u,minZoom:d,maxZoom:v}=Ie(),g=li(()=>n.value||o.value||i.value),y=li(()=>u.value.zoom<=d.value),b=li(()=>u.value.zoom>=v.value);function M(){a(),t("zoomIn")}function T(){l(),t("zoomOut")}function c(){s(e.fitViewParams),t("fitView")}function h(){r(!g.value),t("interactionChange",!g.value)}return(f,p)=>(We(),jt(sn(pu),{class:"vue-flow__controls",position:f.position},{default:$n(()=>[et(f.$slots,"top"),f.showZoom?(We(),Zt(mu,{key:0},[et(f.$slots,"control-zoom-in",{},()=>[si(xo,{class:"vue-flow__controls-zoomin",disabled:b.value,onClick:M},{default:$n(()=>[et(f.$slots,"icon-zoom-in",{},()=>[(We(),jt(On(sn(bu))))])]),_:3},8,["disabled"])]),et(f.$slots,"control-zoom-out",{},()=>[si(xo,{class:"vue-flow__controls-zoomout",disabled:y.value,onClick:T},{default:$n(()=>[et(f.$slots,"icon-zoom-out",{},()=>[(We(),jt(On(sn(Su))))])]),_:3},8,["disabled"])])],64)):un("",!0),f.showFitView?et(f.$slots,"control-fit-view",{key:1},()=>[si(xo,{class:"vue-flow__controls-fitview",onClick:c},{default:$n(()=>[et(f.$slots,"icon-fit-view",{},()=>[(We(),jt(On(sn(Cu))))])]),_:3})]):un("",!0),f.showInteractive?et(f.$slots,"control-interactive",{key:2},()=>[f.showInteractive?(We(),jt(xo,{key:0,class:"vue-flow__controls-interactive",onClick:h},{default:$n(()=>[g.value?et(f.$slots,"icon-unlock",{key:0},()=>[(We(),jt(On(sn($u))))]):un("",!0),g.value?un("",!0):et(f.$slots,"icon-lock",{key:1},()=>[(We(),jt(On(sn(Pu))))])]),_:3})):un("",!0)]):un("",!0),et(f.$slots,"default")]),_:3},8,["position"]))}}),zu={components:{Handle:Ft},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G})},{createElementVNode:Du,resolveComponent:Bu,createVNode:Vu,openBlock:Ru,createElementBlock:Hu}=yield kt("vue"),Lu={class:"custom-node"},Yu=Hn(zu,[["render",function(e,t,n,o,i,r){const a=Bu("handle");return Ru(),Hu("div",Lu,[t[0]||(t[0]=Du("div",{class:"start"},"\u5F00\u59CB",-1)),Vu(a,{id:"source-a",type:"source",position:o.Position.Left,style:{top:"40px",left:"30px",opacity:"0"}},null,8,["position"])])}]]),Gu={components:{Handle:Ft},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G,add:()=>{}})},{createElementVNode:Xu,resolveComponent:Fu,createVNode:Uu,openBlock:Zu,createElementBlock:ju}=yield kt("vue"),Wu=Hn(Gu,[["render",function(e,t,n,o,i,r){const a=Fu("Handle");return Zu(),ju("div",{class:"custom-node",onClick:t[0]||(t[0]=(...l)=>o.add&&o.add(...l))},[t[1]||(t[1]=Xu("div",null,"\u7ED3\u675F",-1)),Uu(a,{id:"source-a",type:"source",position:o.Position.Left,style:{opacity:"0"}},null,8,["position"])])}]]),Ku={components:{Handle:Ft},props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup:e=>({Position:G,add:()=>{}})},{createElementVNode:qu,resolveComponent:Ju,createVNode:sa,openBlock:Qu,createElementBlock:ed}=yield kt("vue"),td=Hn(Ku,[["render",function(e,t,n,o,i,r){const a=Ju("Handle");return Qu(),ed("div",{class:"custom-node",onClick:t[0]||(t[0]=(...l)=>o.add&&o.add(...l))},[t[1]||(t[1]=qu("div",null,"\u81EA\u5B9A\u4E49\u5185\u5BB9",-1)),sa(a,{id:"source-a",type:"target",position:o.Position.Left,style:{opacity:"0"}},null,8,["position"]),sa(a,{id:"source-a",type:"source",position:o.Position.Left,style:{top:"40px",left:"30px",opacity:"0"}},null,8,["position"])])}],["__scopeId","data-v-6ecb1496"]]),{computed:ua}=yield kt("vue"),nd={props:["sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition","borderRadius","centerX","centerY","offset"],setup(e){const t=ua(()=>wo(e)[0]);return{transform:ua(()=>function(n){const{targetPosition:o}=n;if(o==="top")return`rotate(0 ${n.targetX} ${n.targetY})`;if(o==="bottom")return`rotate(180 ${n.targetX} ${n.targetY})`;if(o==="left")return`rotate(-90 ${n.targetX} ${n.targetY})`;if(o==="right")return`rotate(90 ${n.targetX} ${n.targetY})`}(e)),path:t}}},{createElementVNode:da,openBlock:od,createElementBlock:id}=yield kt("vue"),rd=["d"],ad=["transform","d"],ld=Hn(nd,[["render",function(e,t,n,o,i,r){return od(),id("g",null,[da("path",{d:o.path,fill:"none",stroke:"#d9d9d9","stroke-width":"1"},null,8,rd),da("path",{transform:o.transform,d:`M ${n.targetX} ${n.targetY+1} L ${n.targetX-5} ${n.targetY-6} L ${n.targetX+5} ${n.targetY-6} Z`,fill:"#d9d9d9",stroke:"none"},null,8,ad)])}]]),{onMounted:sd,ref:bo}=yield kt("vue"),ud={components:{VueFlow:hu,startNode:Yu,customizeNode:td,endNode:Wu,customEdge:ld,Controls:Ou},setup(e){const t=bo(null),n=bo({zoom:1}),o=bo([{id:"start",type:"start",position:{x:50,y:50},data:{label:"start",ceshi:1}},{id:"1",type:"customize",position:{x:100,y:110},data:{label:"Node 1"}},{id:"2",type:"customize",position:{x:150,y:250},data:{label:"Node 2"}},{id:"end",type:"end",position:{x:200,y:350},data:{label:"end"}}]),i=bo([{id:"e1->2",type:"custom",source:"start",target:"1",markerEnd:It.Arrow,style:{stroke:"#d9d9d9",strokeWidth:.5},class:"normal-edge"},{id:"e1->3",type:"custom",source:"start",target:"2",markerEnd:It.Arrow,style:{stroke:"#d9d9d9",strokeWidth:1},class:"normal-edge"},{id:"e1->4",type:"custom",source:"start",target:"end",markerEnd:It.Arrow,style:{stroke:"#d9d9d9",strokeWidth:1},class:"normal-edge"},{id:"e2->3",type:"custom",source:"1",target:"2",style:{stroke:"#d9d9d9",strokeWidth:1},markerEnd:It.Arrow,class:"normal-edge"},{id:"e2->4",type:"custom",source:"2",target:"end",style:{stroke:"#d9d9d9",strokeWidth:1},markerEnd:It.Arrow,class:"normal-edge"}]);return sd(()=>{t.value.setMinZoom(.2)}),{zoomBtnClick:r=>{r==1?t&&t.value.zoomIn(.2):t&&t.value.zoomOut(.2)},vueFlowRef:t,nodes:o,edges:i,defaultViewport:n}}},{createTextVNode:ca,resolveComponent:Wt,withCtx:Ot,createVNode:St,normalizeProps:zn,guardReactiveProps:Dn,openBlock:dd,createElementBlock:cd}=yield kt("vue"),fd={class:"flow-container"};pa=Hn(ud,[["render",function(e,t,n,o,i,r){const a=Wt("a-button"),l=Wt("Controls"),s=Wt("startNode"),u=Wt("customizeNode"),d=Wt("endNode"),v=Wt("customEdge"),g=Wt("VueFlow");return dd(),cd("div",fd,[St(a,{onClick:t[0]||(t[0]=y=>o.zoomBtnClick(1))},{default:Ot(()=>t[2]||(t[2]=[ca("\u653E\u5927")])),_:1}),St(a,{onClick:t[1]||(t[1]=y=>o.zoomBtnClick(2))},{default:Ot(()=>t[3]||(t[3]=[ca("\u7F29\u5C0F")])),_:1}),St(g,{nodes:o.nodes,edges:o.edges,"nodes-draggable":!1,"default-viewport":o.defaultViewport,"max-zoom":4,"min-zoom":.1,ref:"vueFlowRef"},{"node-start":Ot(y=>[St(s,zn(Dn(y)),null,16)]),"node-customize":Ot(y=>[St(u,zn(Dn(y)),null,16)]),"node-end":Ot(y=>[St(d,zn(Dn(y)),null,16)]),"edge-custom":Ot(y=>[St(v,zn(Dn(y)),null,16)]),"connection-line":Ot(y=>[St(v,zn(Dn(y)),null,16)]),default:Ot(()=>[St(l)]),_:1},8,["nodes","edges","default-viewport"])])}],["__scopeId","data-v-08cedbf7"]])}));export{md as __tla,pa as default};
