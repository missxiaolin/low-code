const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/rawComponents-DSnq2Upj.js","static/js/index-CR_1l9OE.js","static/css/index-ZapVBUj5.css","static/js/vueCodeEditorDialog-D_PB8yMz.js","static/js/store-DvZwjuyB.js","static/css/rawComponents-DBQJuLOC.css","static/js/toolsBar-C2ayoCTY.js","static/css/toolsBar-QPp-Uzec.css","static/js/attributeInput-C5Dk5RDm.js","static/css/attributeInput-C8F1Adwu.css","static/js/code-ClzgA7J7.js","static/css/code-VxcRmpsv.css"])))=>i.map(i=>d[i]);
import{getAugmentedNamespace,getDefaultExportFromCjs,commonjsGlobal,prettier,parserBabel,cloneDeep as cloneDeep$1,createApp,defineAsyncComponent,uuid,vue_esmBundler,_export_sfc,resolveComponent,openBlock,createElementBlock,withDirectives,vShow,createVNode,withCtx,createBaseVNode,withModifiers,Fragment,renderList,normalizeStyle,toDisplayString,normalizeClass,renderSlot,__vitePreload,createCommentVNode,__tla as __tla_0}from"./index-CR_1l9OE.js";import{findParentDom,findVueInfo,getRawComponentKey,isObject as isObject$1,createUniqueId,isArray,isRawComponents,isActiveComponents,deleteNodeFromParent,getRawComponentContent,vueCodeEditor}from"./vueCodeEditorDialog-D_PB8yMz.js";let _,deepLCEle,keymaster,require$$1,vcc$1;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{const{toString:toString}=Object.prototype;function isRegexp(e){return"[object RegExp]"===toString.call(e)}function isObject(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}const getOwnEnumPropSymbols$1=e=>Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)));function stringifyObject$1(e,t,r){const s=[];return function e(t,r={},i=""){const n=r.indent||"	";let o;o=void 0===r.inlineCharacterLimit?{newline:"\n",newlineOrSpace:"\n",pad:i,indent:i+n}:{newline:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newlineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const a=e=>{if(void 0===r.inlineCharacterLimit)return e;const t=e.replace(new RegExp(o.newline,"g"),"").replace(new RegExp(o.newlineOrSpace,"g")," ").replace(new RegExp(o.pad+"|"+o.indent,"g"),"");return t.length<=r.inlineCharacterLimit?t:e.replace(new RegExp(o.newline+"|"+o.newlineOrSpace,"g"),"\n").replace(new RegExp(o.pad,"g"),i).replace(new RegExp(o.indent,"g"),i+n)};if(s.includes(t))return'"[Circular]"';if(null==t||"number"==typeof t||"boolean"==typeof t||"function"==typeof t||"symbol"==typeof t||isRegexp(t))return String(t);if(t instanceof Date)return`new Date('${t.toISOString()}')`;if(Array.isArray(t)){if(0===t.length)return"[]";s.push(t);const c="["+o.newline+t.map(((s,a)=>{const c=t.length-1===a?o.newline:","+o.newlineOrSpace;let l=e(s,r,i+n);return r.transform&&(l=r.transform(t,a,l)),o.indent+l+c})).join("")+o.pad+"]";return s.pop(),a(c)}if(isObject(t)){let c=[...Object.keys(t),...getOwnEnumPropSymbols$1(t)];if(r.filter&&(c=c.filter((e=>r.filter(t,e)))),0===c.length)return"{}";s.push(t);const l="{"+o.newline+c.map(((s,a)=>{const l=c.length-1===a?o.newline:","+o.newlineOrSpace,h="symbol"==typeof s,p=!h&&/^[a-z$_][$\w]*$/i.test(s),u=h||p?s:e(s,r);let d=e(t[s],r,i+n);return r.transform&&(d=r.transform(t,s,d)),o.indent+String(u)+": "+d+l})).join("")+o.pad+"}";return s.pop(),a(l)}return t=String(t).replace(/[\r\n]/g,(e=>"\n"===e?"\\n":"\\r")),!1===r.singleQuotes?`"${t=t.replace(/"/g,'\\"')}"`:`'${t=t.replace(/\\?'/g,"\\'")}'`}(e,t,r)}const presetAttribute={};function replaceRowID(e,t){let r=t;return function e(t){if(isObject$1(t))for(const s in t)if(t.hasOwnProperty(s)){const i=t[s];if("lc_id"==s){const e=t[s],i=createUniqueId();r=r.replace(e,i),t[s]=i}else isObject$1(i)?e(i):isArray(i)&&i.forEach((t=>e(t)))}}(e),r}function updateLinkTree(e){window.tree||(window.tree={}),flatCodeObj(e)}function findRawVueInfo(e){const t=findParentDom(e);return findVueInfo(t)}function flatCodeObj(e){!function e(t){for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];if(t.hasOwnProperty("__key__")&&"__children"===t.__key__&&isObject$1(s)&&delete t.__key__,"lc_id"===r&&t.hasOwnProperty("__key__")){const e=t.__key__,r={[e]:t};r.__proto__=t.__proto__,delete t.__key__,window.tree[s]=r}else"__children"===r?t.__children.forEach((t=>{t.__key__=r,e(t)})):isObject$1(s)&&(s.__key__=r,e(s))}}(e)}function generateRawInfo(e){if(e.querySelector(".li-mark-content")&&(e=e.querySelector(".li-mark-content")),e.attributes.lc_id)return findVueInfo(e);return{[e.localName]:{__text__:e.innerText,class:e.className}}}function merge$1(e,t,r=-1,s=()=>{}){e&&t&&(e.__children||(e.__children=[]),r>-1?e.__children.splice(r,0,t):e.__children.push(t),s(),t.__proto__={parentCodeNode:e})}function getSplitTag(){return"@#$!"}function insertPresetAttribute(e){const t=getRawComponentKey(e),r=e[t],s=presetAttribute[t];if(s)for(const i in s)if(s.hasOwnProperty(i)){const e=s[i];r[i]=e}}function findCodeElemNode(e){return findParentDom(e)}deepLCEle=function(e,t=()=>{}){!function e(r){if(r.attributes["lc-mark"]&&(t(),initElement(r)),r.children.length>0){const t=r.children.length;for(let s=0;s<t;s++)e(r.children.item(s))}}(e)};function initElement(e){e.draggable=!0,e.addEventListener("dragstart",(function(t){t.dataTransfer.effectAllowed="copy";const r=generateRawInfo(e),s=`${e.localName}${getSplitTag()}${e.innerText}${getSplitTag()}0${getSplitTag()}${e.style.cssText}${getSplitTag()}${JSON.stringify(r)}`;t.dataTransfer.setData("text/plain",s),t.stopPropagation()})),e.addEventListener("mouseenter",(t=>{const r=e.parentElement.classList;r&&r.contains("mark-element-unit")&&(r.remove("mark-element-unit"),e.isRemoveParentStyle=!0),e.classList.add("mark-element-unit"),t.stopPropagation()})),e.addEventListener("mouseleave",(t=>{e.classList.remove("mark-element-unit"),e.isRemoveParentStyle&&e.parentElement.classList.add("mark-element-unit"),t.stopPropagation()}))}let __viteBrowserExternal,__viteBrowserExternal$1;__viteBrowserExternal={};__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));require$$1=getAugmentedNamespace(__viteBrowserExternal$1);let{red:red,bold:bold,gray:gray,options:colorette}=require$$1,terminalHighlight$1=require$$1,CssSyntaxError$3=class e extends Error{constructor(t,r,s,i,n,o){super(t),this.name="CssSyntaxError",this.reason=t,n&&(this.file=n),i&&(this.source=i),o&&(this.plugin=o),void 0!==r&&void 0!==s&&(this.line=r,this.column=s),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=colorette.enabled),terminalHighlight$1&&e&&(t=terminalHighlight$1(t));let r,s,i=t.split(/\r?\n/),n=Math.max(this.line-3,0),o=Math.min(this.line+2,i.length),a=String(o).length;return e?(r=e=>bold(red(e)),s=e=>gray(e)):r=s=e=>e,i.slice(n,o).map(((e,t)=>{let i=n+1+t,o=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let t=s(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+s(o)+e+"\n "+t+r("^")}return" "+s(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var cssSyntaxError=CssSyntaxError$3;CssSyntaxError$3.default=CssSyntaxError$3;const DEFAULT_RAW={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function capitalize(e){return e[0].toUpperCase()+e.slice(1)}let Stringifier$2=class{constructor(e){this.builder=e}stringify(e,t){this[e.type](e,t)}root(e){this.root=e,this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),s=e.prop+r+this.rawValue(e,"value");e.important&&(s+=e.raws.important||" !important"),t&&(s+=";"),this.builder(s,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let r="@"+e.name,s=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:s&&(r+=" "),e.nodes)this.block(e,r+s);else{let i=(e.raws.between||"")+(t?";":"");this.builder(r+s+i,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let s=0;s<e.nodes.length;s++){let i=e.nodes[s],n=this.raw(i,"before");n&&this.builder(n),this.stringify(i,t!==s||r)}}block(e,t){let r,s=this.raw(e,"between","beforeOpen");this.builder(t+s+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}raw(e,t,r){let s;if(r||(r=t),t&&(s=e.raws[t],void 0!==s))return s;let i=e.parent;if("before"===r&&(!i||"root"===i.type&&i.first===e))return"";if(!i)return DEFAULT_RAW[r];let n=e.root();if(n.rawCache||(n.rawCache={}),void 0!==n.rawCache[r])return n.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let i="raw"+capitalize(r);this[i]?s=this[i](n,e):n.walk((e=>{if(s=e.raws[t],void 0!==s)return!1}))}return void 0===s&&(s=DEFAULT_RAW[r]),n.rawCache[r]=s,s}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((r=>{let s=r.parent;if(s&&s!==e&&s.parent&&s.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawBeforeComment(e,t){let r;return e.walkComments((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeRule(e){let t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let s=e.parent,i=0;for(;s&&"root"!==s.type;)i+=1,s=s.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)r+=t}return r}rawValue(e,t){let r=e[t],s=e.raws[t];return s&&s.value===r?s.raw:r}};var stringifier=Stringifier$2,symbols={};symbols.isClean=Symbol("isClean");let Stringifier$1=stringifier;function stringify$3(e,t){new Stringifier$1(t).stringify(e)}var stringify_1=stringify$3;stringify$3.default=stringify$3;let CssSyntaxError$2=cssSyntaxError,Stringifier=stringifier,{isClean:isClean$2}=symbols,stringify$2=stringify_1;function cloneNode(e,t){let r=new e.constructor;for(let s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;if("proxyCache"===s)continue;let i=e[s],n=typeof i;"parent"===s&&"object"===n?t&&(r[s]=t):"source"===s?r[s]=i:Array.isArray(i)?r[s]=i.map((e=>cloneNode(e,r))):("object"===n&&null!==i&&(i=cloneNode(i)),r[s]=i)}return r}let Node$5=class{constructor(e={}){this.raws={},this[isClean$2]=!1;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}error(e,t={}){if(this.source){let r=this.positionBy(t);return this.source.input.error(e,r.line,r.column,t)}return new CssSyntaxError$2(e)}warn(e,t,r){let s={node:this};for(let i in r)s[i]=r[i];return e.warn(t,s)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=stringify$2){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}clone(e={}){let t=cloneNode(this);for(let r in e)t[r]=e[r];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let s of e)s===this?r=!0:r?(this.parent.insertAfter(t,s),t=s):this.parent.insertBefore(t,s);r||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent;)e=e.parent;return e}raw(e,t){return(new Stringifier).raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(){let e={};for(let t in this){if(!Object.prototype.hasOwnProperty.call(this,t))continue;if("parent"===t)continue;let r=this[t];Array.isArray(r)?e[t]=r.map((e=>"object"==typeof e&&e.toJSON?e.toJSON():e)):"object"==typeof r&&r.toJSON?e[t]=r.toJSON():e[t]=r}return e}positionInside(e){let t=this.toString(),r=this.source.start.column,s=this.source.start.line;for(let i=0;i<e;i++)"\n"===t[i]?(r=1,s+=1):r+=1;return{line:s,column:r}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r=this.toString().indexOf(e.word);-1!==r&&(t=this.positionInside(r))}return t}getProxyProcessor(){return{set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[isClean$2]){this[isClean$2]=!1;let e=this;for(;e=e.parent;)e[isClean$2]=!1}}get proxyOf(){return this}};var node=Node$5;Node$5.default=Node$5;let Node$4=node,Declaration$3=class extends Node$4{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var declaration=Declaration$3;Declaration$3.default=Declaration$3;var sourceMap={},sourceMapGenerator={},base64Vlq={},base64$1={},intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");base64$1.encode=function(e){if(0<=e&&e<intToCharMap.length)return intToCharMap[e];throw new TypeError("Must be between 0 and 63: "+e)},base64$1.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var base64=base64$1,VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}function fromVLQSigned(e){var t=e>>1;return!(1&~e)?-t:t}base64Vlq.encode=function(e){var t,r="",s=toVLQSigned(e);do{t=s&VLQ_BASE_MASK,(s>>>=VLQ_BASE_SHIFT)>0&&(t|=VLQ_CONTINUATION_BIT),r+=base64.encode(t)}while(s>0);return r},base64Vlq.decode=function(e,t,r){var s,i,n=e.length,o=0,a=0;do{if(t>=n)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=base64.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(i&VLQ_CONTINUATION_BIT),o+=(i&=VLQ_BASE_MASK)<<a,a+=VLQ_BASE_SHIFT}while(s);r.value=fromVLQSigned(o),r.rest=t};var util$5={};!function(e){e.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function s(e){var r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function n(t){var r=t,n=s(t);if(n){if(!n.path)return t;r=n.path}for(var o,a=e.isAbsolute(r),c=r.split(/\/+/),l=0,h=c.length-1;h>=0;h--)"."===(o=c[h])?c.splice(h,1):".."===o?l++:l>0&&(""===o?(c.splice(h+1,l),l=0):(c.splice(h,2),l--));return""===(r=c.join("/"))&&(r=a?"/":"."),n?(n.path=r,i(n)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var o=s(t),a=s(e);if(a&&(e=a.path||"/"),o&&!o.scheme)return a&&(o.scheme=a.scheme),i(o);if(o||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var c="/"===t.charAt(0)?t:n(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c}e.urlParse=s,e.urlGenerate=i,e.normalize=n,e.join=o,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var s=e.lastIndexOf("/");if(s<0)return t;if((e=e.slice(0,s)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?c:function(e){return l(e)?"$"+e:e},e.fromSetString=a?c:function(e){return l(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,r){var s=h(e.source,t.source);return 0!==s||0!==(s=e.originalLine-t.originalLine)||0!==(s=e.originalColumn-t.originalColumn)||r||0!==(s=e.generatedColumn-t.generatedColumn)||0!==(s=e.generatedLine-t.generatedLine)?s:h(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,r){var s=e.generatedLine-t.generatedLine;return 0!==s||0!==(s=e.generatedColumn-t.generatedColumn)||r||0!==(s=h(e.source,t.source))||0!==(s=e.originalLine-t.originalLine)||0!==(s=e.originalColumn-t.originalColumn)?s:h(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=h(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var a=s(r);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var c=a.path.lastIndexOf("/");c>=0&&(a.path=a.path.substring(0,c+1))}t=o(i(a),t)}return n(t)}}(util$5);var arraySet={},util$4=util$5,has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;function ArraySet$2(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}ArraySet$2.fromArray=function(e,t){for(var r=new ArraySet$2,s=0,i=e.length;s<i;s++)r.add(e[s],t);return r},ArraySet$2.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet$2.prototype.add=function(e,t){var r=hasNativeMap?e:util$4.toSetString(e),s=hasNativeMap?this.has(e):has.call(this._set,r),i=this._array.length;s&&!t||this._array.push(e),s||(hasNativeMap?this._set.set(e,i):this._set[r]=i)},ArraySet$2.prototype.has=function(e){if(hasNativeMap)return this._set.has(e);var t=util$4.toSetString(e);return has.call(this._set,t)},ArraySet$2.prototype.indexOf=function(e){if(hasNativeMap){var t=this._set.get(e);if(t>=0)return t}else{var r=util$4.toSetString(e);if(has.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},ArraySet$2.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},ArraySet$2.prototype.toArray=function(){return this._array.slice()},arraySet.ArraySet=ArraySet$2;var mappingList={},util$3=util$5;function generatedPositionAfter(e,t){var r=e.generatedLine,s=t.generatedLine,i=e.generatedColumn,n=t.generatedColumn;return s>r||s==r&&n>=i||util$3.compareByGeneratedPositionsInflated(e,t)<=0}function MappingList$1(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList$1.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},MappingList$1.prototype.add=function(e){generatedPositionAfter(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},MappingList$1.prototype.toArray=function(){return this._sorted||(this._array.sort(util$3.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},mappingList.MappingList=MappingList$1;var base64VLQ$1=base64Vlq,util$2=util$5,ArraySet$1=arraySet.ArraySet,MappingList=mappingList.MappingList;function SourceMapGenerator$1(e){e||(e={}),this._file=util$2.getArg(e,"file",null),this._sourceRoot=util$2.getArg(e,"sourceRoot",null),this._skipValidation=util$2.getArg(e,"skipValidation",!1),this._sources=new ArraySet$1,this._names=new ArraySet$1,this._mappings=new MappingList,this._sourcesContents=null}SourceMapGenerator$1.prototype._version=3,SourceMapGenerator$1.fromSourceMap=function(e){var t=e.sourceRoot,r=new SourceMapGenerator$1({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var s={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(s.source=e.source,null!=t&&(s.source=util$2.relative(t,s.source)),s.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(s.name=e.name)),r.addMapping(s)})),e.sources.forEach((function(s){var i=s;null!==t&&(i=util$2.relative(t,s)),r._sources.has(i)||r._sources.add(i);var n=e.sourceContentFor(s);null!=n&&r.setSourceContent(s,n)})),r},SourceMapGenerator$1.prototype.addMapping=function(e){var t=util$2.getArg(e,"generated"),r=util$2.getArg(e,"original",null),s=util$2.getArg(e,"source",null),i=util$2.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,s,i),null!=s&&(s=String(s),this._sources.has(s)||this._sources.add(s)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:s,name:i})},SourceMapGenerator$1.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=util$2.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util$2.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[util$2.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator$1.prototype.applySourceMap=function(e,t,r){var s=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');s=e.file}var i=this._sourceRoot;null!=i&&(s=util$2.relative(i,s));var n=new ArraySet$1,o=new ArraySet$1;this._mappings.unsortedForEach((function(t){if(t.source===s&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=r&&(t.source=util$2.join(r,t.source)),null!=i&&(t.source=util$2.relative(i,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||n.has(c)||n.add(c);var l=t.name;null==l||o.has(l)||o.add(l)}),this),this._sources=n,this._names=o,e.sources.forEach((function(t){var s=e.sourceContentFor(t);null!=s&&(null!=r&&(t=util$2.join(r,t)),null!=i&&(t=util$2.relative(i,t)),this.setSourceContent(t,s))}),this)},SourceMapGenerator$1.prototype._validateMapping=function(e,t,r,s){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||s)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:s}))},SourceMapGenerator$1.prototype._serializeMappings=function(){for(var e,t,r,s,i=0,n=1,o=0,a=0,c=0,l=0,h="",p=this._mappings.toArray(),u=0,d=p.length;u<d;u++){if(e="",(t=p[u]).generatedLine!==n)for(i=0;t.generatedLine!==n;)e+=";",n++;else if(u>0){if(!util$2.compareByGeneratedPositionsInflated(t,p[u-1]))continue;e+=","}e+=base64VLQ$1.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(s=this._sources.indexOf(t.source),e+=base64VLQ$1.encode(s-l),l=s,e+=base64VLQ$1.encode(t.originalLine-1-a),a=t.originalLine-1,e+=base64VLQ$1.encode(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=base64VLQ$1.encode(r-c),c=r)),h+=e}return h},SourceMapGenerator$1.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=util$2.relative(t,e));var r=util$2.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},SourceMapGenerator$1.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},SourceMapGenerator$1.prototype.toString=function(){return JSON.stringify(this.toJSON())},sourceMapGenerator.SourceMapGenerator=SourceMapGenerator$1;var sourceMapConsumer={},binarySearch$1={};!function(e){function t(r,s,i,n,o,a){var c=Math.floor((s-r)/2)+r,l=o(i,n[c],!0);return 0===l?c:l>0?s-c>1?t(c,s,i,n,o,a):a==e.LEAST_UPPER_BOUND?s<n.length?s:-1:c:c-r>1?t(r,c,i,n,o,a):a==e.LEAST_UPPER_BOUND?c:r<0?-1:r}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(r,s,i,n){if(0===s.length)return-1;var o=t(-1,s.length,r,s,i,n||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===i(s[o],s[o-1],!0);)--o;return o}}(binarySearch$1);var quickSort$1={};function swap(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function randomIntInRange(e,t){return Math.round(e+Math.random()*(t-e))}function doQuickSort(e,t,r,s){if(r<s){var i=r-1;swap(e,randomIntInRange(r,s),s);for(var n=e[s],o=r;o<s;o++)t(e[o],n)<=0&&swap(e,i+=1,o);swap(e,i+1,o);var a=i+1;doQuickSort(e,t,r,a-1),doQuickSort(e,t,a+1,s)}}quickSort$1.quickSort=function(e,t){doQuickSort(e,t,0,e.length-1)};var util$1=util$5,binarySearch=binarySearch$1,ArraySet=arraySet.ArraySet,base64VLQ=base64Vlq,quickSort=quickSort$1.quickSort;function SourceMapConsumer(e,t){var r=e;return"string"==typeof e&&(r=util$1.parseSourceMapInput(e)),null!=r.sections?new IndexedSourceMapConsumer(r,t):new BasicSourceMapConsumer(r,t)}function BasicSourceMapConsumer(e,t){var r=e;"string"==typeof e&&(r=util$1.parseSourceMapInput(e));var s=util$1.getArg(r,"version"),i=util$1.getArg(r,"sources"),n=util$1.getArg(r,"names",[]),o=util$1.getArg(r,"sourceRoot",null),a=util$1.getArg(r,"sourcesContent",null),c=util$1.getArg(r,"mappings"),l=util$1.getArg(r,"file",null);if(s!=this._version)throw new Error("Unsupported version: "+s);o&&(o=util$1.normalize(o)),i=i.map(String).map(util$1.normalize).map((function(e){return o&&util$1.isAbsolute(o)&&util$1.isAbsolute(e)?util$1.relative(o,e):e})),this._names=ArraySet.fromArray(n.map(String),!0),this._sources=ArraySet.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map((function(e){return util$1.computeSourceURL(o,e,t)})),this.sourceRoot=o,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=l}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(e,t){var r=e;"string"==typeof e&&(r=util$1.parseSourceMapInput(e));var s=util$1.getArg(r,"version"),i=util$1.getArg(r,"sections");if(s!=this._version)throw new Error("Unsupported version: "+s);this._sources=new ArraySet,this._names=new ArraySet;var n={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=util$1.getArg(e,"offset"),s=util$1.getArg(r,"line"),i=util$1.getArg(r,"column");if(s<n.line||s===n.line&&i<n.column)throw new Error("Section offsets must be ordered and non-overlapping.");return n=r,{generatedOffset:{generatedLine:s+1,generatedColumn:i+1},consumer:new SourceMapConsumer(util$1.getArg(e,"map"),t)}}))}SourceMapConsumer.fromSourceMap=function(e,t){return BasicSourceMapConsumer.fromSourceMap(e,t)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},SourceMapConsumer.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(e,t,r){var s,i=t||null;switch(r||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:s=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var n=this.sourceRoot;s.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=util$1.computeSourceURL(n,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,i)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(e){var t=util$1.getArg(e,"line"),r={source:util$1.getArg(e,"source"),originalLine:t,originalColumn:util$1.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var s=[],i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",util$1.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(i>=0){var n=this._originalMappings[i];if(void 0===e.column)for(var o=n.originalLine;n&&n.originalLine===o;)s.push({line:util$1.getArg(n,"generatedLine",null),column:util$1.getArg(n,"generatedColumn",null),lastColumn:util$1.getArg(n,"lastGeneratedColumn",null)}),n=this._originalMappings[++i];else for(var a=n.originalColumn;n&&n.originalLine===t&&n.originalColumn==a;)s.push({line:util$1.getArg(n,"generatedLine",null),column:util$1.getArg(n,"generatedColumn",null),lastColumn:util$1.getArg(n,"lastGeneratedColumn",null)}),n=this._originalMappings[++i]}return s},sourceMapConsumer.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=util$1.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},BasicSourceMapConsumer.fromSourceMap=function(e,t){var r=Object.create(BasicSourceMapConsumer.prototype),s=r._names=ArraySet.fromArray(e._names.toArray(),!0),i=r._sources=ArraySet.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return util$1.computeSourceURL(r.sourceRoot,e,t)}));for(var n=e._mappings.toArray().slice(),o=r.__generatedMappings=[],a=r.__originalMappings=[],c=0,l=n.length;c<l;c++){var h=n[c],p=new Mapping;p.generatedLine=h.generatedLine,p.generatedColumn=h.generatedColumn,h.source&&(p.source=i.indexOf(h.source),p.originalLine=h.originalLine,p.originalColumn=h.originalColumn,h.name&&(p.name=s.indexOf(h.name)),a.push(p)),o.push(p)}return quickSort(r.__originalMappings,util$1.compareByOriginalPositions),r},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function(e,t){for(var r,s,i,n,o,a=1,c=0,l=0,h=0,p=0,u=0,d=e.length,f=0,m={},y={},g=[],x=[];f<d;)if(";"===e.charAt(f))a++,f++,c=0;else if(","===e.charAt(f))f++;else{for((r=new Mapping).generatedLine=a,n=f;n<d&&!this._charIsMappingSeparator(e,n);n++);if(i=m[s=e.slice(f,n)])f+=s.length;else{for(i=[];f<n;)base64VLQ.decode(e,f,y),o=y.value,f=y.rest,i.push(o);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");m[s]=i}r.generatedColumn=c+i[0],c=r.generatedColumn,i.length>1&&(r.source=p+i[1],p+=i[1],r.originalLine=l+i[2],l=r.originalLine,r.originalLine+=1,r.originalColumn=h+i[3],h=r.originalColumn,i.length>4&&(r.name=u+i[4],u+=i[4])),x.push(r),"number"==typeof r.originalLine&&g.push(r)}quickSort(x,util$1.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,quickSort(g,util$1.compareByOriginalPositions),this.__originalMappings=g},BasicSourceMapConsumer.prototype._findMapping=function(e,t,r,s,i,n){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[s]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[s]);return binarySearch.search(e,t,i,n)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(e){var t={generatedLine:util$1.getArg(e,"line"),generatedColumn:util$1.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",util$1.compareByGeneratedPositionsDeflated,util$1.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(r>=0){var s=this._generatedMappings[r];if(s.generatedLine===t.generatedLine){var i=util$1.getArg(s,"source",null);null!==i&&(i=this._sources.at(i),i=util$1.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var n=util$1.getArg(s,"name",null);return null!==n&&(n=this._names.at(n)),{source:i,line:util$1.getArg(s,"originalLine",null),column:util$1.getArg(s,"originalColumn",null),name:n}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},BasicSourceMapConsumer.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var s,i=e;if(null!=this.sourceRoot&&(i=util$1.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(s=util$1.urlParse(this.sourceRoot))){var n=i.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!s.path||"/"==s.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(e){var t=util$1.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:util$1.getArg(e,"line"),originalColumn:util$1.getArg(e,"column")},s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",util$1.compareByOriginalPositions,util$1.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(s>=0){var i=this._originalMappings[s];if(i.source===r.source)return{line:util$1.getArg(i,"generatedLine",null),column:util$1.getArg(i,"generatedColumn",null),lastColumn:util$1.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},sourceMapConsumer.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(e){var t={generatedLine:util$1.getArg(e,"line"),generatedColumn:util$1.getArg(e,"column")},r=binarySearch.search(t,this._sections,(function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn})),s=this._sections[r];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},IndexedSourceMapConsumer.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var s=this._sections[r].consumer.sourceContentFor(e,!0);if(s)return s}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(util$1.getArg(e,"source"))){var s=r.consumer.generatedPositionFor(e);if(s)return{line:s.line+(r.generatedOffset.generatedLine-1),column:s.column+(r.generatedOffset.generatedLine===s.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var s=this._sections[r],i=s.consumer._generatedMappings,n=0;n<i.length;n++){var o=i[n],a=s.consumer._sources.at(o.source);a=util$1.computeSourceURL(s.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var c=null;o.name&&(c=s.consumer._names.at(o.name),this._names.add(c),c=this._names.indexOf(c));var l={source:a,generatedLine:o.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(s.generatedOffset.generatedLine===o.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:c};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}quickSort(this.__generatedMappings,util$1.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util$1.compareByOriginalPositions)},sourceMapConsumer.IndexedSourceMapConsumer=IndexedSourceMapConsumer;var sourceNode={},SourceMapGenerator=sourceMapGenerator.SourceMapGenerator,util=util$5,REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";function SourceNode(e,t,r,s,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[isSourceNode]=!0,null!=s&&this.add(s)}SourceNode.fromStringWithSourceMap=function(e,t,r){var s=new SourceNode,i=e.split(REGEX_NEWLINE),n=0,o=function(){return e()+(e()||"");function e(){return n<i.length?i[n++]:void 0}},a=1,c=0,l=null;return t.eachMapping((function(e){if(null!==l){if(!(a<e.generatedLine)){var t=(r=i[n]||"").substr(0,e.generatedColumn-c);return i[n]=r.substr(e.generatedColumn-c),c=e.generatedColumn,h(l,t),void(l=e)}h(l,o()),a++,c=0}for(;a<e.generatedLine;)s.add(o()),a++;if(c<e.generatedColumn){var r=i[n]||"";s.add(r.substr(0,e.generatedColumn)),i[n]=r.substr(e.generatedColumn),c=e.generatedColumn}l=e}),this),n<i.length&&(l&&h(l,o()),s.add(i.splice(n).join(""))),t.sources.forEach((function(e){var i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=util.join(r,e)),s.setSourceContent(e,i))})),s;function h(e,t){if(null===e||void 0===e.source)s.add(t);else{var i=r?util.join(r,e.source):e.source;s.add(new SourceNode(e.originalLine,e.originalColumn,i,t,e.name))}}},SourceNode.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},SourceNode.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},SourceNode.prototype.walk=function(e){for(var t,r=0,s=this.children.length;r<s;r++)(t=this.children[r])[isSourceNode]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(e){var t,r,s=this.children.length;if(s>0){for(t=[],r=0;r<s-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},SourceNode.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[isSourceNode]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},SourceNode.prototype.setSourceContent=function(e,t){this.sourceContents[util.toSetString(e)]=t},SourceNode.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][isSourceNode]&&this.children[t].walkSourceContents(e);var s=Object.keys(this.sourceContents);for(t=0,r=s.length;t<r;t++)e(util.fromSetString(s[t]),this.sourceContents[s[t]])},SourceNode.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},SourceNode.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new SourceMapGenerator(e),s=!1,i=null,n=null,o=null,a=null;return this.walk((function(e,c){t.code+=e,null!==c.source&&null!==c.line&&null!==c.column?(i===c.source&&n===c.line&&o===c.column&&a===c.name||r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),i=c.source,n=c.line,o=c.column,a=c.name,s=!0):s&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,s=!1);for(var l=0,h=e.length;l<h;l++)e.charCodeAt(l)===NEWLINE_CODE?(t.line++,t.column=0,l+1===h?(i=null,s=!1):s&&r.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},sourceNode.SourceNode=SourceNode,sourceMap.SourceMapGenerator=sourceMapGenerator.SourceMapGenerator,sourceMap.SourceMapConsumer=sourceMapConsumer.SourceMapConsumer,sourceMap.SourceNode=sourceNode.SourceNode;let{dirname:dirname$1,resolve:resolve$1,relative:relative,sep:sep}=require$$1,{pathToFileURL:pathToFileURL$1}=require$$1,mozilla$1=sourceMap,MapGenerator$1=class{constructor(e,t,r){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}previous(){return this.previousMaps||(this.previousMaps=[],this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}))),this.previousMaps}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}clearAnnotation(){if(!1===this.mapOpts.annotation)return;let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}setSourcesContent(){let e={};this.root.walk((t=>{if(t.source){let r=t.source.input.from;r&&!e[r]&&(e[r]=!0,this.map.setSourceContent(this.toUrl(this.path(r)),t.source.input.css))}}))}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),s=e.root||dirname$1(e.file);!1===this.mapOpts.sourcesContent?(t=new mozilla$1.SourceMapConsumer(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(s)))}}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;if(this.mapOpts.absolute)return e;let t=this.opts.to?dirname$1(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=dirname$1(resolve$1(t,this.mapOpts.annotation))),e=relative(t,e)}toUrl(e){return"\\"===sep&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.mapOpts.absolute?pathToFileURL$1(e.source.input.from).toString():this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new mozilla$1.SourceMapGenerator({file:this.outputFile()});let e,t,r=1,s=1;this.stringify(this.root,((i,n,o)=>{if(this.css+=i,n&&"end"!==o&&(n.source&&n.source.start?this.map.addMapping({source:this.sourcePath(n),generated:{line:r,column:s-1},original:{line:n.source.start.line,column:n.source.start.column-1}}):this.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:s-1}})),e=i.match(/\n/g),e?(r+=e.length,t=i.lastIndexOf("\n"),s=i.length-t):s+=i.length,n&&"start"!==o){let e=n.parent||{raws:{}};("decl"!==n.type||n!==e.last||e.raws.semicolon)&&(n.source&&n.source.end?this.map.addMapping({source:this.sourcePath(n),generated:{line:r,column:s-2},original:{line:n.source.end.line,column:n.source.end.column-1}}):this.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:s-1}}))}}))}generate(){if(this.clearAnnotation(),this.isMap())return this.generateMap();let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}};var mapGenerator=MapGenerator$1;let Warning$2=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.positionBy(t);this.line=e.line,this.column=e.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var warning=Warning$2;Warning$2.default=Warning$2;let Warning$1=warning,Result$2=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Warning$1(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var result=Result$2;Result$2.default=Result$2;let Node$3=node,Comment$3=class extends Node$3{constructor(e){super(e),this.type="comment"}};var comment=Comment$3;Comment$3.default=Comment$3;let Declaration$2=declaration,{isClean:isClean$1}=symbols,Comment$2=comment,Node$2=node,parse$4,Rule$3,AtRule$3;function cleanSource(e){return e.map((e=>(e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e)))}function markDirtyUp(e){if(e[isClean$1]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)markDirtyUp(t)}function rebuild(e){"atrule"===e.type?Object.setPrototypeOf(e,AtRule$3.prototype):"rule"===e.type?Object.setPrototypeOf(e,Rule$3.prototype):"decl"===e.type?Object.setPrototypeOf(e,Declaration$2.prototype):"comment"===e.type&&Object.setPrototypeOf(e,Comment$2.prototype),e.nodes&&e.nodes.forEach((e=>{rebuild(e)}))}let Container$5=class extends Node$2{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t,r,s=this.getIterator();for(;this.indexes[s]<this.proxyOf.nodes.length&&(t=this.indexes[s],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[s]+=1;return delete this.indexes[s],r}walk(e){return this.each(((t,r)=>{let s;try{s=e(t,r)}catch(i){throw t.addToError(i)}return!1!==s&&t.walk&&(s=t.walk(e)),s}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,s)=>{if("decl"===r.type&&e.test(r.prop))return t(r,s)})):this.walk(((r,s)=>{if("decl"===r.type&&r.prop===e)return t(r,s)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,s)=>{if("rule"===r.type&&e.test(r.selector))return t(r,s)})):this.walk(((r,s)=>{if("rule"===r.type&&r.selector===e)return t(r,s)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,s)=>{if("atrule"===r.type&&e.test(r.name))return t(r,s)})):this.walk(((r,s)=>{if("atrule"===r.type&&r.name===e)return t(r,s)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let r,s=0===(e=this.index(e))&&"prepend",i=this.normalize(t,this.proxyOf.nodes[e],s).reverse();for(let n of i)this.proxyOf.nodes.splice(e,0,n);for(let n in this.indexes)r=this.indexes[n],e<=r&&(this.indexes[n]=r+i.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let r,s=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let i of s)this.proxyOf.nodes.splice(e+1,0,i);for(let i in this.indexes)r=this.indexes[i],e<r&&(this.indexes[i]=r+s.length);return this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((s=>{t.props&&!t.props.includes(s.prop)||t.fast&&!s.value.includes(t.fast)||(s.value=s.value.replace(e,r))})),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"==typeof e)e=cleanSource(parse$4(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new Declaration$2(e)]}else if(e.selector)e=[new Rule$3(e)];else if(e.name)e=[new AtRule$3(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new Comment$2(e)]}return e.map((e=>("function"!=typeof e.markDirty&&rebuild(e),e.parent&&e.parent.removeChild(e),e[isClean$1]&&markDirtyUp(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this,e)))}getProxyProcessor(){return{set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}};Container$5.registerParse=e=>{parse$4=e},Container$5.registerRule=e=>{Rule$3=e},Container$5.registerAtRule=e=>{AtRule$3=e};var container=Container$5;Container$5.default=Container$5;const SINGLE_QUOTE="'".charCodeAt(0),DOUBLE_QUOTE='"'.charCodeAt(0),BACKSLASH="\\".charCodeAt(0),SLASH="/".charCodeAt(0),NEWLINE="\n".charCodeAt(0),SPACE=" ".charCodeAt(0),FEED="\f".charCodeAt(0),TAB="	".charCodeAt(0),CR="\r".charCodeAt(0),OPEN_SQUARE="[".charCodeAt(0),CLOSE_SQUARE="]".charCodeAt(0),OPEN_PARENTHESES="(".charCodeAt(0),CLOSE_PARENTHESES=")".charCodeAt(0),OPEN_CURLY="{".charCodeAt(0),CLOSE_CURLY="}".charCodeAt(0),SEMICOLON=";".charCodeAt(0),ASTERISK="*".charCodeAt(0),COLON=":".charCodeAt(0),AT="@".charCodeAt(0),RE_AT_END=/[\t\n\f\r "#'()/;[\\\]{}]/g,RE_WORD_END=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,RE_BAD_BRACKET=/.[\n"'(/\\]/,RE_HEX_ESCAPE=/[\da-f]/i;var tokenize=function(e,t={}){let r,s,i,n,o,a,c,l,h,p,u=e.css.valueOf(),d=t.ignoreErrors,f=u.length,m=0,y=[],g=[];function x(t){throw e.error("Unclosed "+t,m)}return{back:function(e){g.push(e)},nextToken:function(e){if(g.length)return g.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(r=u.charCodeAt(m),r){case NEWLINE:case SPACE:case TAB:case CR:case FEED:s=m;do{s+=1,r=u.charCodeAt(s)}while(r===SPACE||r===NEWLINE||r===TAB||r===CR||r===FEED);p=["space",u.slice(m,s)],m=s-1;break;case OPEN_SQUARE:case CLOSE_SQUARE:case OPEN_CURLY:case CLOSE_CURLY:case COLON:case SEMICOLON:case CLOSE_PARENTHESES:{let e=String.fromCharCode(r);p=[e,e,m];break}case OPEN_PARENTHESES:if(l=y.length?y.pop()[1]:"",h=u.charCodeAt(m+1),"url"===l&&h!==SINGLE_QUOTE&&h!==DOUBLE_QUOTE&&h!==SPACE&&h!==NEWLINE&&h!==TAB&&h!==FEED&&h!==CR){s=m;do{if(a=!1,s=u.indexOf(")",s+1),-1===s){if(d||t){s=m;break}x("bracket")}for(c=s;u.charCodeAt(c-1)===BACKSLASH;)c-=1,a=!a}while(a);p=["brackets",u.slice(m,s+1),m,s],m=s}else s=u.indexOf(")",m+1),n=u.slice(m,s+1),-1===s||RE_BAD_BRACKET.test(n)?p=["(","(",m]:(p=["brackets",n,m,s],m=s);break;case SINGLE_QUOTE:case DOUBLE_QUOTE:i=r===SINGLE_QUOTE?"'":'"',s=m;do{if(a=!1,s=u.indexOf(i,s+1),-1===s){if(d||t){s=m+1;break}x("string")}for(c=s;u.charCodeAt(c-1)===BACKSLASH;)c-=1,a=!a}while(a);p=["string",u.slice(m,s+1),m,s],m=s;break;case AT:RE_AT_END.lastIndex=m+1,RE_AT_END.test(u),s=0===RE_AT_END.lastIndex?u.length-1:RE_AT_END.lastIndex-2,p=["at-word",u.slice(m,s+1),m,s],m=s;break;case BACKSLASH:for(s=m,o=!0;u.charCodeAt(s+1)===BACKSLASH;)s+=1,o=!o;if(r=u.charCodeAt(s+1),o&&r!==SLASH&&r!==SPACE&&r!==NEWLINE&&r!==TAB&&r!==CR&&r!==FEED&&(s+=1,RE_HEX_ESCAPE.test(u.charAt(s)))){for(;RE_HEX_ESCAPE.test(u.charAt(s+1));)s+=1;u.charCodeAt(s+1)===SPACE&&(s+=1)}p=["word",u.slice(m,s+1),m,s],m=s;break;default:r===SLASH&&u.charCodeAt(m+1)===ASTERISK?(s=u.indexOf("*/",m+2)+1,0===s&&(d||t?s=u.length:x("comment")),p=["comment",u.slice(m,s+1),m,s],m=s):(RE_WORD_END.lastIndex=m+1,RE_WORD_END.test(u),s=0===RE_WORD_END.lastIndex?u.length-1:RE_WORD_END.lastIndex-2,p=["word",u.slice(m,s+1),m,s],y.push(p),m=s)}return m++,p},endOfFile:function(){return 0===g.length&&m>=f},position:function(){return m}}};let Container$4=container,AtRule$2=class extends Container$4{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var atRule=AtRule$2;AtRule$2.default=AtRule$2,Container$4.registerAtRule(AtRule$2);let Container$3=container,LazyResult$3,Processor$2,Root$4=class extends Container$3{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}normalize(e,t,r){let s=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of s)i.raws.before=t.raws.before;return s}toResult(e={}){return new LazyResult$3(new Processor$2,this,e).stringify()}};Root$4.registerLazyResult=e=>{LazyResult$3=e},Root$4.registerProcessor=e=>{Processor$2=e};var root=Root$4;Root$4.default=Root$4;let list$2={split(e,t,r){let s=[],i="",n=!1,o=0,a=!1,c=!1;for(let l of e)a?c?c=!1:"\\"===l?c=!0:l===a&&(a=!1):'"'===l||"'"===l?a=l:"("===l?o+=1:")"===l?o>0&&(o-=1):0===o&&t.includes(l)&&(n=!0),n?(""!==i&&s.push(i.trim()),i="",n=!1):i+=l;return(r||""!==i)&&s.push(i.trim()),s},space:e=>list$2.split(e,[" ","\n","	"]),comma:e=>list$2.split(e,[","],!0)};var list_1=list$2;list$2.default=list$2;let Container$2=container,list$1=list_1,Rule$2=class extends Container$2{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return list$1.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var rule=Rule$2;Rule$2.default=Rule$2,Container$2.registerRule(Rule$2);let Declaration$1=declaration,tokenizer=tokenize,Comment$1=comment,AtRule$1=atRule,Root$3=root,Rule$1=rule,Parser$3=class{constructor(e){this.input=e,this.root=new Root$3,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=tokenizer(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}comment(e){let t=new Comment$1;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}emptyRule(e){let t=new Rule$1;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,r=null,s=!1,i=null,n=[],o=e[1].startsWith("--"),a=[],c=e;for(;c;){if(r=c[0],a.push(c),"("===r||"["===r)i||(i=c),n.push("("===r?")":"]");else if(o&&s&&"{"===r)i||(i=c),n.push("}");else if(0===n.length){if(";"===r){if(s)return void this.decl(a,o);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(s=!0)}else r===n[n.length-1]&&(n.pop(),0===n.length&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),n.length>0&&this.unclosedBracket(i),t&&s){for(;a.length&&(c=a[a.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}rule(e){e.pop();let t=new Rule$1;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let r=new Declaration$1;this.init(r,e[0][2]);let s,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]);"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(s=e.shift(),":"===s[0]){r.raws.between+=s[1];break}"word"===s[0]&&/\w/.test(s[1])&&this.unknownWord([s]),r.raws.between+=s[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let n=this.spacesAndCommentsFromStart(e);this.precheckMissedSemicolon(e);for(let a=e.length-1;a>=0;a--){if(s=e[a],"!important"===s[1].toLowerCase()){r.important=!0;let t=this.stringFrom(e,a);t=this.spacesFromEnd(e)+t," !important"!==t&&(r.raws.important=t);break}if("important"===s[1].toLowerCase()){let t=e.slice(0),s="";for(let e=a;e>0;e--){let r=t[e][0];if(0===s.trim().indexOf("!")&&"space"!==r)break;s=t.pop()[1]+s}0===s.trim().indexOf("!")&&(r.important=!0,r.raws.important=s,e=t)}if("space"!==s[0]&&"comment"!==s[0])break}let o=e.some((e=>"space"!==e[0]&&"comment"!==e[0]));this.raw(r,"value",e),o?r.raws.between+=n:r.value=n+r.value,r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t,r,s,i=new AtRule$1;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let n=!1,o=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(s=a.length-1,r=a[s];r&&"space"===r[0];)r=a[--s];r&&(i.source.end=this.getPosition(r[3]||r[2]))}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){n=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),n&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}raw(e,t,r){let s,i,n,o,a=r.length,c="",l=!0,h=/^([#.|])?(\w)+/i;for(let p=0;p<a;p+=1)s=r[p],i=s[0],"comment"!==i||"rule"!==e.type?"comment"===i||"space"===i&&p===a-1?l=!1:c+=s[1]:(o=r[p-1],n=r[p+1],"space"!==o[0]&&"space"!==n[0]&&h.test(o[1])&&h.test(n[1])?c+=s[1]:l=!1);if(!l){let s=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={value:c,raw:s}}e[t]=c}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let s=t;s<e.length;s++)r+=e[s][1];return e.splice(t,e.length-t),r}colon(e){let t,r,s,i=0;for(let[n,o]of e.entries()){if(t=o,r=t[0],"("===r&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(s){if("word"===s[0]&&"progid"===s[1])continue;return n}this.doubleColon(t)}s=t}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",e[2])}unknownWord(e){throw this.input.error("Unknown word",e[0][2])}unexpectedClose(e){throw this.input.error("Unexpected }",e[2])}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",e[2])}unnamedAtrule(e,t){throw this.input.error("At-rule without name",t[2])}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,s=0;for(let i=t-1;i>=0&&(r=e[i],"space"===r[0]||(s+=1,2!==s));i--);throw this.input.error("Missed semicolon",r[2])}};var parser=Parser$3;let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",customAlphabet=(e,t=21)=>(r=t)=>{let s="",i=r;for(;i--;)s+=e[Math.random()*e.length|0];return s},nanoid$1=(e=21)=>{let t="",r=e;for(;r--;)t+=urlAlphabet[64*Math.random()|0];return t};var nonSecure={nanoid:nanoid$1,customAlphabet:customAlphabet},vfileLocation$1=factory;function factory(e){for(var t=String(e),r=[],s=/\r?\n|\r/g;s.exec(t);)r.push(s.lastIndex);return r.push(t.length+1),{toPoint:i,toPosition:i,toOffset:function(e){var t,s=e&&e.line,i=e&&e.column;isNaN(s)||isNaN(i)||!(s-1 in r)||(t=(r[s-2]||0)+i-1||0);return t>-1&&t<r[r.length-1]?t:-1}};function i(e){var t=-1;if(e>-1&&e<r[r.length-1])for(;++t<r.length;)if(r[t]>e)return{line:t+1,column:e-(r[t-1]||0)+1,offset:e};return{}}}let{existsSync:existsSync,readFileSync:readFileSync}=require$$1,{dirname:dirname,join:join}=require$$1,mozilla=sourceMap;function fromBase64(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}let PreviousMap$1=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,s=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=dirname(this.mapFile)),s&&(this.text=s)}consumer(){return this.consumerCache||(this.consumerCache=new mozilla.SourceMapConsumer(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return!!e&&e.substr(0,t.length)===t}getAnnotationURL(e){return e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//)[1].trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=.*\s*\*\//gm);if(t&&t.length>0){let e=t[t.length-1];e&&(this.annotation=this.getAnnotationURL(e))}}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return fromBase64(e.substr(RegExp.lastMatch.length));let t=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+t)}loadFile(e){if(this.root=dirname(e),existsSync(e))return this.mapFile=e,readFileSync(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof mozilla.SourceMapConsumer)return mozilla.SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof mozilla.SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=join(dirname(e),t)),this.loadFile(t)}}}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}};var previousMap=PreviousMap$1;PreviousMap$1.default=PreviousMap$1;let{fileURLToPath:fileURLToPath,pathToFileURL:pathToFileURL}=require$$1,{resolve:resolve,isAbsolute:isAbsolute}=require$$1,{nanoid:nanoid}=nonSecure,vfileLocation=vfileLocation$1,terminalHighlight=require$$1,CssSyntaxError$1=cssSyntaxError,PreviousMap=previousMap,Input$2=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);this.css=e.toString(),"\uFEFF"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(/^\w+:\/\//.test(t.from)||isAbsolute(t.from)?this.file=t.from:this.file=resolve(t.from));let r=new PreviousMap(this.css,t);if(r.text){this.map=r;let e=r.consumer().file;!this.file&&e&&(this.file=this.mapResolve(e))}this.file||(this.id="<input css "+nanoid(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t=vfileLocation(this.css);return this.fromOffset=e=>{let r=t.toPoint(e);return{line:r.line,col:r.column}},this.fromOffset(e)}error(e,t,r,s={}){let i;if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let n=this.origin(t,r);return i=n?new CssSyntaxError$1(e,n.line,n.column,n.source,n.file,s.plugin):new CssSyntaxError$1(e,t,r,this.css,this.file,s.plugin),i.input={line:t,column:r,source:this.css},this.file&&(i.input.url=pathToFileURL(this.file).toString(),i.input.file=this.file),i}origin(e,t){if(!this.map)return!1;let r,s=this.map.consumer(),i=s.originalPositionFor({line:e,column:t});if(!i.source)return!1;r=isAbsolute(i.source)?pathToFileURL(i.source):new URL(i.source,this.map.consumer().sourceRoot||pathToFileURL(this.map.mapFile));let n={url:r.toString(),line:i.line,column:i.column};"file:"===r.protocol&&(n.file=fileURLToPath(r));let o=s.sourceContentFor(i.source);return o&&(n.source=o),n}mapResolve(e){return/^\w+:\/\//.test(e)?e:resolve(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}};var input=Input$2;Input$2.default=Input$2,terminalHighlight&&terminalHighlight.registerInput&&terminalHighlight.registerInput(Input$2);let Container$1=container,Parser$2=parser,Input$1=input;function parse$3(e,t){let r=new Input$1(e,t),s=new Parser$2(r);try{s.parse()}catch(i){throw i}return s.root}var parse_1$1=parse$3;parse$3.default=parse$3,Container$1.registerParse(parse$3);let MapGenerator=mapGenerator,{isClean:isClean}=symbols,stringify$1=stringify_1,Result$1=result,parse$2=parse_1$1,Root$2=root;const TYPE_TO_CLASS_NAME={root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},CHILDREN=0;function isPromise(e){return"object"==typeof e&&"function"==typeof e.then}function getEvents(e){let t=!1,r=TYPE_TO_CLASS_NAME[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,CHILDREN,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,CHILDREN,r+"Exit"]:[r,r+"Exit"]}function toStack(e){let t;return t="root"===e.type?["Root",CHILDREN,"RootExit"]:getEvents(e),{node:e,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function cleanMarks(e){return e[isClean]=!1,e.nodes&&e.nodes.forEach((e=>cleanMarks(e))),e}let postcss$2={},LazyResult$2=class e{constructor(t,r,s){let i;if(this.stringified=!1,this.processed=!1,"object"==typeof r&&null!==r&&"root"===r.type)i=cleanMarks(r);else if(r instanceof e||r instanceof Result$1)i=cleanMarks(r.root),r.map&&(void 0===s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=r.map);else{let e=parse$2;s.syntax&&(e=s.syntax.parse),s.parser&&(e=s.parser),e.parse&&(e=e.parse);try{i=e(r,s)}catch(n){this.processed=!0,this.error=n}}this.result=new Result$1(t,i,s),this.helpers={...postcss$2,result:this.result,postcss:postcss$2},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(isPromise(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[isClean];)e[isClean]=!0,this.walkSync(e);this.listeners.OnceExit&&this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=stringify$1;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new MapGenerator(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}walkSync(e){e[isClean]=!0;let t=getEvents(e);for(let r of t)if(r===CHILDREN)e.nodes&&e.each((e=>{e[isClean]||this.walkSync(e)}));else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}visitSync(e,t){for(let[s,i]of e){let e;this.result.lastPlugin=s;try{e=i(t,this.helpers)}catch(r){throw this.handleError(r,t.proxyOf)}if("root"!==t.type&&!t.parent)return!0;if(isPromise(e))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once)return e.Once(this.result.root,this.helpers);if("function"==typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(s){console&&console.error}return e}async runAsync(){this.plugin=0;for(let r=0;r<this.plugins.length;r++){let t=this.plugins[r],s=this.runOnRoot(t);if(isPromise(s))try{await s}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[isClean];){e[isClean]=!0;let r=[toStack(e)];for(;r.length>0;){let e=this.visitTick(r);if(isPromise(e))try{await e}catch(t){let e=r[r.length-1].node;throw this.handleError(t,e)}}}if(this.listeners.OnceExit)for(let[r,s]of this.listeners.OnceExit){this.result.lastPlugin=r;try{await s(e,this.helpers)}catch(t){throw this.handleError(t)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r of["Root","Declaration","Rule","AtRule","Comment","DeclarationExit","RuleExit","AtRuleExit","CommentExit","RootExit","OnceExit"])if("object"==typeof t[r])for(let s in t[r])e(t,"*"===s?r:r+"-"+s.toLowerCase(),t[r][s]);else"function"==typeof t[r]&&e(t,r,t[r]);this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:r,visitors:s}=t;if("root"!==r.type&&!r.parent)return void e.pop();if(s.length>0&&t.visitorIndex<s.length){let[e,i]=s[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===s.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(r.toProxy(),this.helpers)}catch(n){throw this.handleError(n,r)}}if(0!==t.iterator){let s,i=t.iterator;for(;s=r.nodes[r.indexes[i]];)if(r.indexes[i]+=1,!s[isClean])return s[isClean]=!0,void e.push(toStack(s));t.iterator=0,delete r.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,e===CHILDREN)return void(r.nodes&&r.nodes.length&&(r[isClean]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}};LazyResult$2.registerPostcss=e=>{postcss$2=e};var lazyResult=LazyResult$2;LazyResult$2.default=LazyResult$2,Root$2.registerLazyResult(LazyResult$2);let LazyResult$1=lazyResult,Root$1=root,Processor$1=class{constructor(e=[]){this.version="8.1.10",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return 0===this.plugins.length&&t.parser===t.stringifier&&t.hideNothingWarning,new LazyResult$1(this,e,t)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");return t}};var processor=Processor$1;Processor$1.default=Processor$1,Root$1.registerProcessor(Processor$1);var define_process_env_default={};let CssSyntaxError=cssSyntaxError,Declaration=declaration,LazyResult=lazyResult,Container=container,Processor=processor,stringify=stringify_1,Warning=warning,Comment=comment,AtRule=atRule,Result=result,Input=input,parse$1=parse_1$1,list=list_1,Rule=rule,Root=root,Node$1=node;function postcss(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new Processor(e,postcss)}postcss.plugin=function(e,t){function r(...r){let s=t(...r);return s.postcssPlugin=e,s.postcssVersion=(new Processor).version,s}let s;return console&&console.warn&&define_process_env_default.LANG&&define_process_env_default.LANG.startsWith("cn"),Object.defineProperty(r,"postcss",{get:()=>(s||(s=r()),s)}),r.process=function(e,t,s){return postcss([r(s)]).process(e,t)},r},postcss.stringify=stringify,postcss.parse=parse$1,postcss.list=list,postcss.comment=e=>new Comment(e),postcss.atRule=e=>new AtRule(e),postcss.decl=e=>new Declaration(e),postcss.rule=e=>new Rule(e),postcss.root=e=>new Root(e),postcss.CssSyntaxError=CssSyntaxError,postcss.Declaration=Declaration,postcss.Container=Container,postcss.Comment=Comment,postcss.Warning=Warning,postcss.AtRule=AtRule,postcss.Result=Result,postcss.Input=Input,postcss.Rule=Rule,postcss.Root=Root,postcss.Node=Node$1,LazyResult.registerPostcss(postcss);var postcss_1=postcss;postcss.default=postcss;const postcss$1=getDefaultExportFromCjs(postcss_1);postcss$1.stringify,postcss$1.plugin,postcss$1.parse,postcss$1.list,postcss$1.comment,postcss$1.atRule,postcss$1.rule,postcss$1.decl,postcss$1.root,postcss$1.CssSyntaxError,postcss$1.Declaration,postcss$1.Container,postcss$1.Comment,postcss$1.Warning,postcss$1.AtRule,postcss$1.Result,postcss$1.Input,postcss$1.Rule,postcss$1.Root,postcss$1.Node;var lodash={exports:{}},module,exports;lodash.exports,module=lodash,exports=lodash.exports,function(){var e,t="Expected a function",r="__lodash_hash_undefined__",s="__lodash_placeholder__",i=16,n=32,o=64,a=128,c=256,l=1/0,h=0x1fffffffffffff,p=NaN,u=0xffffffff,d=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",n],["partialRight",o],["rearg",c]],f="[object Arguments]",m="[object Array]",y="[object Boolean]",g="[object Date]",x="[object Error]",E="[object Function]",v="[object GeneratorFunction]",P="[object Map]",S="[object Number]",w="[object Object]",b="[object Promise]",C="[object RegExp]",T="[object Set]",A="[object String]",I="[object Symbol]",k="[object WeakMap]",N="[object ArrayBuffer]",_="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",$="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",j="[object Uint32Array]",U=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,H=RegExp(K.source),q=RegExp(W.source),J=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),re=/^\s+/,se=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ne=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,ue=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,ve="\ud800-\udfff",Pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",be="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="[']",Ie="["+ve+"]",ke="["+Te+"]",Ne="["+Pe+"]",_e="\\d+",Le="["+Se+"]",Oe="["+we+"]",Me="[^"+ve+Te+_e+Se+we+be+"]",De="\ud83c[\udffb-\udfff]",Re="[^"+ve+"]",$e="(?:\ud83c[\udde6-\uddff]){2}",Be="[\ud800-\udbff][\udc00-\udfff]",Fe="["+be+"]",je="\\u200d",Ue="(?:"+Oe+"|"+Me+")",ze="(?:"+Fe+"|"+Me+")",Ve="(?:['](?:d|ll|m|re|s|t|ve))?",Ke="(?:['](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Ne+"|"+De+")?",He="["+Ce+"]?",qe=He+We+"(?:"+je+"(?:"+[Re,$e,Be].join("|")+")"+He+We+")*",Je="(?:"+[Le,$e,Be].join("|")+")"+qe,Ge="(?:"+[Re+Ne+"?",Ne,$e,Be,Ie].join("|")+")",Xe=RegExp(Ae,"g"),Qe=RegExp(Ne,"g"),Ye=RegExp(De+"(?="+De+")|"+Ge+qe,"g"),Ze=RegExp([Fe+"?"+Oe+"+"+Ve+"(?="+[ke,Fe,"$"].join("|")+")",ze+"+"+Ke+"(?="+[ke,Fe+Ue,"$"].join("|")+")",Fe+"?"+Ue+"+"+Ve,Fe+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_e,Je].join("|"),"g"),et=RegExp("["+je+ve+Pe+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,it={};it[L]=it[O]=it[M]=it[D]=it[R]=it[$]=it[B]=it[F]=it[j]=!0,it[f]=it[m]=it[N]=it[y]=it[_]=it[g]=it[x]=it[E]=it[P]=it[S]=it[w]=it[C]=it[T]=it[A]=it[k]=!1;var nt={};nt[f]=nt[m]=nt[N]=nt[_]=nt[y]=nt[g]=nt[L]=nt[O]=nt[M]=nt[D]=nt[R]=nt[P]=nt[S]=nt[w]=nt[C]=nt[T]=nt[A]=nt[I]=nt[$]=nt[B]=nt[F]=nt[j]=!0,nt[x]=nt[E]=nt[k]=!1;var ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,lt="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ht="object"==typeof self&&self&&self.Object===Object&&self,pt=lt||ht||Function("return this")(),ut=exports&&!exports.nodeType&&exports,dt=ut&&module&&!module.nodeType&&module,ft=dt&&dt.exports===ut,mt=ft&&lt.process,yt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),gt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,Et=yt&&yt.isMap,vt=yt&&yt.isRegExp,Pt=yt&&yt.isSet,St=yt&&yt.isTypedArray;function wt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function bt(e,t,r,s){for(var i=-1,n=null==e?0:e.length;++i<n;){var o=e[i];t(s,o,r(o),e)}return s}function Ct(e,t){for(var r=-1,s=null==e?0:e.length;++r<s&&!1!==t(e[r],r,e););return e}function Tt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function At(e,t){for(var r=-1,s=null==e?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}function It(e,t){for(var r=-1,s=null==e?0:e.length,i=0,n=[];++r<s;){var o=e[r];t(o,r,e)&&(n[i++]=o)}return n}function kt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function Nt(e,t,r){for(var s=-1,i=null==e?0:e.length;++s<i;)if(r(t,e[s]))return!0;return!1}function _t(e,t){for(var r=-1,s=null==e?0:e.length,i=Array(s);++r<s;)i[r]=t(e[r],r,e);return i}function Lt(e,t){for(var r=-1,s=t.length,i=e.length;++r<s;)e[i+r]=t[r];return e}function Ot(e,t,r,s){var i=-1,n=null==e?0:e.length;for(s&&n&&(r=e[++i]);++i<n;)r=t(r,e[i],i,e);return r}function Mt(e,t,r,s){var i=null==e?0:e.length;for(s&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Dt(e,t){for(var r=-1,s=null==e?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var Rt=Vt("length");function $t(e,t,r){var s;return r(e,(function(e,r,i){if(t(e,r,i))return s=r,!1})),s}function Bt(e,t,r,s){for(var i=e.length,n=r+(s?1:-1);s?n--:++n<i;)if(t(e[n],n,e))return n;return-1}function Ft(e,t,r){return t==t?function(e,t,r){for(var s=r-1,i=e.length;++s<i;)if(e[s]===t)return s;return-1}(e,t,r):Bt(e,Ut,r)}function jt(e,t,r,s){for(var i=r-1,n=e.length;++i<n;)if(s(e[i],t))return i;return-1}function Ut(e){return e!=e}function zt(e,t){var r=null==e?0:e.length;return r?Ht(e,t)/r:p}function Vt(t){return function(r){return null==r?e:r[t]}}function Kt(t){return function(r){return null==t?e:t[r]}}function Wt(e,t,r,s,i){return i(e,(function(e,i,n){r=s?(s=!1,e):t(r,e,i,n)})),r}function Ht(t,r){for(var s,i=-1,n=t.length;++i<n;){var o=r(t[i]);o!==e&&(s=s===e?o:s+o)}return s}function qt(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}function Jt(e){return e?e.slice(0,pr(e)+1).replace(re,""):e}function Gt(e){return function(t){return e(t)}}function Xt(e,t){return _t(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Yt(e,t){for(var r=-1,s=e.length;++r<s&&Ft(t,e[r],0)>-1;);return r}function Zt(e,t){for(var r=e.length;r--&&Ft(t,e[r],0)>-1;);return r}var er=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),tr=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+ot[e]}function sr(e){return et.test(e)}function ir(e){var t=-1,r=Array(e.size);return e.forEach((function(e,s){r[++t]=[s,e]})),r}function nr(e,t){return function(r){return e(t(r))}}function or(e,t){for(var r=-1,i=e.length,n=0,o=[];++r<i;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[n++]=r)}return o}function ar(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function lr(e){return sr(e)?function(e){for(var t=Ye.lastIndex=0;Ye.test(e);)++t;return t}(e):Rt(e)}function hr(e){return sr(e)?function(e){return e.match(Ye)||[]}(e):function(e){return e.split("")}(e)}function pr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var ur=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),dr=function se(ve){var Pe,Se=(ve=null==ve?pt:dr.defaults(pt.Object(),ve,dr.pick(pt,rt))).Array,we=ve.Date,be=ve.Error,Ce=ve.Function,Te=ve.Math,Ae=ve.Object,Ie=ve.RegExp,ke=ve.String,Ne=ve.TypeError,_e=Se.prototype,Le=Ce.prototype,Oe=Ae.prototype,Me=ve["__core-js_shared__"],De=Le.toString,Re=Oe.hasOwnProperty,$e=0,Be=(Pe=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"",Fe=Oe.toString,je=De.call(Ae),Ue=pt._,ze=Ie("^"+De.call(Re).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=ft?ve.Buffer:e,Ke=ve.Symbol,We=ve.Uint8Array,He=Ve?Ve.allocUnsafe:e,qe=nr(Ae.getPrototypeOf,Ae),Je=Ae.create,Ge=Oe.propertyIsEnumerable,Ye=_e.splice,et=Ke?Ke.isConcatSpreadable:e,ot=Ke?Ke.iterator:e,lt=Ke?Ke.toStringTag:e,ht=function(){try{var e=un(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=ve.clearTimeout!==pt.clearTimeout&&ve.clearTimeout,dt=we&&we.now!==pt.Date.now&&we.now,mt=ve.setTimeout!==pt.setTimeout&&ve.setTimeout,yt=Te.ceil,Rt=Te.floor,Kt=Ae.getOwnPropertySymbols,fr=Ve?Ve.isBuffer:e,mr=ve.isFinite,yr=_e.join,gr=nr(Ae.keys,Ae),xr=Te.max,Er=Te.min,vr=we.now,Pr=ve.parseInt,Sr=Te.random,wr=_e.reverse,br=un(ve,"DataView"),Cr=un(ve,"Map"),Tr=un(ve,"Promise"),Ar=un(ve,"Set"),Ir=un(ve,"WeakMap"),kr=un(Ae,"create"),Nr=Ir&&new Ir,_r={},Lr=Bn(br),Or=Bn(Cr),Mr=Bn(Tr),Dr=Bn(Ar),Rr=Bn(Ir),$r=Ke?Ke.prototype:e,Br=$r?$r.valueOf:e,Fr=$r?$r.toString:e;function jr(e){if(ra(e)&&!Wo(e)&&!(e instanceof Kr)){if(e instanceof Vr)return e;if(Re.call(e,"__wrapped__"))return Fn(e)}return new Vr(e)}var Ur=function(){function t(){}return function(r){if(!ta(r))return{};if(Je)return Je(r);t.prototype=r;var s=new t;return t.prototype=e,s}}();function zr(){}function Vr(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=e}function Kr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Jr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Hr(e);this.size=t.size}function Xr(e,t){var r=Wo(e),s=!r&&Ko(e),i=!r&&!s&&Go(e),n=!r&&!s&&!i&&ha(e),o=r||s||i||n,a=o?qt(e.length,ke):[],c=a.length;for(var l in e)!t&&!Re.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||n&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||En(l,c))||a.push(l);return a}function Qr(t){var r=t.length;return r?t[Js(0,r-1)]:e}function Yr(e,t){return Dn(ki(e),as(t,0,e.length))}function Zr(e){return Dn(ki(e))}function es(t,r,s){(s!==e&&!Uo(t[r],s)||s===e&&!(r in t))&&ns(t,r,s)}function ts(t,r,s){var i=t[r];Re.call(t,r)&&Uo(i,s)&&(s!==e||r in t)||ns(t,r,s)}function rs(e,t){for(var r=e.length;r--;)if(Uo(e[r][0],t))return r;return-1}function ss(e,t,r,s){return us(e,(function(e,i,n){t(s,e,r(e),n)})),s}function is(e,t){return e&&Ni(t,La(t),e)}function ns(e,t,r){"__proto__"==t&&ht?ht(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function os(t,r){for(var s=-1,i=r.length,n=Se(i),o=null==t;++s<i;)n[s]=o?e:Aa(t,r[s]);return n}function as(t,r,s){return t==t&&(s!==e&&(t=t<=s?t:s),r!==e&&(t=t>=r?t:r)),t}function cs(t,r,s,i,n,o){var a,c=1&r,l=2&r,h=4&r;if(s&&(a=n?s(t,i,n,o):s(t)),a!==e)return a;if(!ta(t))return t;var p=Wo(t);if(p){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(t),!c)return ki(t,a)}else{var u=mn(t),d=u==E||u==v;if(Go(t))return wi(t,c);if(u==w||u==f||d&&!n){if(a=l||d?{}:gn(t),!c)return l?function(e,t){return Ni(e,fn(e),t)}(t,function(e,t){return e&&Ni(t,Oa(t),e)}(a,t)):function(e,t){return Ni(e,dn(e),t)}(t,is(a,t))}else{if(!nt[u])return n?t:{};a=function(e,t,r){var s,i=e.constructor;switch(t){case N:return bi(e);case y:case g:return new i(+e);case _:return function(e,t){var r=t?bi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case O:case M:case D:case R:case $:case B:case F:case j:return Ci(e,r);case P:return new i;case S:case A:return new i(e);case C:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new i;case I:return s=e,Br?Ae(Br.call(s)):{}}}(t,u,c)}}o||(o=new Gr);var m=o.get(t);if(m)return m;o.set(t,a),aa(t)?t.forEach((function(e){a.add(cs(e,r,s,e,t,o))})):sa(t)&&t.forEach((function(e,i){a.set(i,cs(e,r,s,i,t,o))}));var x=p?e:(h?l?nn:sn:l?Oa:La)(t);return Ct(x||t,(function(e,i){x&&(e=t[i=e]),ts(a,i,cs(e,r,s,i,t,o))})),a}function ls(t,r,s){var i=s.length;if(null==t)return!i;for(t=Ae(t);i--;){var n=s[i],o=r[n],a=t[n];if(a===e&&!(n in t)||!o(a))return!1}return!0}function hs(r,s,i){if("function"!=typeof r)throw new Ne(t);return _n((function(){r.apply(e,i)}),s)}function ps(e,t,r,s){var i=-1,n=kt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=_t(t,Gt(r))),s?(n=Nt,o=!1):t.length>=200&&(n=Qt,o=!1,t=new Jr(t));e:for(;++i<a;){var h=e[i],p=null==r?h:r(h);if(h=s||0!==h?h:0,o&&p==p){for(var u=l;u--;)if(t[u]===p)continue e;c.push(h)}else n(t,p,s)||c.push(h)}return c}jr.templateSettings={escape:J,evaluate:G,interpolate:X,variable:"",imports:{_:jr}},jr.prototype=zr.prototype,jr.prototype.constructor=jr,Vr.prototype=Ur(zr.prototype),Vr.prototype.constructor=Vr,Kr.prototype=Ur(zr.prototype),Kr.prototype.constructor=Kr,Wr.prototype.clear=function(){this.__data__=kr?kr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(t){var s=this.__data__;if(kr){var i=s[t];return i===r?e:i}return Re.call(s,t)?s[t]:e},Wr.prototype.has=function(t){var r=this.__data__;return kr?r[t]!==e:Re.call(r,t)},Wr.prototype.set=function(t,s){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=kr&&s===e?r:s,this},Hr.prototype.clear=function(){this.__data__=[],this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,r=rs(t,e);return!(r<0||(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,0))},Hr.prototype.get=function(t){var r=this.__data__,s=rs(r,t);return s<0?e:r[s][1]},Hr.prototype.has=function(e){return rs(this.__data__,e)>-1},Hr.prototype.set=function(e,t){var r=this.__data__,s=rs(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Cr||Hr),string:new Wr}},qr.prototype.delete=function(e){var t=hn(this,e).delete(e);return this.size-=t?1:0,t},qr.prototype.get=function(e){return hn(this,e).get(e)},qr.prototype.has=function(e){return hn(this,e).has(e)},qr.prototype.set=function(e,t){var r=hn(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this},Jr.prototype.add=Jr.prototype.push=function(e){return this.__data__.set(e,r),this},Jr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Hr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Hr){var s=r.__data__;if(!Cr||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(s)}return r.set(e,t),this.size=r.size,this};var us=Oi(vs),ds=Oi(Ps,!0);function fs(e,t){var r=!0;return us(e,(function(e,s,i){return r=!!t(e,s,i)})),r}function ms(t,r,s){for(var i=-1,n=t.length;++i<n;){var o=t[i],a=r(o);if(null!=a&&(c===e?a==a&&!la(a):s(a,c)))var c=a,l=o}return l}function ys(e,t){var r=[];return us(e,(function(e,s,i){t(e,s,i)&&r.push(e)})),r}function gs(e,t,r,s,i){var n=-1,o=e.length;for(r||(r=xn),i||(i=[]);++n<o;){var a=e[n];t>0&&r(a)?t>1?gs(a,t-1,r,s,i):Lt(i,a):s||(i[i.length]=a)}return i}var xs=Mi(),Es=Mi(!0);function vs(e,t){return e&&xs(e,t,La)}function Ps(e,t){return e&&Es(e,t,La)}function Ss(e,t){return It(t,(function(t){return Yo(e[t])}))}function ws(t,r){for(var s=0,i=(r=Ei(r,t)).length;null!=t&&s<i;)t=t[$n(r[s++])];return s&&s==i?t:e}function bs(e,t,r){var s=t(e);return Wo(e)?s:Lt(s,r(e))}function Cs(t){return null==t?t===e?"[object Undefined]":"[object Null]":lt&&lt in Ae(t)?function(t){var r=Re.call(t,lt),s=t[lt];try{t[lt]=e;var i=!0}catch(o){}var n=Fe.call(t);return i&&(r?t[lt]=s:delete t[lt]),n}(t):function(e){return Fe.call(e)}(t)}function Ts(e,t){return e>t}function As(e,t){return null!=e&&Re.call(e,t)}function Is(e,t){return null!=e&&t in Ae(e)}function ks(t,r,s){for(var i=s?Nt:kt,n=t[0].length,o=t.length,a=o,c=Se(o),l=1/0,h=[];a--;){var p=t[a];a&&r&&(p=_t(p,Gt(r))),l=Er(p.length,l),c[a]=!s&&(r||n>=120&&p.length>=120)?new Jr(a&&p):e}p=t[0];var u=-1,d=c[0];e:for(;++u<n&&h.length<l;){var f=p[u],m=r?r(f):f;if(f=s||0!==f?f:0,!(d?Qt(d,m):i(h,m,s))){for(a=o;--a;){var y=c[a];if(!(y?Qt(y,m):i(t[a],m,s)))continue e}d&&d.push(m),h.push(f)}}return h}function Ns(t,r,s){var i=null==(t=In(t,r=Ei(r,t)))?t:t[$n(Xn(r))];return null==i?e:wt(i,t,s)}function _s(e){return ra(e)&&Cs(e)==f}function Ls(t,r,s,i,n){return t===r||(null==t||null==r||!ra(t)&&!ra(r)?t!=t&&r!=r:function(t,r,s,i,n,o){var a=Wo(t),c=Wo(r),l=a?m:mn(t),h=c?m:mn(r),p=(l=l==f?w:l)==w,u=(h=h==f?w:h)==w,d=l==h;if(d&&Go(t)){if(!Go(r))return!1;a=!0,p=!1}if(d&&!p)return o||(o=new Gr),a||ha(t)?tn(t,r,s,i,n,o):function(e,t,r,s,i,n,o){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!n(new We(e),new We(t)));case y:case g:case S:return Uo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case C:case A:return e==t+"";case P:var a=ir;case T:var c=1&s;if(a||(a=ar),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;s|=2,o.set(e,t);var h=tn(a(e),a(t),s,i,n,o);return o.delete(e),h;case I:if(Br)return Br.call(e)==Br.call(t)}return!1}(t,r,l,s,i,n,o);if(!(1&s)){var E=p&&Re.call(t,"__wrapped__"),v=u&&Re.call(r,"__wrapped__");if(E||v){var b=E?t.value():t,k=v?r.value():r;return o||(o=new Gr),n(b,k,s,i,o)}}return!!d&&(o||(o=new Gr),function(t,r,s,i,n,o){var a=1&s,c=sn(t),l=c.length,h=sn(r),p=h.length;if(l!=p&&!a)return!1;for(var u=l;u--;){var d=c[u];if(!(a?d in r:Re.call(r,d)))return!1}var f=o.get(t),m=o.get(r);if(f&&m)return f==r&&m==t;var y=!0;o.set(t,r),o.set(r,t);for(var g=a;++u<l;){var x=t[d=c[u]],E=r[d];if(i)var v=a?i(E,x,d,r,t,o):i(x,E,d,t,r,o);if(!(v===e?x===E||n(x,E,s,i,o):v)){y=!1;break}g||(g="constructor"==d)}if(y&&!g){var P=t.constructor,S=r.constructor;P==S||!("constructor"in t)||!("constructor"in r)||"function"==typeof P&&P instanceof P&&"function"==typeof S&&S instanceof S||(y=!1)}return o.delete(t),o.delete(r),y}(t,r,s,i,n,o))}(t,r,s,i,Ls,n))}function Os(t,r,s,i){var n=s.length,o=n,a=!i;if(null==t)return!o;for(t=Ae(t);n--;){var c=s[n];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++n<o;){var l=(c=s[n])[0],h=t[l],p=c[1];if(a&&c[2]){if(h===e&&!(l in t))return!1}else{var u=new Gr;if(i)var d=i(h,p,l,t,r,u);if(!(d===e?Ls(p,h,3,i,u):d))return!1}}return!0}function Ms(e){return!(!ta(e)||(t=e,Be&&Be in t))&&(Yo(e)?ze:fe).test(Bn(e));var t}function Ds(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Wo(e)?Us(e[0],e[1]):js(e):dc(e)}function Rs(e){if(!bn(e))return gr(e);var t=[];for(var r in Ae(e))Re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function $s(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var r in Ae(e))t.push(r);return t}(e);var t=bn(e),r=[];for(var s in e)("constructor"!=s||!t&&Re.call(e,s))&&r.push(s);return r}function Bs(e,t){return e<t}function Fs(e,t){var r=-1,s=qo(e)?Se(e.length):[];return us(e,(function(e,i,n){s[++r]=t(e,i,n)})),s}function js(e){var t=pn(e);return 1==t.length&&t[0][2]?Tn(t[0][0],t[0][1]):function(r){return r===e||Os(r,e,t)}}function Us(t,r){return Pn(t)&&Cn(r)?Tn($n(t),r):function(s){var i=Aa(s,t);return i===e&&i===r?Ia(s,t):Ls(r,i,3)}}function zs(t,r,s,i,n){t!==r&&xs(r,(function(o,a){if(n||(n=new Gr),ta(o))!function(t,r,s,i,n,o,a){var c=kn(t,s),l=kn(r,s),h=a.get(l);if(h)es(t,s,h);else{var p=o?o(c,l,s+"",t,r,a):e,u=p===e;if(u){var d=Wo(l),f=!d&&Go(l),m=!d&&!f&&ha(l);p=l,d||f||m?Wo(c)?p=c:Jo(c)?p=ki(c):f?(u=!1,p=wi(l,!0)):m?(u=!1,p=Ci(l,!0)):p=[]:na(l)||Ko(l)?(p=c,Ko(c)?p=xa(c):ta(c)&&!Yo(c)||(p=gn(l))):u=!1}u&&(a.set(l,p),n(p,l,i,o,a),a.delete(l)),es(t,s,p)}}(t,r,a,s,zs,i,n);else{var c=i?i(kn(t,a),o,a+"",t,r,n):e;c===e&&(c=o),es(t,a,c)}}),Oa)}function Vs(t,r){var s=t.length;if(s)return En(r+=r<0?s:0,s)?t[r]:e}function Ks(e,t,r){t=t.length?_t(t,(function(e){return Wo(e)?function(t){return ws(t,1===e.length?e[0]:e)}:e})):[ic];var s=-1;t=_t(t,Gt(ln()));var i=Fs(e,(function(e,r,i){var n=_t(t,(function(t){return t(e)}));return{criteria:n,index:++s,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){for(var s=-1,i=e.criteria,n=t.criteria,o=i.length,a=r.length;++s<o;){var c=Ti(i[s],n[s]);if(c)return s>=a?c:c*("desc"==r[s]?-1:1)}return e.index-t.index}(e,t,r)}))}function Ws(e,t,r){for(var s=-1,i=t.length,n={};++s<i;){var o=t[s],a=ws(e,o);r(a,o)&&Zs(n,Ei(o,e),a)}return n}function Hs(e,t,r,s){var i=s?jt:Ft,n=-1,o=t.length,a=e;for(e===t&&(t=ki(t)),r&&(a=_t(e,Gt(r)));++n<o;)for(var c=0,l=t[n],h=r?r(l):l;(c=i(a,h,c,s))>-1;)a!==e&&Ye.call(a,c,1),Ye.call(e,c,1);return e}function qs(e,t){for(var r=e?t.length:0,s=r-1;r--;){var i=t[r];if(r==s||i!==n){var n=i;En(i)?Ye.call(e,i,1):pi(e,i)}}return e}function Js(e,t){return e+Rt(Sr()*(t-e+1))}function Gs(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=Rt(t/2))&&(e+=e)}while(t);return r}function Xs(e,t){return Ln(An(e,t,ic),e+"")}function Qs(e){return Qr(Ua(e))}function Ys(e,t){var r=Ua(e);return Dn(r,as(t,0,r.length))}function Zs(t,r,s,i){if(!ta(t))return t;for(var n=-1,o=(r=Ei(r,t)).length,a=o-1,c=t;null!=c&&++n<o;){var l=$n(r[n]),h=s;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(n!=a){var p=c[l];(h=i?i(p,l,c):e)===e&&(h=ta(p)?p:En(r[n+1])?[]:{})}ts(c,l,h),c=c[l]}return t}var ei=Nr?function(e,t){return Nr.set(e,t),e}:ic,ti=ht?function(e,t){return ht(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ri(e){return Dn(Ua(e))}function si(e,t,r){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var n=Se(i);++s<i;)n[s]=e[s+t];return n}function ii(e,t){var r;return us(e,(function(e,s,i){return!(r=t(e,s,i))})),!!r}function ni(e,t,r){var s=0,i=null==e?s:e.length;if("number"==typeof t&&t==t&&i<=0x7fffffff){for(;s<i;){var n=s+i>>>1,o=e[n];null!==o&&!la(o)&&(r?o<=t:o<t)?s=n+1:i=n}return i}return oi(e,t,ic,r)}function oi(t,r,s,i){var n=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(r=s(r))!=r,c=null===r,l=la(r),h=r===e;n<o;){var p=Rt((n+o)/2),u=s(t[p]),d=u!==e,f=null===u,m=u==u,y=la(u);if(a)var g=i||m;else g=h?m&&(i||d):c?m&&d&&(i||!f):l?m&&d&&!f&&(i||!y):!f&&!y&&(i?u<=r:u<r);g?n=p+1:o=p}return Er(o,0xfffffffe)}function ai(e,t){for(var r=-1,s=e.length,i=0,n=[];++r<s;){var o=e[r],a=t?t(o):o;if(!r||!Uo(a,c)){var c=a;n[i++]=0===o?0:o}}return n}function ci(e){return"number"==typeof e?e:la(e)?p:+e}function li(e){if("string"==typeof e)return e;if(Wo(e))return _t(e,li)+"";if(la(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,r){var s=-1,i=kt,n=e.length,o=!0,a=[],c=a;if(r)o=!1,i=Nt;else if(n>=200){var l=t?null:Gi(e);if(l)return ar(l);o=!1,i=Qt,c=new Jr}else c=t?[]:a;e:for(;++s<n;){var h=e[s],p=t?t(h):h;if(h=r||0!==h?h:0,o&&p==p){for(var u=c.length;u--;)if(c[u]===p)continue e;t&&c.push(p),a.push(h)}else i(c,p,r)||(c!==a&&c.push(p),a.push(h))}return a}function pi(e,t){return null==(e=In(e,t=Ei(t,e)))||delete e[$n(Xn(t))]}function ui(e,t,r,s){return Zs(e,t,r(ws(e,t)),s)}function di(e,t,r,s){for(var i=e.length,n=s?i:-1;(s?n--:++n<i)&&t(e[n],n,e););return r?si(e,s?0:n,s?n+1:i):si(e,s?n+1:0,s?i:n)}function fi(e,t){var r=e;return r instanceof Kr&&(r=r.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),r)}function mi(e,t,r){var s=e.length;if(s<2)return s?hi(e[0]):[];for(var i=-1,n=Se(s);++i<s;)for(var o=e[i],a=-1;++a<s;)a!=i&&(n[i]=ps(n[i]||o,e[a],t,r));return hi(gs(n,1),t,r)}function yi(t,r,s){for(var i=-1,n=t.length,o=r.length,a={};++i<n;){var c=i<o?r[i]:e;s(a,t[i],c)}return a}function gi(e){return Jo(e)?e:[]}function xi(e){return"function"==typeof e?e:ic}function Ei(e,t){return Wo(e)?e:Pn(e,t)?[e]:Rn(Ea(e))}var vi=Xs;function Pi(t,r,s){var i=t.length;return s=s===e?i:s,!r&&s>=i?t:si(t,r,s)}var Si=ut||function(e){return pt.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var r=e.length,s=He?He(r):new e.constructor(r);return e.copy(s),s}function bi(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ci(e,t){var r=t?bi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ti(t,r){if(t!==r){var s=t!==e,i=null===t,n=t==t,o=la(t),a=r!==e,c=null===r,l=r==r,h=la(r);if(!c&&!h&&!o&&t>r||o&&a&&l&&!c&&!h||i&&a&&l||!s&&l||!n)return 1;if(!i&&!o&&!h&&t<r||h&&s&&n&&!i&&!o||c&&s&&n||!a&&n||!l)return-1}return 0}function Ai(e,t,r,s){for(var i=-1,n=e.length,o=r.length,a=-1,c=t.length,l=xr(n-o,0),h=Se(c+l),p=!s;++a<c;)h[a]=t[a];for(;++i<o;)(p||i<n)&&(h[r[i]]=e[i]);for(;l--;)h[a++]=e[i++];return h}function Ii(e,t,r,s){for(var i=-1,n=e.length,o=-1,a=r.length,c=-1,l=t.length,h=xr(n-a,0),p=Se(h+l),u=!s;++i<h;)p[i]=e[i];for(var d=i;++c<l;)p[d+c]=t[c];for(;++o<a;)(u||i<n)&&(p[d+r[o]]=e[i++]);return p}function ki(e,t){var r=-1,s=e.length;for(t||(t=Se(s));++r<s;)t[r]=e[r];return t}function Ni(t,r,s,i){var n=!s;s||(s={});for(var o=-1,a=r.length;++o<a;){var c=r[o],l=i?i(s[c],t[c],c,s,t):e;l===e&&(l=t[c]),n?ns(s,c,l):ts(s,c,l)}return s}function _i(e,t){return function(r,s){var i=Wo(r)?bt:ss,n=t?t():{};return i(r,e,ln(s,2),n)}}function Li(t){return Xs((function(r,s){var i=-1,n=s.length,o=n>1?s[n-1]:e,a=n>2?s[2]:e;for(o=t.length>3&&"function"==typeof o?(n--,o):e,a&&vn(s[0],s[1],a)&&(o=n<3?e:o,n=1),r=Ae(r);++i<n;){var c=s[i];c&&t(r,c,i,o)}return r}))}function Oi(e,t){return function(r,s){if(null==r)return r;if(!qo(r))return e(r,s);for(var i=r.length,n=t?i:-1,o=Ae(r);(t?n--:++n<i)&&!1!==s(o[n],n,o););return r}}function Mi(e){return function(t,r,s){for(var i=-1,n=Ae(t),o=s(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===r(n[c],c,n))break}return t}}function Di(t){return function(r){var s=sr(r=Ea(r))?hr(r):e,i=s?s[0]:r.charAt(0),n=s?Pi(s,1).join(""):r.slice(1);return i[t]()+n}}function Ri(e){return function(t){return Ot(Ya(Ka(t).replace(Xe,"")),e,"")}}function $i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ur(e.prototype),s=e.apply(r,t);return ta(s)?s:r}}function Bi(t){return function(r,s,i){var n=Ae(r);if(!qo(r)){var o=ln(s,3);r=La(r),s=function(e){return o(n[e],e,n)}}var a=t(r,s,i);return a>-1?n[o?r[a]:a]:e}}function Fi(r){return rn((function(s){var i=s.length,n=i,o=Vr.prototype.thru;for(r&&s.reverse();n--;){var a=s[n];if("function"!=typeof a)throw new Ne(t);if(o&&!c&&"wrapper"==an(a))var c=new Vr([],!0)}for(n=c?n:i;++n<i;){var l=an(a=s[n]),h="wrapper"==l?on(a):e;c=h&&Sn(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?c[an(h[0])].apply(c,h[3]):1==a.length&&Sn(a)?c[l]():c.thru(a)}return function(){var e=arguments,t=e[0];if(c&&1==e.length&&Wo(t))return c.plant(t).value();for(var r=0,n=i?s[r].apply(this,e):t;++r<i;)n=s[r].call(this,n);return n}}))}function ji(t,r,s,i,n,o,c,l,h,p){var u=r&a,d=1&r,f=2&r,m=24&r,y=512&r,g=f?e:$i(t);return function a(){for(var x=arguments.length,E=Se(x),v=x;v--;)E[v]=arguments[v];if(m)var P=cn(a),S=function(e,t){for(var r=e.length,s=0;r--;)e[r]===t&&++s;return s}(E,P);if(i&&(E=Ai(E,i,n,m)),o&&(E=Ii(E,o,c,m)),x-=S,m&&x<p){var w=or(E,P);return qi(t,r,ji,a.placeholder,s,E,w,l,h,p-x)}var b=d?s:this,C=f?b[t]:t;return x=E.length,l?E=function(t,r){for(var s=t.length,i=Er(r.length,s),n=ki(t);i--;){var o=r[i];t[i]=En(o,s)?n[o]:e}return t}(E,l):y&&x>1&&E.reverse(),u&&h<x&&(E.length=h),this&&this!==pt&&this instanceof a&&(C=g||$i(C)),C.apply(b,E)}}function Ui(e,t){return function(r,s){return function(e,t,r,s){return vs(e,(function(e,i,n){t(s,r(e),i,n)})),s}(r,e,t(s),{})}}function zi(t,r){return function(s,i){var n;if(s===e&&i===e)return r;if(s!==e&&(n=s),i!==e){if(n===e)return i;"string"==typeof s||"string"==typeof i?(s=li(s),i=li(i)):(s=ci(s),i=ci(i)),n=t(s,i)}return n}}function Vi(e){return rn((function(t){return t=_t(t,Gt(ln())),Xs((function(r){var s=this;return e(t,(function(e){return wt(e,s,r)}))}))}))}function Ki(t,r){var s=(r=r===e?" ":li(r)).length;if(s<2)return s?Gs(r,t):r;var i=Gs(r,yt(t/lr(r)));return sr(r)?Pi(hr(i),0,t).join(""):i.slice(0,t)}function Wi(t){return function(r,s,i){return i&&"number"!=typeof i&&vn(r,s,i)&&(s=i=e),r=fa(r),s===e?(s=r,r=0):s=fa(s),function(e,t,r,s){for(var i=-1,n=xr(yt((t-e)/(r||1)),0),o=Se(n);n--;)o[s?n:++i]=e,e+=r;return o}(r,s,i=i===e?r<s?1:-1:fa(i),t)}}function Hi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ga(t),r=ga(r)),e(t,r)}}function qi(t,r,s,i,a,c,l,h,p,u){var d=8&r;r|=d?n:o,4&(r&=~(d?o:n))||(r&=-4);var f=[t,r,a,d?c:e,d?l:e,d?e:c,d?e:l,h,p,u],m=s.apply(e,f);return Sn(t)&&Nn(m,f),m.placeholder=i,On(m,t,r)}function Ji(e){var t=Te[e];return function(e,r){if(e=ga(e),(r=null==r?0:Er(ma(r),292))&&mr(e)){var s=(Ea(e)+"e").split("e");return+((s=(Ea(t(s[0]+"e"+(+s[1]+r)))+"e").split("e"))[0]+"e"+(+s[1]-r))}return t(e)}}var Gi=Ar&&1/ar(new Ar([,-0]))[1]==l?function(e){return new Ar(e)}:lc;function Xi(e){return function(t){var r=mn(t);return r==P?ir(t):r==T?cr(t):function(e,t){return _t(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(r,l,h,p,u,d,f,m){var y=2&l;if(!y&&"function"!=typeof r)throw new Ne(t);var g=p?p.length:0;if(g||(l&=-97,p=u=e),f=f===e?f:xr(ma(f),0),m=m===e?m:ma(m),g-=u?u.length:0,l&o){var x=p,E=u;p=u=e}var v=y?e:on(r),P=[r,l,h,p,u,x,E,d,f,m];if(v&&function(e,t){var r=e[1],i=t[1],n=r|i,o=n<131,l=i==a&&8==r||i==a&&r==c&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==r;if(!o&&!l)return e;1&i&&(e[2]=t[2],n|=1&r?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?Ai(p,h,t[4]):h,e[4]=p?or(e[3],s):t[4]}(h=t[5])&&(p=e[5],e[5]=p?Ii(p,h,t[6]):h,e[6]=p?or(e[5],s):t[6]),(h=t[7])&&(e[7]=h),i&a&&(e[8]=null==e[8]?t[8]:Er(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=n}(P,v),r=P[0],l=P[1],h=P[2],p=P[3],u=P[4],!(m=P[9]=P[9]===e?y?0:r.length:xr(P[9]-g,0))&&24&l&&(l&=-25),l&&1!=l)S=8==l||l==i?function(t,r,s){var i=$i(t);return function n(){for(var o=arguments.length,a=Se(o),c=o,l=cn(n);c--;)a[c]=arguments[c];var h=o<3&&a[0]!==l&&a[o-1]!==l?[]:or(a,l);return(o-=h.length)<s?qi(t,r,ji,n.placeholder,e,a,h,e,e,s-o):wt(this&&this!==pt&&this instanceof n?i:t,this,a)}}(r,l,m):l!=n&&33!=l||u.length?ji.apply(e,P):function(e,t,r,s){var i=1&t,n=$i(e);return function t(){for(var o=-1,a=arguments.length,c=-1,l=s.length,h=Se(l+a),p=this&&this!==pt&&this instanceof t?n:e;++c<l;)h[c]=s[c];for(;a--;)h[c++]=arguments[++o];return wt(p,i?r:this,h)}}(r,l,h,p);else var S=function(e,t,r){var s=1&t,i=$i(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(s?r:this,arguments)}}(r,l,h);return On((v?ei:Nn)(S,P),r,l)}function Yi(t,r,s,i){return t===e||Uo(t,Oe[s])&&!Re.call(i,s)?r:t}function Zi(t,r,s,i,n,o){return ta(t)&&ta(r)&&(o.set(r,t),zs(t,r,e,Zi,o),o.delete(r)),t}function en(t){return na(t)?e:t}function tn(t,r,s,i,n,o){var a=1&s,c=t.length,l=r.length;if(c!=l&&!(a&&l>c))return!1;var h=o.get(t),p=o.get(r);if(h&&p)return h==r&&p==t;var u=-1,d=!0,f=2&s?new Jr:e;for(o.set(t,r),o.set(r,t);++u<c;){var m=t[u],y=r[u];if(i)var g=a?i(y,m,u,r,t,o):i(m,y,u,t,r,o);if(g!==e){if(g)continue;d=!1;break}if(f){if(!Dt(r,(function(e,t){if(!Qt(f,t)&&(m===e||n(m,e,s,i,o)))return f.push(t)}))){d=!1;break}}else if(m!==y&&!n(m,y,s,i,o)){d=!1;break}}return o.delete(t),o.delete(r),d}function rn(t){return Ln(An(t,e,Wn),t+"")}function sn(e){return bs(e,La,dn)}function nn(e){return bs(e,Oa,fn)}var on=Nr?function(e){return Nr.get(e)}:lc;function an(e){for(var t=e.name+"",r=_r[t],s=Re.call(_r,t)?r.length:0;s--;){var i=r[s],n=i.func;if(null==n||n==e)return i.name}return t}function cn(e){return(Re.call(jr,"placeholder")?jr:e).placeholder}function ln(){var e=jr.iteratee||nc;return e=e===nc?Ds:e,arguments.length?e(arguments[0],arguments[1]):e}function hn(e,t){var r,s,i=e.__data__;return("string"==(s=typeof(r=t))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function pn(e){for(var t=La(e),r=t.length;r--;){var s=t[r],i=e[s];t[r]=[s,i,Cn(i)]}return t}function un(t,r){var s=function(t,r){return null==t?e:t[r]}(t,r);return Ms(s)?s:e}var dn=Kt?function(e){return null==e?[]:(e=Ae(e),It(Kt(e),(function(t){return Ge.call(e,t)})))}:yc,fn=Kt?function(e){for(var t=[];e;)Lt(t,dn(e)),e=qe(e);return t}:yc,mn=Cs;function yn(e,t,r){for(var s=-1,i=(t=Ei(t,e)).length,n=!1;++s<i;){var o=$n(t[s]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}return n||++s!=i?n:!!(i=null==e?0:e.length)&&ea(i)&&En(o,i)&&(Wo(e)||Ko(e))}function gn(e){return"function"!=typeof e.constructor||bn(e)?{}:Ur(qe(e))}function xn(e){return Wo(e)||Ko(e)||!!(et&&e&&e[et])}function En(e,t){var r=typeof e;return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&ye.test(e))&&e>-1&&e%1==0&&e<t}function vn(e,t,r){if(!ta(r))return!1;var s=typeof t;return!!("number"==s?qo(r)&&En(t,r.length):"string"==s&&t in r)&&Uo(r[t],e)}function Pn(e,t){if(Wo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!la(e))||Y.test(e)||!Q.test(e)||null!=t&&e in Ae(t)}function Sn(e){var t=an(e),r=jr[t];if("function"!=typeof r||!(t in Kr.prototype))return!1;if(e===r)return!0;var s=on(r);return!!s&&e===s[0]}(br&&mn(new br(new ArrayBuffer(1)))!=_||Cr&&mn(new Cr)!=P||Tr&&mn(Tr.resolve())!=b||Ar&&mn(new Ar)!=T||Ir&&mn(new Ir)!=k)&&(mn=function(t){var r=Cs(t),s=r==w?t.constructor:e,i=s?Bn(s):"";if(i)switch(i){case Lr:return _;case Or:return P;case Mr:return b;case Dr:return T;case Rr:return k}return r});var wn=Me?Yo:gc;function bn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Cn(e){return e==e&&!ta(e)}function Tn(t,r){return function(s){return null!=s&&s[t]===r&&(r!==e||t in Ae(s))}}function An(t,r,s){return r=xr(r===e?t.length-1:r,0),function(){for(var e=arguments,i=-1,n=xr(e.length-r,0),o=Se(n);++i<n;)o[i]=e[r+i];i=-1;for(var a=Se(r+1);++i<r;)a[i]=e[i];return a[r]=s(o),wt(t,this,a)}}function In(e,t){return t.length<2?e:ws(e,si(t,0,-1))}function kn(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Nn=Mn(ei),_n=mt||function(e,t){return pt.setTimeout(e,t)},Ln=Mn(ti);function On(e,t,r){var s=t+"";return Ln(e,function(e,t){var r=t.length;if(!r)return e;var s=r-1;return t[s]=(r>1?"& ":"")+t[s],t=t.join(r>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(s,function(e,t){return Ct(d,(function(r){var s="_."+r[0];t&r[1]&&!kt(e,s)&&e.push(s)})),e.sort()}(function(e){var t=e.match(ne);return t?t[1].split(oe):[]}(s),r)))}function Mn(t){var r=0,s=0;return function(){var i=vr(),n=16-(i-s);if(s=i,n>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(e,arguments)}}function Dn(t,r){var s=-1,i=t.length,n=i-1;for(r=r===e?i:r;++s<r;){var o=Js(s,n),a=t[o];t[o]=t[s],t[s]=a}return t.length=r,t}var Rn=function(e){var t=Do(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,(function(e,r,s,i){t.push(s?i.replace(le,"$1"):r||e)})),t}));function $n(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bn(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fn(e){if(e instanceof Kr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jn=Xs((function(e,t){return Jo(e)?ps(e,gs(t,1,Jo,!0)):[]})),Un=Xs((function(t,r){var s=Xn(r);return Jo(s)&&(s=e),Jo(t)?ps(t,gs(r,1,Jo,!0),ln(s,2)):[]})),zn=Xs((function(t,r){var s=Xn(r);return Jo(s)&&(s=e),Jo(t)?ps(t,gs(r,1,Jo,!0),e,s):[]}));function Vn(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var i=null==r?0:ma(r);return i<0&&(i=xr(s+i,0)),Bt(e,ln(t,3),i)}function Kn(t,r,s){var i=null==t?0:t.length;if(!i)return-1;var n=i-1;return s!==e&&(n=ma(s),n=s<0?xr(i+n,0):Er(n,i-1)),Bt(t,ln(r,3),n,!0)}function Wn(e){return null!=e&&e.length?gs(e,1):[]}function Hn(t){return t&&t.length?t[0]:e}var qn=Xs((function(e){var t=_t(e,gi);return t.length&&t[0]===e[0]?ks(t):[]})),Jn=Xs((function(t){var r=Xn(t),s=_t(t,gi);return r===Xn(s)?r=e:s.pop(),s.length&&s[0]===t[0]?ks(s,ln(r,2)):[]})),Gn=Xs((function(t){var r=Xn(t),s=_t(t,gi);return(r="function"==typeof r?r:e)&&s.pop(),s.length&&s[0]===t[0]?ks(s,e,r):[]}));function Xn(t){var r=null==t?0:t.length;return r?t[r-1]:e}var Qn=Xs(Yn);function Yn(e,t){return e&&e.length&&t&&t.length?Hs(e,t):e}var Zn=rn((function(e,t){var r=null==e?0:e.length,s=os(e,t);return qs(e,_t(t,(function(e){return En(e,r)?+e:e})).sort(Ti)),s}));function eo(e){return null==e?e:wr.call(e)}var to=Xs((function(e){return hi(gs(e,1,Jo,!0))})),ro=Xs((function(t){var r=Xn(t);return Jo(r)&&(r=e),hi(gs(t,1,Jo,!0),ln(r,2))})),so=Xs((function(t){var r=Xn(t);return r="function"==typeof r?r:e,hi(gs(t,1,Jo,!0),e,r)}));function io(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Jo(e))return t=xr(e.length,t),!0})),qt(t,(function(t){return _t(e,Vt(t))}))}function no(t,r){if(!t||!t.length)return[];var s=io(t);return null==r?s:_t(s,(function(t){return wt(r,e,t)}))}var oo=Xs((function(e,t){return Jo(e)?ps(e,t):[]})),ao=Xs((function(e){return mi(It(e,Jo))})),co=Xs((function(t){var r=Xn(t);return Jo(r)&&(r=e),mi(It(t,Jo),ln(r,2))})),lo=Xs((function(t){var r=Xn(t);return r="function"==typeof r?r:e,mi(It(t,Jo),e,r)})),ho=Xs(io),po=Xs((function(t){var r=t.length,s=r>1?t[r-1]:e;return s="function"==typeof s?(t.pop(),s):e,no(t,s)}));function uo(e){var t=jr(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var mo=rn((function(t){var r=t.length,s=r?t[0]:0,i=this.__wrapped__,n=function(e){return os(e,t)};return!(r>1||this.__actions__.length)&&i instanceof Kr&&En(s)?((i=i.slice(s,+s+(r?1:0))).__actions__.push({func:fo,args:[n],thisArg:e}),new Vr(i,this.__chain__).thru((function(t){return r&&!t.length&&t.push(e),t}))):this.thru(n)})),yo=_i((function(e,t,r){Re.call(e,r)?++e[r]:ns(e,r,1)})),go=Bi(Vn),xo=Bi(Kn);function Eo(e,t){return(Wo(e)?Ct:us)(e,ln(t,3))}function vo(e,t){return(Wo(e)?Tt:ds)(e,ln(t,3))}var Po=_i((function(e,t,r){Re.call(e,r)?e[r].push(t):ns(e,r,[t])})),So=Xs((function(e,t,r){var s=-1,i="function"==typeof t,n=qo(e)?Se(e.length):[];return us(e,(function(e){n[++s]=i?wt(t,e,r):Ns(e,t,r)})),n})),wo=_i((function(e,t,r){ns(e,r,t)}));function bo(e,t){return(Wo(e)?_t:Fs)(e,ln(t,3))}var Co=_i((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),To=Xs((function(e,t){if(null==e)return[];var r=t.length;return r>1&&vn(e,t[0],t[1])?t=[]:r>2&&vn(t[0],t[1],t[2])&&(t=[t[0]]),Ks(e,gs(t,1),[])})),Ao=dt||function(){return pt.Date.now()};function Io(t,r,s){return r=s?e:r,r=t&&null==r?t.length:r,Qi(t,a,e,e,e,e,r)}function ko(r,s){var i;if("function"!=typeof s)throw new Ne(t);return r=ma(r),function(){return--r>0&&(i=s.apply(this,arguments)),r<=1&&(s=e),i}}var No=Xs((function(e,t,r){var s=1;if(r.length){var i=or(r,cn(No));s|=n}return Qi(e,s,t,r,i)})),_o=Xs((function(e,t,r){var s=3;if(r.length){var i=or(r,cn(_o));s|=n}return Qi(t,s,e,r,i)}));function Lo(r,s,i){var n,o,a,c,l,h,p=0,u=!1,d=!1,f=!0;if("function"!=typeof r)throw new Ne(t);function m(t){var s=n,i=o;return n=o=e,p=t,c=r.apply(i,s)}function y(t){var r=t-h;return h===e||r>=s||r<0||d&&t-p>=a}function g(){var e=Ao();if(y(e))return x(e);l=_n(g,function(e){var t=s-(e-h);return d?Er(t,a-(e-p)):t}(e))}function x(t){return l=e,f&&n?m(t):(n=o=e,c)}function E(){var t=Ao(),r=y(t);if(n=arguments,o=this,h=t,r){if(l===e)return function(e){return p=e,l=_n(g,s),u?m(e):c}(h);if(d)return Si(l),l=_n(g,s),m(h)}return l===e&&(l=_n(g,s)),c}return s=ga(s)||0,ta(i)&&(u=!!i.leading,a=(d="maxWait"in i)?xr(ga(i.maxWait)||0,s):a,f="trailing"in i?!!i.trailing:f),E.cancel=function(){l!==e&&Si(l),p=0,n=h=o=l=e},E.flush=function(){return l===e?c:x(Ao())},E}var Oo=Xs((function(e,t){return hs(e,1,t)})),Mo=Xs((function(e,t,r){return hs(e,ga(t)||0,r)}));function Do(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new Ne(t);var s=function(){var t=arguments,i=r?r.apply(this,t):t[0],n=s.cache;if(n.has(i))return n.get(i);var o=e.apply(this,t);return s.cache=n.set(i,o)||n,o};return s.cache=new(Do.Cache||qr),s}function Ro(e){if("function"!=typeof e)throw new Ne(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Do.Cache=qr;var $o=vi((function(e,t){var r=(t=1==t.length&&Wo(t[0])?_t(t[0],Gt(ln())):_t(gs(t,1),Gt(ln()))).length;return Xs((function(s){for(var i=-1,n=Er(s.length,r);++i<n;)s[i]=t[i].call(this,s[i]);return wt(e,this,s)}))})),Bo=Xs((function(t,r){var s=or(r,cn(Bo));return Qi(t,n,e,r,s)})),Fo=Xs((function(t,r){var s=or(r,cn(Fo));return Qi(t,o,e,r,s)})),jo=rn((function(t,r){return Qi(t,c,e,e,e,r)}));function Uo(e,t){return e===t||e!=e&&t!=t}var zo=Hi(Ts),Vo=Hi((function(e,t){return e>=t})),Ko=_s(function(){return arguments}())?_s:function(e){return ra(e)&&Re.call(e,"callee")&&!Ge.call(e,"callee")},Wo=Se.isArray,Ho=gt?Gt(gt):function(e){return ra(e)&&Cs(e)==N};function qo(e){return null!=e&&ea(e.length)&&!Yo(e)}function Jo(e){return ra(e)&&qo(e)}var Go=fr||gc,Xo=xt?Gt(xt):function(e){return ra(e)&&Cs(e)==g};function Qo(e){if(!ra(e))return!1;var t=Cs(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function Yo(e){if(!ta(e))return!1;var t=Cs(e);return t==E||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zo(e){return"number"==typeof e&&e==ma(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var sa=Et?Gt(Et):function(e){return ra(e)&&mn(e)==P};function ia(e){return"number"==typeof e||ra(e)&&Cs(e)==S}function na(e){if(!ra(e)||Cs(e)!=w)return!1;var t=qe(e);if(null===t)return!0;var r=Re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&De.call(r)==je}var oa=vt?Gt(vt):function(e){return ra(e)&&Cs(e)==C},aa=Pt?Gt(Pt):function(e){return ra(e)&&mn(e)==T};function ca(e){return"string"==typeof e||!Wo(e)&&ra(e)&&Cs(e)==A}function la(e){return"symbol"==typeof e||ra(e)&&Cs(e)==I}var ha=St?Gt(St):function(e){return ra(e)&&ea(e.length)&&!!it[Cs(e)]},pa=Hi(Bs),ua=Hi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(qo(e))return ca(e)?hr(e):ki(e);if(ot&&e[ot])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[ot]());var t=mn(e);return(t==P?ir:t==T?ar:Ua)(e)}function fa(e){return e?(e=ga(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ma(e){var t=fa(e),r=t%1;return t==t?r?t-r:t:0}function ya(e){return e?as(ma(e),0,u):0}function ga(e){if("number"==typeof e)return e;if(la(e))return p;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=de.test(e);return r||me.test(e)?ct(e.slice(2),r?2:8):ue.test(e)?p:+e}function xa(e){return Ni(e,Oa(e))}function Ea(e){return null==e?"":li(e)}var va=Li((function(e,t){if(bn(t)||qo(t))Ni(t,La(t),e);else for(var r in t)Re.call(t,r)&&ts(e,r,t[r])})),Pa=Li((function(e,t){Ni(t,Oa(t),e)})),Sa=Li((function(e,t,r,s){Ni(t,Oa(t),e,s)})),wa=Li((function(e,t,r,s){Ni(t,La(t),e,s)})),ba=rn(os),Ca=Xs((function(t,r){t=Ae(t);var s=-1,i=r.length,n=i>2?r[2]:e;for(n&&vn(r[0],r[1],n)&&(i=1);++s<i;)for(var o=r[s],a=Oa(o),c=-1,l=a.length;++c<l;){var h=a[c],p=t[h];(p===e||Uo(p,Oe[h])&&!Re.call(t,h))&&(t[h]=o[h])}return t})),Ta=Xs((function(t){return t.push(e,Zi),wt(Da,e,t)}));function Aa(t,r,s){var i=null==t?e:ws(t,r);return i===e?s:i}function Ia(e,t){return null!=e&&yn(e,t,Is)}var ka=Ui((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),tc(ic)),Na=Ui((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]}),ln),_a=Xs(Ns);function La(e){return qo(e)?Xr(e):Rs(e)}function Oa(e){return qo(e)?Xr(e,!0):$s(e)}var Ma=Li((function(e,t,r){zs(e,t,r)})),Da=Li((function(e,t,r,s){zs(e,t,r,s)})),Ra=rn((function(e,t){var r={};if(null==e)return r;var s=!1;t=_t(t,(function(t){return t=Ei(t,e),s||(s=t.length>1),t})),Ni(e,nn(e),r),s&&(r=cs(r,7,en));for(var i=t.length;i--;)pi(r,t[i]);return r})),$a=rn((function(e,t){return null==e?{}:function(e,t){return Ws(e,t,(function(t,r){return Ia(e,r)}))}(e,t)}));function Ba(e,t){if(null==e)return{};var r=_t(nn(e),(function(e){return[e]}));return t=ln(t),Ws(e,r,(function(e,r){return t(e,r[0])}))}var Fa=Xi(La),ja=Xi(Oa);function Ua(e){return null==e?[]:Xt(e,La(e))}var za=Ri((function(e,t,r){return t=t.toLowerCase(),e+(r?Va(t):t)}));function Va(e){return Qa(Ea(e).toLowerCase())}function Ka(e){return(e=Ea(e))&&e.replace(ge,er).replace(Qe,"")}var Wa=Ri((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ha=Ri((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),qa=Di("toLowerCase"),Ja=Ri((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ga=Ri((function(e,t,r){return e+(r?" ":"")+Qa(t)})),Xa=Ri((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qa=Di("toUpperCase");function Ya(t,r,s){return t=Ea(t),(r=s?e:r)===e?function(e){return tt.test(e)}(t)?function(e){return e.match(Ze)||[]}(t):function(e){return e.match(ae)||[]}(t):t.match(r)||[]}var Za=Xs((function(t,r){try{return wt(t,e,r)}catch(s){return Qo(s)?s:new be(s)}})),ec=rn((function(e,t){return Ct(t,(function(t){t=$n(t),ns(e,t,No(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Fi(),sc=Fi(!0);function ic(e){return e}function nc(e){return Ds("function"==typeof e?e:cs(e,1))}var oc=Xs((function(e,t){return function(r){return Ns(r,e,t)}})),ac=Xs((function(e,t){return function(r){return Ns(e,r,t)}}));function cc(e,t,r){var s=La(t),i=Ss(t,s);null!=r||ta(t)&&(i.length||!s.length)||(r=t,t=e,e=this,i=Ss(t,La(t)));var n=!(ta(r)&&"chain"in r&&!r.chain),o=Yo(e);return Ct(i,(function(r){var s=t[r];e[r]=s,o&&(e.prototype[r]=function(){var t=this.__chain__;if(n||t){var r=e(this.__wrapped__);return(r.__actions__=ki(this.__actions__)).push({func:s,args:arguments,thisArg:e}),r.__chain__=t,r}return s.apply(e,Lt([this.value()],arguments))})})),e}function lc(){}var hc=Vi(_t),pc=Vi(At),uc=Vi(Dt);function dc(e){return Pn(e)?Vt($n(e)):function(e){return function(t){return ws(t,e)}}(e)}var fc=Wi(),mc=Wi(!0);function yc(){return[]}function gc(){return!1}var xc,Ec=zi((function(e,t){return e+t}),0),vc=Ji("ceil"),Pc=zi((function(e,t){return e/t}),1),Sc=Ji("floor"),wc=zi((function(e,t){return e*t}),1),bc=Ji("round"),Cc=zi((function(e,t){return e-t}),0);return jr.after=function(e,r){if("function"!=typeof r)throw new Ne(t);return e=ma(e),function(){if(--e<1)return r.apply(this,arguments)}},jr.ary=Io,jr.assign=va,jr.assignIn=Pa,jr.assignInWith=Sa,jr.assignWith=wa,jr.at=ba,jr.before=ko,jr.bind=No,jr.bindAll=ec,jr.bindKey=_o,jr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},jr.chain=uo,jr.chunk=function(t,r,s){r=(s?vn(t,r,s):r===e)?1:xr(ma(r),0);var i=null==t?0:t.length;if(!i||r<1)return[];for(var n=0,o=0,a=Se(yt(i/r));n<i;)a[o++]=si(t,n,n+=r);return a},jr.compact=function(e){for(var t=-1,r=null==e?0:e.length,s=0,i=[];++t<r;){var n=e[t];n&&(i[s++]=n)}return i},jr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Se(e-1),r=arguments[0],s=e;s--;)t[s-1]=arguments[s];return Lt(Wo(r)?ki(r):[r],gs(t,1))},jr.cond=function(e){var r=null==e?0:e.length,s=ln();return e=r?_t(e,(function(e){if("function"!=typeof e[1])throw new Ne(t);return[s(e[0]),e[1]]})):[],Xs((function(t){for(var s=-1;++s<r;){var i=e[s];if(wt(i[0],this,t))return wt(i[1],this,t)}}))},jr.conforms=function(e){return function(e){var t=La(e);return function(r){return ls(r,e,t)}}(cs(e,1))},jr.constant=tc,jr.countBy=yo,jr.create=function(e,t){var r=Ur(e);return null==t?r:is(r,t)},jr.curry=function t(r,s,i){var n=Qi(r,8,e,e,e,e,e,s=i?e:s);return n.placeholder=t.placeholder,n},jr.curryRight=function t(r,s,n){var o=Qi(r,i,e,e,e,e,e,s=n?e:s);return o.placeholder=t.placeholder,o},jr.debounce=Lo,jr.defaults=Ca,jr.defaultsDeep=Ta,jr.defer=Oo,jr.delay=Mo,jr.difference=jn,jr.differenceBy=Un,jr.differenceWith=zn,jr.drop=function(t,r,s){var i=null==t?0:t.length;return i?si(t,(r=s||r===e?1:ma(r))<0?0:r,i):[]},jr.dropRight=function(t,r,s){var i=null==t?0:t.length;return i?si(t,0,(r=i-(r=s||r===e?1:ma(r)))<0?0:r):[]},jr.dropRightWhile=function(e,t){return e&&e.length?di(e,ln(t,3),!0,!0):[]},jr.dropWhile=function(e,t){return e&&e.length?di(e,ln(t,3),!0):[]},jr.fill=function(t,r,s,i){var n=null==t?0:t.length;return n?(s&&"number"!=typeof s&&vn(t,r,s)&&(s=0,i=n),function(t,r,s,i){var n=t.length;for((s=ma(s))<0&&(s=-s>n?0:n+s),(i=i===e||i>n?n:ma(i))<0&&(i+=n),i=s>i?0:ya(i);s<i;)t[s++]=r;return t}(t,r,s,i)):[]},jr.filter=function(e,t){return(Wo(e)?It:ys)(e,ln(t,3))},jr.flatMap=function(e,t){return gs(bo(e,t),1)},jr.flatMapDeep=function(e,t){return gs(bo(e,t),l)},jr.flatMapDepth=function(t,r,s){return s=s===e?1:ma(s),gs(bo(t,r),s)},jr.flatten=Wn,jr.flattenDeep=function(e){return null!=e&&e.length?gs(e,l):[]},jr.flattenDepth=function(t,r){return null!=t&&t.length?gs(t,r=r===e?1:ma(r)):[]},jr.flip=function(e){return Qi(e,512)},jr.flow=rc,jr.flowRight=sc,jr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,s={};++t<r;){var i=e[t];s[i[0]]=i[1]}return s},jr.functions=function(e){return null==e?[]:Ss(e,La(e))},jr.functionsIn=function(e){return null==e?[]:Ss(e,Oa(e))},jr.groupBy=Po,jr.initial=function(e){return null!=e&&e.length?si(e,0,-1):[]},jr.intersection=qn,jr.intersectionBy=Jn,jr.intersectionWith=Gn,jr.invert=ka,jr.invertBy=Na,jr.invokeMap=So,jr.iteratee=nc,jr.keyBy=wo,jr.keys=La,jr.keysIn=Oa,jr.map=bo,jr.mapKeys=function(e,t){var r={};return t=ln(t,3),vs(e,(function(e,s,i){ns(r,t(e,s,i),e)})),r},jr.mapValues=function(e,t){var r={};return t=ln(t,3),vs(e,(function(e,s,i){ns(r,s,t(e,s,i))})),r},jr.matches=function(e){return js(cs(e,1))},jr.matchesProperty=function(e,t){return Us(e,cs(t,1))},jr.memoize=Do,jr.merge=Ma,jr.mergeWith=Da,jr.method=oc,jr.methodOf=ac,jr.mixin=cc,jr.negate=Ro,jr.nthArg=function(e){return e=ma(e),Xs((function(t){return Vs(t,e)}))},jr.omit=Ra,jr.omitBy=function(e,t){return Ba(e,Ro(ln(t)))},jr.once=function(e){return ko(2,e)},jr.orderBy=function(t,r,s,i){return null==t?[]:(Wo(r)||(r=null==r?[]:[r]),Wo(s=i?e:s)||(s=null==s?[]:[s]),Ks(t,r,s))},jr.over=hc,jr.overArgs=$o,jr.overEvery=pc,jr.overSome=uc,jr.partial=Bo,jr.partialRight=Fo,jr.partition=Co,jr.pick=$a,jr.pickBy=Ba,jr.property=dc,jr.propertyOf=function(t){return function(r){return null==t?e:ws(t,r)}},jr.pull=Qn,jr.pullAll=Yn,jr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Hs(e,t,ln(r,2)):e},jr.pullAllWith=function(t,r,s){return t&&t.length&&r&&r.length?Hs(t,r,e,s):t},jr.pullAt=Zn,jr.range=fc,jr.rangeRight=mc,jr.rearg=jo,jr.reject=function(e,t){return(Wo(e)?It:ys)(e,Ro(ln(t,3)))},jr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var s=-1,i=[],n=e.length;for(t=ln(t,3);++s<n;){var o=e[s];t(o,s,e)&&(r.push(o),i.push(s))}return qs(e,i),r},jr.rest=function(r,s){if("function"!=typeof r)throw new Ne(t);return Xs(r,s=s===e?s:ma(s))},jr.reverse=eo,jr.sampleSize=function(t,r,s){return r=(s?vn(t,r,s):r===e)?1:ma(r),(Wo(t)?Yr:Ys)(t,r)},jr.set=function(e,t,r){return null==e?e:Zs(e,t,r)},jr.setWith=function(t,r,s,i){return i="function"==typeof i?i:e,null==t?t:Zs(t,r,s,i)},jr.shuffle=function(e){return(Wo(e)?Zr:ri)(e)},jr.slice=function(t,r,s){var i=null==t?0:t.length;return i?(s&&"number"!=typeof s&&vn(t,r,s)?(r=0,s=i):(r=null==r?0:ma(r),s=s===e?i:ma(s)),si(t,r,s)):[]},jr.sortBy=To,jr.sortedUniq=function(e){return e&&e.length?ai(e):[]},jr.sortedUniqBy=function(e,t){return e&&e.length?ai(e,ln(t,2)):[]},jr.split=function(t,r,s){return s&&"number"!=typeof s&&vn(t,r,s)&&(r=s=e),(s=s===e?u:s>>>0)?(t=Ea(t))&&("string"==typeof r||null!=r&&!oa(r))&&!(r=li(r))&&sr(t)?Pi(hr(t),0,s):t.split(r,s):[]},jr.spread=function(e,r){if("function"!=typeof e)throw new Ne(t);return r=null==r?0:xr(ma(r),0),Xs((function(t){var s=t[r],i=Pi(t,0,r);return s&&Lt(i,s),wt(e,this,i)}))},jr.tail=function(e){var t=null==e?0:e.length;return t?si(e,1,t):[]},jr.take=function(t,r,s){return t&&t.length?si(t,0,(r=s||r===e?1:ma(r))<0?0:r):[]},jr.takeRight=function(t,r,s){var i=null==t?0:t.length;return i?si(t,(r=i-(r=s||r===e?1:ma(r)))<0?0:r,i):[]},jr.takeRightWhile=function(e,t){return e&&e.length?di(e,ln(t,3),!1,!0):[]},jr.takeWhile=function(e,t){return e&&e.length?di(e,ln(t,3)):[]},jr.tap=function(e,t){return t(e),e},jr.throttle=function(e,r,s){var i=!0,n=!0;if("function"!=typeof e)throw new Ne(t);return ta(s)&&(i="leading"in s?!!s.leading:i,n="trailing"in s?!!s.trailing:n),Lo(e,r,{leading:i,maxWait:r,trailing:n})},jr.thru=fo,jr.toArray=da,jr.toPairs=Fa,jr.toPairsIn=ja,jr.toPath=function(e){return Wo(e)?_t(e,$n):la(e)?[e]:ki(Rn(Ea(e)))},jr.toPlainObject=xa,jr.transform=function(e,t,r){var s=Wo(e),i=s||Go(e)||ha(e);if(t=ln(t,4),null==r){var n=e&&e.constructor;r=i?s?new n:[]:ta(e)&&Yo(n)?Ur(qe(e)):{}}return(i?Ct:vs)(e,(function(e,s,i){return t(r,e,s,i)})),r},jr.unary=function(e){return Io(e,1)},jr.union=to,jr.unionBy=ro,jr.unionWith=so,jr.uniq=function(e){return e&&e.length?hi(e):[]},jr.uniqBy=function(e,t){return e&&e.length?hi(e,ln(t,2)):[]},jr.uniqWith=function(t,r){return r="function"==typeof r?r:e,t&&t.length?hi(t,e,r):[]},jr.unset=function(e,t){return null==e||pi(e,t)},jr.unzip=io,jr.unzipWith=no,jr.update=function(e,t,r){return null==e?e:ui(e,t,xi(r))},jr.updateWith=function(t,r,s,i){return i="function"==typeof i?i:e,null==t?t:ui(t,r,xi(s),i)},jr.values=Ua,jr.valuesIn=function(e){return null==e?[]:Xt(e,Oa(e))},jr.without=oo,jr.words=Ya,jr.wrap=function(e,t){return Bo(xi(t),e)},jr.xor=ao,jr.xorBy=co,jr.xorWith=lo,jr.zip=ho,jr.zipObject=function(e,t){return yi(e||[],t||[],ts)},jr.zipObjectDeep=function(e,t){return yi(e||[],t||[],Zs)},jr.zipWith=po,jr.entries=Fa,jr.entriesIn=ja,jr.extend=Pa,jr.extendWith=Sa,cc(jr,jr),jr.add=Ec,jr.attempt=Za,jr.camelCase=za,jr.capitalize=Va,jr.ceil=vc,jr.clamp=function(t,r,s){return s===e&&(s=r,r=e),s!==e&&(s=(s=ga(s))==s?s:0),r!==e&&(r=(r=ga(r))==r?r:0),as(ga(t),r,s)},jr.clone=function(e){return cs(e,4)},jr.cloneDeep=function(e){return cs(e,5)},jr.cloneDeepWith=function(t,r){return cs(t,5,r="function"==typeof r?r:e)},jr.cloneWith=function(t,r){return cs(t,4,r="function"==typeof r?r:e)},jr.conformsTo=function(e,t){return null==t||ls(e,t,La(t))},jr.deburr=Ka,jr.defaultTo=function(e,t){return null==e||e!=e?t:e},jr.divide=Pc,jr.endsWith=function(t,r,s){t=Ea(t),r=li(r);var i=t.length,n=s=s===e?i:as(ma(s),0,i);return(s-=r.length)>=0&&t.slice(s,n)==r},jr.eq=Uo,jr.escape=function(e){return(e=Ea(e))&&q.test(e)?e.replace(W,tr):e},jr.escapeRegExp=function(e){return(e=Ea(e))&&te.test(e)?e.replace(ee,"\\$&"):e},jr.every=function(t,r,s){var i=Wo(t)?At:fs;return s&&vn(t,r,s)&&(r=e),i(t,ln(r,3))},jr.find=go,jr.findIndex=Vn,jr.findKey=function(e,t){return $t(e,ln(t,3),vs)},jr.findLast=xo,jr.findLastIndex=Kn,jr.findLastKey=function(e,t){return $t(e,ln(t,3),Ps)},jr.floor=Sc,jr.forEach=Eo,jr.forEachRight=vo,jr.forIn=function(e,t){return null==e?e:xs(e,ln(t,3),Oa)},jr.forInRight=function(e,t){return null==e?e:Es(e,ln(t,3),Oa)},jr.forOwn=function(e,t){return e&&vs(e,ln(t,3))},jr.forOwnRight=function(e,t){return e&&Ps(e,ln(t,3))},jr.get=Aa,jr.gt=zo,jr.gte=Vo,jr.has=function(e,t){return null!=e&&yn(e,t,As)},jr.hasIn=Ia,jr.head=Hn,jr.identity=ic,jr.includes=function(e,t,r,s){e=qo(e)?e:Ua(e),r=r&&!s?ma(r):0;var i=e.length;return r<0&&(r=xr(i+r,0)),ca(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ft(e,t,r)>-1},jr.indexOf=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var i=null==r?0:ma(r);return i<0&&(i=xr(s+i,0)),Ft(e,t,i)},jr.inRange=function(t,r,s){return r=fa(r),s===e?(s=r,r=0):s=fa(s),function(e,t,r){return e>=Er(t,r)&&e<xr(t,r)}(t=ga(t),r,s)},jr.invoke=_a,jr.isArguments=Ko,jr.isArray=Wo,jr.isArrayBuffer=Ho,jr.isArrayLike=qo,jr.isArrayLikeObject=Jo,jr.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Cs(e)==y},jr.isBuffer=Go,jr.isDate=Xo,jr.isElement=function(e){return ra(e)&&1===e.nodeType&&!na(e)},jr.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||ha(e)||Ko(e)))return!e.length;var t=mn(e);if(t==P||t==T)return!e.size;if(bn(e))return!Rs(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0},jr.isEqual=function(e,t){return Ls(e,t)},jr.isEqualWith=function(t,r,s){var i=(s="function"==typeof s?s:e)?s(t,r):e;return i===e?Ls(t,r,e,s):!!i},jr.isError=Qo,jr.isFinite=function(e){return"number"==typeof e&&mr(e)},jr.isFunction=Yo,jr.isInteger=Zo,jr.isLength=ea,jr.isMap=sa,jr.isMatch=function(e,t){return e===t||Os(e,t,pn(t))},jr.isMatchWith=function(t,r,s){return s="function"==typeof s?s:e,Os(t,r,pn(r),s)},jr.isNaN=function(e){return ia(e)&&e!=+e},jr.isNative=function(e){if(wn(e))throw new be("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ms(e)},jr.isNil=function(e){return null==e},jr.isNull=function(e){return null===e},jr.isNumber=ia,jr.isObject=ta,jr.isObjectLike=ra,jr.isPlainObject=na,jr.isRegExp=oa,jr.isSafeInteger=function(e){return Zo(e)&&e>=-0x1fffffffffffff&&e<=h},jr.isSet=aa,jr.isString=ca,jr.isSymbol=la,jr.isTypedArray=ha,jr.isUndefined=function(t){return t===e},jr.isWeakMap=function(e){return ra(e)&&mn(e)==k},jr.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Cs(e)},jr.join=function(e,t){return null==e?"":yr.call(e,t)},jr.kebabCase=Wa,jr.last=Xn,jr.lastIndexOf=function(t,r,s){var i=null==t?0:t.length;if(!i)return-1;var n=i;return s!==e&&(n=(n=ma(s))<0?xr(i+n,0):Er(n,i-1)),r==r?function(e,t,r){for(var s=r+1;s--;)if(e[s]===t)return s;return s}(t,r,n):Bt(t,Ut,n,!0)},jr.lowerCase=Ha,jr.lowerFirst=qa,jr.lt=pa,jr.lte=ua,jr.max=function(t){return t&&t.length?ms(t,ic,Ts):e},jr.maxBy=function(t,r){return t&&t.length?ms(t,ln(r,2),Ts):e},jr.mean=function(e){return zt(e,ic)},jr.meanBy=function(e,t){return zt(e,ln(t,2))},jr.min=function(t){return t&&t.length?ms(t,ic,Bs):e},jr.minBy=function(t,r){return t&&t.length?ms(t,ln(r,2),Bs):e},jr.stubArray=yc,jr.stubFalse=gc,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=wc,jr.nth=function(t,r){return t&&t.length?Vs(t,ma(r)):e},jr.noConflict=function(){return pt._===this&&(pt._=Ue),this},jr.noop=lc,jr.now=Ao,jr.pad=function(e,t,r){e=Ea(e);var s=(t=ma(t))?lr(e):0;if(!t||s>=t)return e;var i=(t-s)/2;return Ki(Rt(i),r)+e+Ki(yt(i),r)},jr.padEnd=function(e,t,r){e=Ea(e);var s=(t=ma(t))?lr(e):0;return t&&s<t?e+Ki(t-s,r):e},jr.padStart=function(e,t,r){e=Ea(e);var s=(t=ma(t))?lr(e):0;return t&&s<t?Ki(t-s,r)+e:e},jr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Pr(Ea(e).replace(re,""),t||0)},jr.random=function(t,r,s){if(s&&"boolean"!=typeof s&&vn(t,r,s)&&(r=s=e),s===e&&("boolean"==typeof r?(s=r,r=e):"boolean"==typeof t&&(s=t,t=e)),t===e&&r===e?(t=0,r=1):(t=fa(t),r===e?(r=t,t=0):r=fa(r)),t>r){var i=t;t=r,r=i}if(s||t%1||r%1){var n=Sr();return Er(t+n*(r-t+at("1e-"+((n+"").length-1))),r)}return Js(t,r)},jr.reduce=function(e,t,r){var s=Wo(e)?Ot:Wt,i=arguments.length<3;return s(e,ln(t,4),r,i,us)},jr.reduceRight=function(e,t,r){var s=Wo(e)?Mt:Wt,i=arguments.length<3;return s(e,ln(t,4),r,i,ds)},jr.repeat=function(t,r,s){return r=(s?vn(t,r,s):r===e)?1:ma(r),Gs(Ea(t),r)},jr.replace=function(){var e=arguments,t=Ea(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jr.result=function(t,r,s){var i=-1,n=(r=Ei(r,t)).length;for(n||(n=1,t=e);++i<n;){var o=null==t?e:t[$n(r[i])];o===e&&(i=n,o=s),t=Yo(o)?o.call(t):o}return t},jr.round=bc,jr.runInContext=se,jr.sample=function(e){return(Wo(e)?Qr:Qs)(e)},jr.size=function(e){if(null==e)return 0;if(qo(e))return ca(e)?lr(e):e.length;var t=mn(e);return t==P||t==T?e.size:Rs(e).length},jr.snakeCase=Ja,jr.some=function(t,r,s){var i=Wo(t)?Dt:ii;return s&&vn(t,r,s)&&(r=e),i(t,ln(r,3))},jr.sortedIndex=function(e,t){return ni(e,t)},jr.sortedIndexBy=function(e,t,r){return oi(e,t,ln(r,2))},jr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var s=ni(e,t);if(s<r&&Uo(e[s],t))return s}return-1},jr.sortedLastIndex=function(e,t){return ni(e,t,!0)},jr.sortedLastIndexBy=function(e,t,r){return oi(e,t,ln(r,2),!0)},jr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Uo(e[r],t))return r}return-1},jr.startCase=Ga,jr.startsWith=function(e,t,r){return e=Ea(e),r=null==r?0:as(ma(r),0,e.length),t=li(t),e.slice(r,r+t.length)==t},jr.subtract=Cc,jr.sum=function(e){return e&&e.length?Ht(e,ic):0},jr.sumBy=function(e,t){return e&&e.length?Ht(e,ln(t,2)):0},jr.template=function(t,r,s){var i=jr.templateSettings;s&&vn(t,r,s)&&(r=e),t=Ea(t),r=Sa({},r,i,Yi);var n,o,a=Sa({},r.imports,i.imports,Yi),c=La(a),l=Xt(a,c),h=0,p=r.interpolate||xe,u="__p += '",d=Ie((r.escape||xe).source+"|"+p.source+"|"+(p===X?he:xe).source+"|"+(r.evaluate||xe).source+"|$","g"),f="//# sourceURL="+(Re.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";t.replace(d,(function(e,r,s,i,a,c){return s||(s=i),u+=t.slice(h,c).replace(Ee,rr),r&&(n=!0,u+="' +\n__e("+r+") +\n'"),a&&(o=!0,u+="';\n"+a+";\n__p += '"),s&&(u+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),h=c+e.length,e})),u+="';\n";var m=Re.call(r,"variable")&&r.variable;if(m){if(ce.test(m))throw new be("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(o?u.replace(U,""):u).replace(z,"$1").replace(V,"$1;"),u="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var y=Za((function(){return Ce(c,f+"return "+u).apply(e,l)}));if(y.source=u,Qo(y))throw y;return y},jr.times=function(e,t){if((e=ma(e))<1||e>h)return[];var r=u,s=Er(e,u);t=ln(t),e-=u;for(var i=qt(s,t);++r<e;)t(r);return i},jr.toFinite=fa,jr.toInteger=ma,jr.toLength=ya,jr.toLower=function(e){return Ea(e).toLowerCase()},jr.toNumber=ga,jr.toSafeInteger=function(e){return e?as(ma(e),-0x1fffffffffffff,h):0===e?e:0},jr.toString=Ea,jr.toUpper=function(e){return Ea(e).toUpperCase()},jr.trim=function(t,r,s){if((t=Ea(t))&&(s||r===e))return Jt(t);if(!t||!(r=li(r)))return t;var i=hr(t),n=hr(r);return Pi(i,Yt(i,n),Zt(i,n)+1).join("")},jr.trimEnd=function(t,r,s){if((t=Ea(t))&&(s||r===e))return t.slice(0,pr(t)+1);if(!t||!(r=li(r)))return t;var i=hr(t);return Pi(i,0,Zt(i,hr(r))+1).join("")},jr.trimStart=function(t,r,s){if((t=Ea(t))&&(s||r===e))return t.replace(re,"");if(!t||!(r=li(r)))return t;var i=hr(t);return Pi(i,Yt(i,hr(r))).join("")},jr.truncate=function(t,r){var s=30,i="...";if(ta(r)){var n="separator"in r?r.separator:n;s="length"in r?ma(r.length):s,i="omission"in r?li(r.omission):i}var o=(t=Ea(t)).length;if(sr(t)){var a=hr(t);o=a.length}if(s>=o)return t;var c=s-lr(i);if(c<1)return i;var l=a?Pi(a,0,c).join(""):t.slice(0,c);if(n===e)return l+i;if(a&&(c+=l.length-c),oa(n)){if(t.slice(c).search(n)){var h,p=l;for(n.global||(n=Ie(n.source,Ea(pe.exec(n))+"g")),n.lastIndex=0;h=n.exec(p);)var u=h.index;l=l.slice(0,u===e?c:u)}}else if(t.indexOf(li(n),c)!=c){var d=l.lastIndexOf(n);d>-1&&(l=l.slice(0,d))}return l+i},jr.unescape=function(e){return(e=Ea(e))&&H.test(e)?e.replace(K,ur):e},jr.uniqueId=function(e){var t=++$e;return Ea(e)+t},jr.upperCase=Xa,jr.upperFirst=Qa,jr.each=Eo,jr.eachRight=vo,jr.first=Hn,cc(jr,(xc={},vs(jr,(function(e,t){Re.call(jr.prototype,t)||(xc[t]=e)})),xc),{chain:!1}),jr.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jr[e].placeholder=jr})),Ct(["drop","take"],(function(t,r){Kr.prototype[t]=function(s){s=s===e?1:xr(ma(s),0);var i=this.__filtered__&&!r?new Kr(this):this.clone();return i.__filtered__?i.__takeCount__=Er(s,i.__takeCount__):i.__views__.push({size:Er(s,u),type:t+(i.__dir__<0?"Right":"")}),i},Kr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var r=t+1,s=1==r||3==r;Kr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ln(e,3),type:r}),t.__filtered__=t.__filtered__||s,t}})),Ct(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Kr.prototype[e]=function(){return this[r](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Kr.prototype[e]=function(){return this.__filtered__?new Kr(this):this[r](1)}})),Kr.prototype.compact=function(){return this.filter(ic)},Kr.prototype.find=function(e){return this.filter(e).head()},Kr.prototype.findLast=function(e){return this.reverse().find(e)},Kr.prototype.invokeMap=Xs((function(e,t){return"function"==typeof e?new Kr(this):this.map((function(r){return Ns(r,e,t)}))})),Kr.prototype.reject=function(e){return this.filter(Ro(ln(e)))},Kr.prototype.slice=function(t,r){t=ma(t);var s=this;return s.__filtered__&&(t>0||r<0)?new Kr(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),r!==e&&(s=(r=ma(r))<0?s.dropRight(-r):s.take(r-t)),s)},Kr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kr.prototype.toArray=function(){return this.take(u)},vs(Kr.prototype,(function(t,r){var s=/^(?:filter|find|map|reject)|While$/.test(r),i=/^(?:head|last)$/.test(r),n=jr[i?"take"+("last"==r?"Right":""):r],o=i||/^find/.test(r);n&&(jr.prototype[r]=function(){var r=this.__wrapped__,a=i?[1]:arguments,c=r instanceof Kr,l=a[0],h=c||Wo(r),p=function(e){var t=n.apply(jr,Lt([e],a));return i&&u?t[0]:t};h&&s&&"function"==typeof l&&1!=l.length&&(c=h=!1);var u=this.__chain__,d=!!this.__actions__.length,f=o&&!u,m=c&&!d;if(!o&&h){r=m?r:new Kr(this);var y=t.apply(r,a);return y.__actions__.push({func:fo,args:[p],thisArg:e}),new Vr(y,u)}return f&&m?t.apply(this,a):(y=this.thru(p),f?i?y.value()[0]:y.value():y)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_e[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);jr.prototype[e]=function(){var e=arguments;if(s&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[r]((function(r){return t.apply(Wo(r)?r:[],e)}))}})),vs(Kr.prototype,(function(e,t){var r=jr[t];if(r){var s=r.name+"";Re.call(_r,s)||(_r[s]=[]),_r[s].push({name:t,func:r})}})),_r[ji(e,2).name]=[{name:"wrapper",func:e}],Kr.prototype.clone=function(){var e=new Kr(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Kr.prototype.reverse=function(){if(this.__filtered__){var e=new Kr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wo(e),s=t<0,i=r?e.length:0,n=function(e,t,r){for(var s=-1,i=r.length;++s<i;){var n=r[s],o=n.size;switch(n.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Er(t,e+o);break;case"takeRight":e=xr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=n.start,a=n.end,c=a-o,l=s?a:o-1,h=this.__iteratees__,p=h.length,u=0,d=Er(c,this.__takeCount__);if(!r||!s&&i==c&&d==c)return fi(e,this.__actions__);var f=[];e:for(;c--&&u<d;){for(var m=-1,y=e[l+=t];++m<p;){var g=h[m],x=g.iteratee,E=g.type,v=x(y);if(2==E)y=v;else if(!v){if(1==E)continue e;break e}}f[u++]=y}return f},jr.prototype.at=mo,jr.prototype.chain=function(){return uo(this)},jr.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===e&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},jr.prototype.plant=function(t){for(var r,s=this;s instanceof zr;){var i=Fn(s);i.__index__=0,i.__values__=e,r?n.__wrapped__=i:r=i;var n=i;s=s.__wrapped__}return n.__wrapped__=t,r},jr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Kr){var r=t;return this.__actions__.length&&(r=new Kr(this)),(r=r.reverse()).__actions__.push({func:fo,args:[eo],thisArg:e}),new Vr(r,this.__chain__)}return this.thru(eo)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,ot&&(jr.prototype[ot]=function(){return this}),jr}();dt?((dt.exports=dr)._=dr,ut._=dr):pt._=dr}.call(commonjsGlobal);var lodashExports=lodash.exports;_=getDefaultExportFromCjs(lodashExports);var astTraverse={exports:{}};astTraverse.exports=function(e,t){var r=(t=t||{}).pre,s=t.post,i=t.skipProperty;!function e(t,n,o,a){if(t&&"string"==typeof t.type){var c=void 0;if(r&&(c=r(t,n,o,a)),!1!==c)for(var o in t)if(!(i?i(o,t):"$"===o[0])){var l=t[o];if(Array.isArray(l))for(var h=0;h<l.length;h++)e(l[h],t,o,h);else e(l,t,o)}s&&s(t,n,o,a)}}(e,null)};var astTraverseExports=astTraverse.exports;const traverse=getDefaultExportFromCjs(astTraverseExports);var lib={};function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}Object.defineProperty(lib,"__esModule",{value:!0});class Position{constructor(e,t,r){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=r}}class SourceLocation{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}}function createPositionWithColumnOffset(e,t){const{line:r,column:s,index:i}=e;return new Position(r,s+t,i+t)}const code="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED";var ModuleErrors={ImportMetaOutsideModule:{message:"import.meta may appear only with 'sourceType: \"module\"'",code:code},ImportOutsideModule:{message:"'import' and 'export' may appear only with 'sourceType: \"module\"'",code:code}};const NodeDescriptions={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},toNodeDescription=e=>"UpdateExpression"===e.type?NodeDescriptions.UpdateExpression[`${e.prefix}`]:NodeDescriptions[e.type];var StandardErrors={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:t})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${e}' as '${t}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${"ForInStatement"===e?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${"BreakStatement"===e?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${toNodeDescription(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${toNodeDescription(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${toNodeDescription(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map((e=>JSON.stringify(e))).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map((e=>JSON.stringify(e))).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:t})=>`Unexpected token${t?` '${t}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:t})=>`The only valid meta property for ${e} is ${e}.${t}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},StrictModeErrors={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."};const UnparenthesizedPipeBodyDescriptions=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]);var PipelineOperatorErrors={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${toNodeDescription({type:e})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'};const _excluded=["message"];function defineHidden(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:r})}function toParseErrorConstructor({toMessage:e,code:t,reasonCode:r,syntaxPlugin:s}){const i="MissingPlugin"===r||"MissingOneOfPlugins"===r;{const e={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};e[r]&&(r=e[r])}return function n(o,a){const c=new SyntaxError;return c.code=t,c.reasonCode=r,c.loc=o,c.pos=o.index,c.syntaxPlugin=s,i&&(c.missingPlugin=a.missingPlugin),defineHidden(c,"clone",(function(e={}){var t;const{line:r,column:s,index:i}=null!=(t=e.loc)?t:o;return n(new Position(r,s,i),Object.assign({},a,e.details))})),defineHidden(c,"details",a),Object.defineProperty(c,"message",{configurable:!0,get(){const t=`${e(a)} (${o.line}:${o.column})`;return this.message=t,t},set(e){Object.defineProperty(this,"message",{value:e,writable:!0})}}),c}}function ParseErrorEnum(e,t){if(Array.isArray(e))return t=>ParseErrorEnum(t,e[0]);const r={};for(const s of Object.keys(e)){const i=e[s],n="string"==typeof i?{message:()=>i}:"function"==typeof i?{message:i}:i,{message:o}=n,a=_objectWithoutPropertiesLoose(n,_excluded),c="string"==typeof o?()=>o:o;r[s]=toParseErrorConstructor(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:s,toMessage:c},t?{syntaxPlugin:t}:{},a))}return r}const Errors=Object.assign({},ParseErrorEnum(ModuleErrors),ParseErrorEnum(StandardErrors),ParseErrorEnum(StrictModeErrors),ParseErrorEnum`pipelineOperator`(PipelineOperatorErrors)),{defineProperty:defineProperty}=Object,toUnenumerable=(e,t)=>{e&&defineProperty(e,t,{enumerable:!1,value:e[t]})};function toESTreeLocation(e){return toUnenumerable(e.loc.start,"index"),toUnenumerable(e.loc.end,"index"),e}var estree=e=>class extends e{parse(){const e=toESTreeLocation(super.parse());return this.options.tokens&&(e.tokens=e.tokens.map(toESTreeLocation)),e}parseRegExpLiteral({pattern:e,flags:t}){let r=null;try{r=new RegExp(e,t)}catch(_){}const s=this.estreeParseLiteral(r);return s.regex={pattern:e,flags:t},s}parseBigIntLiteral(e){let t;try{t=BigInt(e)}catch(s){t=null}const r=this.estreeParseLiteral(t);return r.bigint=String(r.value||e),r}parseDecimalLiteral(e){const t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t}estreeParseLiteral(e){return this.parseLiteral(e,"Literal")}parseStringLiteral(e){return this.estreeParseLiteral(e)}parseNumericLiteral(e){return this.estreeParseLiteral(e)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(e){return this.estreeParseLiteral(e)}directiveToStmt(e){const t=e.value;delete e.value,t.type="Literal",t.raw=t.extra.raw,t.value=t.extra.expressionValue;const r=e;return r.type="ExpressionStatement",r.expression=t,r.directive=t.extra.rawValue,delete t.extra,r}initFunction(e,t){super.initFunction(e,t),e.expression=!1}checkDeclaration(e){null!=e&&this.isObjectProperty(e)?this.checkDeclaration(e.value):super.checkDeclaration(e)}getObjectOrClassMethodParams(e){return e.value.params}isValidDirective(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null!=(t=e.expression.extra)&&t.parenthesized)}parseBlockBody(e,t,r,s,i){super.parseBlockBody(e,t,r,s,i);const n=e.directives.map((e=>this.directiveToStmt(e)));e.body=n.concat(e.body),delete e.directives}pushClassMethod(e,t,r,s,i,n){this.parseMethod(t,r,s,i,n,"ClassMethod",!0),t.typeParameters&&(t.value.typeParameters=t.typeParameters,delete t.typeParameters),e.body.push(t)}parsePrivateName(){const e=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(e):e}convertPrivateNameToPrivateIdentifier(e){const t=super.getPrivateNameSV(e);return delete e.id,e.name=t,e.type="PrivateIdentifier",e}isPrivateName(e){return this.getPluginOption("estree","classFeatures")?"PrivateIdentifier"===e.type:super.isPrivateName(e)}getPrivateNameSV(e){return this.getPluginOption("estree","classFeatures")?e.name:super.getPrivateNameSV(e)}parseLiteral(e,t){const r=super.parseLiteral(e,t);return r.raw=r.extra.raw,delete r.extra,r}parseFunctionBody(e,t,r=!1){super.parseFunctionBody(e,t,r),e.expression="BlockStatement"!==e.body.type}parseMethod(e,t,r,s,i,n,o=!1){let a=this.startNode();return a.kind=e.kind,a=super.parseMethod(a,t,r,s,i,n,o),a.type="FunctionExpression",delete a.kind,e.value=a,"ClassPrivateMethod"===n&&(e.computed=!1),this.finishNode(e,"MethodDefinition")}nameIsConstructor(e){return"Literal"===e.type?"constructor"===e.value:super.nameIsConstructor(e)}parseClassProperty(...e){const t=super.parseClassProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t):t}parseClassPrivateProperty(...e){const t=super.parseClassPrivateProperty(...e);return this.getPluginOption("estree","classFeatures")?(t.type="PropertyDefinition",t.computed=!1,t):t}parseObjectMethod(e,t,r,s,i){const n=super.parseObjectMethod(e,t,r,s,i);return n&&(n.type="Property","method"===n.kind&&(n.kind="init"),n.shorthand=!1),n}parseObjectProperty(e,t,r,s){const i=super.parseObjectProperty(e,t,r,s);return i&&(i.kind="init",i.type="Property"),i}isValidLVal(e,t,r){return"Property"===e?"value":super.isValidLVal(e,t,r)}isAssignable(e,t){return null!=e&&this.isObjectProperty(e)?this.isAssignable(e.value,t):super.isAssignable(e,t)}toAssignable(e,t=!1){if(null!=e&&this.isObjectProperty(e)){const{key:r,value:s}=e;this.isPrivateName(r)&&this.classScope.usePrivateName(this.getPrivateNameSV(r),r.loc.start),this.toAssignable(s,t)}else super.toAssignable(e,t)}toAssignableObjectExpressionProp(e,t,r){"Property"!==e.type||"get"!==e.kind&&"set"!==e.kind?"Property"===e.type&&e.method?this.raise(Errors.PatternHasMethod,e.key):super.toAssignableObjectExpressionProp(e,t,r):this.raise(Errors.PatternHasAccessor,e.key)}finishCallExpression(e,t){const r=super.finishCallExpression(e,t);var s,i;"Import"===r.callee.type&&(r.type="ImportExpression",r.source=r.arguments[0],r.options=null!=(s=r.arguments[1])?s:null,r.attributes=null!=(i=r.arguments[1])?i:null,delete r.arguments,delete r.callee);return r}toReferencedArguments(e){"ImportExpression"!==e.type&&super.toReferencedArguments(e)}parseExport(e,t){const r=this.state.lastTokStartLoc,s=super.parseExport(e,t);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":1===s.specifiers.length&&"ExportNamespaceSpecifier"===s.specifiers[0].type&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var i;const{declaration:e}=s;"ClassDeclaration"===(null==e?void 0:e.type)&&(null==(i=e.decorators)?void 0:i.length)>0&&e.start===s.start&&this.resetStartLocation(s,r)}}return s}parseSubscript(e,t,r,s){const i=super.parseSubscript(e,t,r,s);if(s.optionalChainMember){if("OptionalMemberExpression"!==i.type&&"OptionalCallExpression"!==i.type||(i.type=i.type.substring(8)),s.stop){const e=this.startNodeAtNode(i);return e.expression=i,this.finishNode(e,"ChainExpression")}}else"MemberExpression"!==i.type&&"CallExpression"!==i.type||(i.optional=!1);return i}isOptionalMemberExpression(e){return"ChainExpression"===e.type?"MemberExpression"===e.expression.type:super.isOptionalMemberExpression(e)}hasPropertyAsPrivateName(e){return"ChainExpression"===e.type&&(e=e.expression),super.hasPropertyAsPrivateName(e)}isObjectProperty(e){return"Property"===e.type&&"init"===e.kind&&!e.method}isObjectMethod(e){return"Property"===e.type&&(e.method||"get"===e.kind||"set"===e.kind)}finishNodeAt(e,t,r){return toESTreeLocation(super.finishNodeAt(e,t,r))}resetStartLocation(e,t){super.resetStartLocation(e,t),toESTreeLocation(e)}resetEndLocation(e,t=this.state.lastTokEndLoc){super.resetEndLocation(e,t),toESTreeLocation(e)}};class TokContext{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}}const types={brace:new TokContext("{"),j_oTag:new TokContext("<tag"),j_cTag:new TokContext("</tag"),j_expr:new TokContext("<tag>...</tag>",!0)};types.template=new TokContext("`",!0);const beforeExpr=!0,startsExpr=!0,isLoop=!0,isAssign=!0,prefix=!0,postfix=!0;class ExportedTokenType{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null}}const keywords$1=new Map;function createKeyword(e,t={}){t.keyword=e;const r=createToken(e,t);return keywords$1.set(e,r),r}function createBinop(e,t){return createToken(e,{beforeExpr:beforeExpr,binop:t})}let tokenTypeCounter=-1;const tokenTypes=[],tokenLabels=[],tokenBinops=[],tokenBeforeExprs=[],tokenStartsExprs=[],tokenPrefixes=[];function createToken(e,t={}){var r,s,i,n;return++tokenTypeCounter,tokenLabels.push(e),tokenBinops.push(null!=(r=t.binop)?r:-1),tokenBeforeExprs.push(null!=(s=t.beforeExpr)&&s),tokenStartsExprs.push(null!=(i=t.startsExpr)&&i),tokenPrefixes.push(null!=(n=t.prefix)&&n),tokenTypes.push(new ExportedTokenType(e,t)),tokenTypeCounter}function createKeywordLike(e,t={}){var r,s,i,n;return++tokenTypeCounter,keywords$1.set(e,tokenTypeCounter),tokenLabels.push(e),tokenBinops.push(null!=(r=t.binop)?r:-1),tokenBeforeExprs.push(null!=(s=t.beforeExpr)&&s),tokenStartsExprs.push(null!=(i=t.startsExpr)&&i),tokenPrefixes.push(null!=(n=t.prefix)&&n),tokenTypes.push(new ExportedTokenType("name",t)),tokenTypeCounter}const tt={bracketL:createToken("[",{beforeExpr:beforeExpr,startsExpr:startsExpr}),bracketHashL:createToken("#[",{beforeExpr:beforeExpr,startsExpr:startsExpr}),bracketBarL:createToken("[|",{beforeExpr:beforeExpr,startsExpr:startsExpr}),bracketR:createToken("]"),bracketBarR:createToken("|]"),braceL:createToken("{",{beforeExpr:beforeExpr,startsExpr:startsExpr}),braceBarL:createToken("{|",{beforeExpr:beforeExpr,startsExpr:startsExpr}),braceHashL:createToken("#{",{beforeExpr:beforeExpr,startsExpr:startsExpr}),braceR:createToken("}"),braceBarR:createToken("|}"),parenL:createToken("(",{beforeExpr:beforeExpr,startsExpr:startsExpr}),parenR:createToken(")"),comma:createToken(",",{beforeExpr:beforeExpr}),semi:createToken(";",{beforeExpr:beforeExpr}),colon:createToken(":",{beforeExpr:beforeExpr}),doubleColon:createToken("::",{beforeExpr:beforeExpr}),dot:createToken("."),question:createToken("?",{beforeExpr:beforeExpr}),questionDot:createToken("?."),arrow:createToken("=>",{beforeExpr:beforeExpr}),template:createToken("template"),ellipsis:createToken("...",{beforeExpr:beforeExpr}),backQuote:createToken("`",{startsExpr:startsExpr}),dollarBraceL:createToken("${",{beforeExpr:beforeExpr,startsExpr:startsExpr}),templateTail:createToken("...`",{startsExpr:startsExpr}),templateNonTail:createToken("...${",{beforeExpr:beforeExpr,startsExpr:startsExpr}),at:createToken("@"),hash:createToken("#",{startsExpr:startsExpr}),interpreterDirective:createToken("#!..."),eq:createToken("=",{beforeExpr:beforeExpr,isAssign:isAssign}),assign:createToken("_=",{beforeExpr:beforeExpr,isAssign:isAssign}),slashAssign:createToken("_=",{beforeExpr:beforeExpr,isAssign:isAssign}),xorAssign:createToken("_=",{beforeExpr:beforeExpr,isAssign:isAssign}),moduloAssign:createToken("_=",{beforeExpr:beforeExpr,isAssign:isAssign}),incDec:createToken("++/--",{prefix:prefix,postfix:postfix,startsExpr:startsExpr}),bang:createToken("!",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),tilde:createToken("~",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),doubleCaret:createToken("^^",{startsExpr:startsExpr}),doubleAt:createToken("@@",{startsExpr:startsExpr}),pipeline:createBinop("|>",0),nullishCoalescing:createBinop("??",1),logicalOR:createBinop("||",1),logicalAND:createBinop("&&",2),bitwiseOR:createBinop("|",3),bitwiseXOR:createBinop("^",4),bitwiseAND:createBinop("&",5),equality:createBinop("==/!=/===/!==",6),lt:createBinop("</>/<=/>=",7),gt:createBinop("</>/<=/>=",7),relational:createBinop("</>/<=/>=",7),bitShift:createBinop("<</>>/>>>",8),bitShiftL:createBinop("<</>>/>>>",8),bitShiftR:createBinop("<</>>/>>>",8),plusMin:createToken("+/-",{beforeExpr:beforeExpr,binop:9,prefix:prefix,startsExpr:startsExpr}),modulo:createToken("%",{binop:10,startsExpr:startsExpr}),star:createToken("*",{binop:10}),slash:createBinop("/",10),exponent:createToken("**",{beforeExpr:beforeExpr,binop:11,rightAssociative:!0}),_in:createKeyword("in",{beforeExpr:beforeExpr,binop:7}),_instanceof:createKeyword("instanceof",{beforeExpr:beforeExpr,binop:7}),_break:createKeyword("break"),_case:createKeyword("case",{beforeExpr:beforeExpr}),_catch:createKeyword("catch"),_continue:createKeyword("continue"),_debugger:createKeyword("debugger"),_default:createKeyword("default",{beforeExpr:beforeExpr}),_else:createKeyword("else",{beforeExpr:beforeExpr}),_finally:createKeyword("finally"),_function:createKeyword("function",{startsExpr:startsExpr}),_if:createKeyword("if"),_return:createKeyword("return",{beforeExpr:beforeExpr}),_switch:createKeyword("switch"),_throw:createKeyword("throw",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),_try:createKeyword("try"),_var:createKeyword("var"),_const:createKeyword("const"),_with:createKeyword("with"),_new:createKeyword("new",{beforeExpr:beforeExpr,startsExpr:startsExpr}),_this:createKeyword("this",{startsExpr:startsExpr}),_super:createKeyword("super",{startsExpr:startsExpr}),_class:createKeyword("class",{startsExpr:startsExpr}),_extends:createKeyword("extends",{beforeExpr:beforeExpr}),_export:createKeyword("export"),_import:createKeyword("import",{startsExpr:startsExpr}),_null:createKeyword("null",{startsExpr:startsExpr}),_true:createKeyword("true",{startsExpr:startsExpr}),_false:createKeyword("false",{startsExpr:startsExpr}),_typeof:createKeyword("typeof",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),_void:createKeyword("void",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),_delete:createKeyword("delete",{beforeExpr:beforeExpr,prefix:prefix,startsExpr:startsExpr}),_do:createKeyword("do",{isLoop:isLoop,beforeExpr:beforeExpr}),_for:createKeyword("for",{isLoop:isLoop}),_while:createKeyword("while",{isLoop:isLoop}),_as:createKeywordLike("as",{startsExpr:startsExpr}),_assert:createKeywordLike("assert",{startsExpr:startsExpr}),_async:createKeywordLike("async",{startsExpr:startsExpr}),_await:createKeywordLike("await",{startsExpr:startsExpr}),_defer:createKeywordLike("defer",{startsExpr:startsExpr}),_from:createKeywordLike("from",{startsExpr:startsExpr}),_get:createKeywordLike("get",{startsExpr:startsExpr}),_let:createKeywordLike("let",{startsExpr:startsExpr}),_meta:createKeywordLike("meta",{startsExpr:startsExpr}),_of:createKeywordLike("of",{startsExpr:startsExpr}),_sent:createKeywordLike("sent",{startsExpr:startsExpr}),_set:createKeywordLike("set",{startsExpr:startsExpr}),_source:createKeywordLike("source",{startsExpr:startsExpr}),_static:createKeywordLike("static",{startsExpr:startsExpr}),_using:createKeywordLike("using",{startsExpr:startsExpr}),_yield:createKeywordLike("yield",{startsExpr:startsExpr}),_asserts:createKeywordLike("asserts",{startsExpr:startsExpr}),_checks:createKeywordLike("checks",{startsExpr:startsExpr}),_exports:createKeywordLike("exports",{startsExpr:startsExpr}),_global:createKeywordLike("global",{startsExpr:startsExpr}),_implements:createKeywordLike("implements",{startsExpr:startsExpr}),_intrinsic:createKeywordLike("intrinsic",{startsExpr:startsExpr}),_infer:createKeywordLike("infer",{startsExpr:startsExpr}),_is:createKeywordLike("is",{startsExpr:startsExpr}),_mixins:createKeywordLike("mixins",{startsExpr:startsExpr}),_proto:createKeywordLike("proto",{startsExpr:startsExpr}),_require:createKeywordLike("require",{startsExpr:startsExpr}),_satisfies:createKeywordLike("satisfies",{startsExpr:startsExpr}),_keyof:createKeywordLike("keyof",{startsExpr:startsExpr}),_readonly:createKeywordLike("readonly",{startsExpr:startsExpr}),_unique:createKeywordLike("unique",{startsExpr:startsExpr}),_abstract:createKeywordLike("abstract",{startsExpr:startsExpr}),_declare:createKeywordLike("declare",{startsExpr:startsExpr}),_enum:createKeywordLike("enum",{startsExpr:startsExpr}),_module:createKeywordLike("module",{startsExpr:startsExpr}),_namespace:createKeywordLike("namespace",{startsExpr:startsExpr}),_interface:createKeywordLike("interface",{startsExpr:startsExpr}),_type:createKeywordLike("type",{startsExpr:startsExpr}),_opaque:createKeywordLike("opaque",{startsExpr:startsExpr}),name:createToken("name",{startsExpr:startsExpr}),placeholder:createToken("%%",{startsExpr:!0}),string:createToken("string",{startsExpr:startsExpr}),num:createToken("num",{startsExpr:startsExpr}),bigint:createToken("bigint",{startsExpr:startsExpr}),decimal:createToken("decimal",{startsExpr:startsExpr}),regexp:createToken("regexp",{startsExpr:startsExpr}),privateName:createToken("#name",{startsExpr:startsExpr}),eof:createToken("eof"),jsxName:createToken("jsxName"),jsxText:createToken("jsxText",{beforeExpr:!0}),jsxTagStart:createToken("jsxTagStart",{startsExpr:!0}),jsxTagEnd:createToken("jsxTagEnd")};function tokenIsIdentifier(e){return e>=93&&e<=133}function tokenKeywordOrIdentifierIsKeyword(e){return e<=92}function tokenIsKeywordOrIdentifier(e){return e>=58&&e<=133}function tokenIsLiteralPropertyName(e){return e>=58&&e<=137}function tokenComesBeforeExpression(e){return tokenBeforeExprs[e]}function tokenCanStartExpression(e){return tokenStartsExprs[e]}function tokenIsAssignment(e){return e>=29&&e<=33}function tokenIsFlowInterfaceOrTypeOrOpaque(e){return e>=129&&e<=131}function tokenIsLoop(e){return e>=90&&e<=92}function tokenIsKeyword(e){return e>=58&&e<=92}function tokenIsOperator(e){return e>=39&&e<=59}function tokenIsPostfix(e){return 34===e}function tokenIsPrefix(e){return tokenPrefixes[e]}function tokenIsTSTypeOperator(e){return e>=121&&e<=123}function tokenIsTSDeclarationStart(e){return e>=124&&e<=130}function tokenLabelName(e){return tokenLabels[e]}function tokenOperatorPrecedence(e){return tokenBinops[e]}function tokenIsRightAssociative(e){return 57===e}function tokenIsTemplate(e){return e>=24&&e<=25}function getExportedToken(e){return tokenTypes[e]}tokenTypes[8].updateContext=e=>{e.pop()},tokenTypes[5].updateContext=tokenTypes[7].updateContext=tokenTypes[23].updateContext=e=>{e.push(types.brace)},tokenTypes[22].updateContext=e=>{e[e.length-1]===types.template?e.pop():e.push(types.template)},tokenTypes[143].updateContext=e=>{e.push(types.j_expr,types.j_oTag)};let nonASCIIidentifierStartChars="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nonASCIIidentifierChars="\xb7-----------------------------------------------------------------------------------------------------------------------------------------------------";const nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;const astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function isInAstralSet(e,t){let r=65536;for(let s=0,i=t.length;s<i;s+=2){if(r+=t[s],r>e)return!1;if(r+=t[s+1],r>=e)return!0}return!1}function isIdentifierStart(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):isInAstralSet(e,astralIdentifierStartCodes)))}function isIdentifierChar(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes))))}const reservedWords={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},keywords=new Set(reservedWords.keyword),reservedWordsStrictSet=new Set(reservedWords.strict),reservedWordsStrictBindSet=new Set(reservedWords.strictBind);function isReservedWord(e,t){return t&&"await"===e||"enum"===e}function isStrictReservedWord(e,t){return isReservedWord(e,t)||reservedWordsStrictSet.has(e)}function isStrictBindOnlyReservedWord(e){return reservedWordsStrictBindSet.has(e)}function isStrictBindReservedWord(e,t){return isStrictReservedWord(e,t)||isStrictBindOnlyReservedWord(e)}function isKeyword(e){return keywords.has(e)}function isIteratorStart(e,t,r){return 64===e&&64===t&&isIdentifierStart(r)}const reservedWordLikeSet=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function canBeReservedWord(e){return reservedWordLikeSet.has(e)}class Scope{constructor(e){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=e}}class ScopeHandler{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inTopLevel(){return(1&this.currentScope().flags)>0}get inFunction(){return(2&this.currentVarScopeFlags())>0}get allowSuper(){return(16&this.currentThisScopeFlags())>0}get allowDirectSuper(){return(32&this.currentThisScopeFlags())>0}get inClass(){return(64&this.currentThisScopeFlags())>0}get inClassAndNotInNonArrowFunction(){const e=this.currentThisScopeFlags();return(64&e)>0&&!(2&e)}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(128&t)return!0;if(451&t)return!1}}get inNonArrowFunction(){return(2&this.currentThisScopeFlags())>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new Scope(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(e){return!!(130&e.flags||!this.parser.inModule&&1&e.flags)}declareName(e,t,r){let s=this.currentScope();if(8&t||16&t){this.checkRedeclarationInScope(s,e,t,r);let i=s.names.get(e)||0;16&t?i|=4:(s.firstLexicalName||(s.firstLexicalName=e),i|=2),s.names.set(e,i),8&t&&this.maybeExportDefined(s,e)}else if(4&t)for(let i=this.scopeStack.length-1;i>=0&&(s=this.scopeStack[i],this.checkRedeclarationInScope(s,e,t,r),s.names.set(e,1|(s.names.get(e)||0)),this.maybeExportDefined(s,e),!(387&s.flags));--i);this.parser.inModule&&1&s.flags&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&1&e.flags&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,r,s){this.isRedeclaredInScope(e,t,r)&&this.parser.raise(Errors.VarRedeclaration,s,{identifierName:t})}isRedeclaredInScope(e,t,r){if(!(1&r))return!1;if(8&r)return e.names.has(t);const s=e.names.get(t);return 16&r?(2&s)>0||!this.treatFunctionsAsVarInScope(e)&&(1&s)>0:(2&s)>0&&!(8&e.flags&&e.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(e)&&(4&s)>0}checkLocalExport(e){const{name:t}=e;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(387&t)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){const{flags:t}=this.scopeStack[e];if(451&t&&!(4&t))return t}}}class FlowScope extends Scope{constructor(...e){super(...e),this.declareFunctions=new Set}}class FlowScopeHandler extends ScopeHandler{createScope(e){return new FlowScope(e)}declareName(e,t,r){const s=this.currentScope();if(2048&t)return this.checkRedeclarationInScope(s,e,t,r),this.maybeExportDefined(s,e),void s.declareFunctions.add(e);super.declareName(e,t,r)}isRedeclaredInScope(e,t,r){if(super.isRedeclaredInScope(e,t,r))return!0;if(2048&r&&!e.declareFunctions.has(t)){const r=e.names.get(t);return(4&r)>0||(2&r)>0}return!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}}class BaseParser{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(e){return e+this.startIndex}offsetToSourcePos(e){return e-this.startIndex}hasPlugin(e){if("string"==typeof e)return this.plugins.has(e);{const[t,r]=e;if(!this.hasPlugin(t))return!1;const s=this.plugins.get(t);for(const e of Object.keys(r))if((null==s?void 0:s[e])!==r[e])return!1;return!0}}getPluginOption(e,t){var r;return null==(r=this.plugins.get(e))?void 0:r[t]}}function setTrailingComments(e,t){void 0===e.trailingComments?e.trailingComments=t:e.trailingComments.unshift(...t)}function setLeadingComments(e,t){void 0===e.leadingComments?e.leadingComments=t:e.leadingComments.unshift(...t)}function setInnerComments(e,t){void 0===e.innerComments?e.innerComments=t:e.innerComments.unshift(...t)}function adjustInnerComments(e,t,r){let s=null,i=t.length;for(;null===s&&i>0;)s=t[--i];null===s||s.start>r.start?setInnerComments(e,r.comments):setTrailingComments(s,r.comments)}class CommentsParser extends BaseParser{addComment(e){this.filename&&(e.loc.filename=this.filename);const{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(e),this.state.commentsLen++}processComment(e){const{commentStack:t}=this.state,r=t.length;if(0===r)return;let s=r-1;const i=t[s];i.start===e.end&&(i.leadingNode=e,s--);const{start:n}=e;for(;s>=0;s--){const r=t[s],i=r.end;if(!(i>n)){i===n&&(r.trailingNode=e);break}r.containingNode=e,this.finalizeComment(r),t.splice(s,1)}}finalizeComment(e){const{comments:t}=e;if(null!==e.leadingNode||null!==e.trailingNode)null!==e.leadingNode&&setTrailingComments(e.leadingNode,t),null!==e.trailingNode&&setLeadingComments(e.trailingNode,t);else{const{containingNode:r,start:s}=e;if(44===this.input.charCodeAt(this.offsetToSourcePos(s)-1))switch(r.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":adjustInnerComments(r,r.properties,e);break;case"CallExpression":case"OptionalCallExpression":adjustInnerComments(r,r.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":adjustInnerComments(r,r.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":adjustInnerComments(r,r.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":adjustInnerComments(r,r.specifiers,e);break;default:setInnerComments(r,t)}else setInnerComments(r,t)}}finalizeRemainingComments(){const{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){const{commentStack:t}=this.state,{length:r}=t;if(0===r)return;const s=t[r-1];s.leadingNode===e&&(s.leadingNode=null)}resetPreviousIdentifierLeadingComments(e){const{commentStack:t}=this.state,{length:r}=t;0!==r&&(t[r-1].trailingNode===e?t[r-1].trailingNode=null:r>=2&&t[r-2].trailingNode===e&&(t[r-2].trailingNode=null))}takeSurroundingComments(e,t,r){const{commentStack:s}=this.state,i=s.length;if(0===i)return;let n=i-1;for(;n>=0;n--){const i=s[n],o=i.end;if(i.start===r)i.leadingNode=e;else if(o===t)i.trailingNode=e;else if(o<t)break}}}const lineBreak=/\r\n|[\r\n\u2028\u2029]/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function hasNewLine(e,t,r){for(let s=t;s<r;s++)if(isNewLine(e.charCodeAt(s)))return!0;return!1}const skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,skipWhiteSpaceInLine=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function isWhitespace(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}class State{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[types.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(1&this.flags)>0}set strict(e){e?this.flags|=1:this.flags&=-2}init({strictMode:e,sourceType:t,startIndex:r,startLine:s,startColumn:i}){this.strict=!1!==e&&(!0===e||"module"===t),this.startIndex=r,this.curLine=s,this.lineStart=-i,this.startLoc=this.endLoc=new Position(s,i,r)}get maybeInArrowParameters(){return(2&this.flags)>0}set maybeInArrowParameters(e){e?this.flags|=2:this.flags&=-3}get inType(){return(4&this.flags)>0}set inType(e){e?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(8&this.flags)>0}set noAnonFunctionType(e){e?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(16&this.flags)>0}set hasFlowComment(e){e?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(32&this.flags)>0}set isAmbientContext(e){e?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(64&this.flags)>0}set inAbstractClass(e){e?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(128&this.flags)>0}set inDisallowConditionalTypesContext(e){e?this.flags|=128:this.flags&=-129}get soloAwait(){return(256&this.flags)>0}set soloAwait(e){e?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(512&this.flags)>0}set inFSharpPipelineDirectBody(e){e?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(1024&this.flags)>0}set canStartJSXElement(e){e?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(2048&this.flags)>0}set containsEsc(e){e?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(4096&this.flags)>0}set hasTopLevelAwait(e){e?this.flags|=4096:this.flags&=-4097}curPosition(){return new Position(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){const e=new State;return e.flags=this.flags,e.startIndex=this.startIndex,e.curLine=this.curLine,e.lineStart=this.lineStart,e.startLoc=this.startLoc,e.endLoc=this.endLoc,e.errors=this.errors.slice(),e.potentialArrowAt=this.potentialArrowAt,e.noArrowAt=this.noArrowAt.slice(),e.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),e.topicContext=this.topicContext,e.labels=this.labels.slice(),e.commentsLen=this.commentsLen,e.commentStack=this.commentStack.slice(),e.pos=this.pos,e.type=this.type,e.value=this.value,e.start=this.start,e.end=this.end,e.lastTokEndLoc=this.lastTokEndLoc,e.lastTokStartLoc=this.lastTokStartLoc,e.context=this.context.slice(),e.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,e.strictErrors=this.strictErrors,e.tokensLength=this.tokensLength,e}}var _isDigit=function(e){return e>=48&&e<=57};const forbiddenNumericSeparatorSiblings={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},isAllowedNumericSeparatorSibling={bin:e=>48===e||49===e,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function readStringContents(e,t,r,s,i,n){const o=r,a=s,c=i;let l="",h=null,p=r;const{length:u}=t;for(;;){if(r>=u){n.unterminated(o,a,c),l+=t.slice(p,r);break}const d=t.charCodeAt(r);if(isStringEnd(e,d,t,r)){l+=t.slice(p,r);break}if(92===d){l+=t.slice(p,r);const o=readEscapedChar(t,r,s,i,"template"===e,n);null!==o.ch||h?l+=o.ch:h={pos:r,lineStart:s,curLine:i},({pos:r,lineStart:s,curLine:i}=o),p=r}else 8232===d||8233===d?(++i,s=++r):10===d||13===d?"template"===e?(l+=t.slice(p,r)+"\n",++r,13===d&&10===t.charCodeAt(r)&&++r,++i,p=s=r):n.unterminated(o,a,c):++r}return{pos:r,str:l,firstInvalidLoc:h,lineStart:s,curLine:i,containsInvalid:!!h}}function isStringEnd(e,t,r,s){return"template"===e?96===t||36===t&&123===r.charCodeAt(s+1):t===("double"===e?34:39)}function readEscapedChar(e,t,r,s,i,n){const o=!i;t++;const a=e=>({pos:t,ch:e,lineStart:r,curLine:s}),c=e.charCodeAt(t++);switch(c){case 110:return a("\n");case 114:return a("\r");case 120:{let i;return({code:i,pos:t}=readHexChar(e,t,r,s,2,!1,o,n)),a(null===i?null:String.fromCharCode(i))}case 117:{let i;return({code:i,pos:t}=readCodePoint(e,t,r,s,o,n)),a(null===i?null:String.fromCodePoint(i))}case 116:return a("	");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:10===e.charCodeAt(t)&&++t;case 10:r=t,++s;case 8232:case 8233:return a("");case 56:case 57:if(i)return a(null);n.strictNumericEscape(t-1,r,s);default:if(c>=48&&c<=55){const o=t-1;let c=/^[0-7]+/.exec(e.slice(o,t+2))[0],l=parseInt(c,8);l>255&&(c=c.slice(0,-1),l=parseInt(c,8)),t+=c.length-1;const h=e.charCodeAt(t);if("0"!==c||56===h||57===h){if(i)return a(null);n.strictNumericEscape(o,r,s)}return a(String.fromCharCode(l))}return a(String.fromCharCode(c))}}function readHexChar(e,t,r,s,i,n,o,a){const c=t;let l;return({n:l,pos:t}=readInt(e,t,r,s,16,i,n,!1,a,!o)),null===l&&(o?a.invalidEscapeSequence(c,r,s):t=c-1),{code:l,pos:t}}function readInt(e,t,r,s,i,n,o,a,c,l){const h=t,p=16===i?forbiddenNumericSeparatorSiblings.hex:forbiddenNumericSeparatorSiblings.decBinOct,u=16===i?isAllowedNumericSeparatorSibling.hex:10===i?isAllowedNumericSeparatorSibling.dec:8===i?isAllowedNumericSeparatorSibling.oct:isAllowedNumericSeparatorSibling.bin;let d=!1,f=0;for(let m=0,y=null==n?1/0:n;m<y;++m){const n=e.charCodeAt(t);let h;if(95!==n||"bail"===a){if(h=n>=97?n-97+10:n>=65?n-65+10:_isDigit(n)?n-48:1/0,h>=i){if(h<=9&&l)return{n:null,pos:t};if(h<=9&&c.invalidDigit(t,r,s,i))h=0;else{if(!o)break;h=0,d=!0}}++t,f=f*i+h}else{const i=e.charCodeAt(t-1),n=e.charCodeAt(t+1);if(a){if(Number.isNaN(n)||!u(n)||p.has(i)||p.has(n)){if(l)return{n:null,pos:t};c.unexpectedNumericSeparator(t,r,s)}}else{if(l)return{n:null,pos:t};c.numericSeparatorInEscapeSequence(t,r,s)}++t}}return t===h||null!=n&&t-h!==n||d?{n:null,pos:t}:{n:f,pos:t}}function readCodePoint(e,t,r,s,i,n){let o;if(123===e.charCodeAt(t)){if(++t,({code:o,pos:t}=readHexChar(e,t,r,s,e.indexOf("}",t)-t,!0,i,n)),++t,null!==o&&o>1114111){if(!i)return{code:null,pos:t};n.invalidCodePoint(t,r,s)}}else({code:o,pos:t}=readHexChar(e,t,r,s,4,!1,i,n));return{code:o,pos:t}}function buildPosition(e,t,r){return new Position(r,e-t,e)}const VALID_REGEX_FLAGS=new Set([103,109,115,105,121,117,100,118]);class Token{constructor(e){const t=e.startIndex||0;this.type=e.type,this.value=e.value,this.start=t+e.start,this.end=t+e.end,this.loc=new SourceLocation(e.startLoc,e.endLoc)}}class Tokenizer extends CommentsParser{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(e,t,r,s)=>!!this.options.errorRecovery&&(this.raise(Errors.InvalidDigit,buildPosition(e,t,r),{radix:s}),!0),numericSeparatorInEscapeSequence:this.errorBuilder(Errors.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(Errors.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(Errors.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(Errors.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(e,t,r)=>{this.recordStrictModeErrors(Errors.StrictNumericEscape,buildPosition(e,t,r))},unterminated:(e,t,r)=>{throw this.raise(Errors.UnterminatedString,buildPosition(e-1,t,r))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(Errors.StrictNumericEscape),unterminated:(e,t,r)=>{throw this.raise(Errors.UnterminatedTemplate,buildPosition(e,t,r))}}),this.state=new State,this.state.init(e),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new Token(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return!!this.match(e)&&(this.next(),!0)}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){const e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;const t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return skipWhiteSpace.lastIndex=e,skipWhiteSpace.test(this.input)?skipWhiteSpace.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(e){return skipWhiteSpaceInLine.lastIndex=e,skipWhiteSpaceInLine.test(this.input)?skipWhiteSpaceInLine.lastIndex:e}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if(55296==(64512&t)&&++e<this.input.length){const r=this.input.charCodeAt(e);56320==(64512&r)&&(t=65536+((1023&t)<<10)+(1023&r))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach((([e,t])=>this.raise(e,t))),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length?this.finishToken(140):this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(e){let t;this.isLookahead||(t=this.state.curPosition());const r=this.state.pos,s=this.input.indexOf(e,r+2);if(-1===s)throw this.raise(Errors.UnterminatedComment,this.state.curPosition());for(this.state.pos=s+e.length,lineBreakG.lastIndex=r+2;lineBreakG.test(this.input)&&lineBreakG.lastIndex<=s;)++this.state.curLine,this.state.lineStart=lineBreakG.lastIndex;if(this.isLookahead)return;const i={type:"CommentBlock",value:this.input.slice(r+2,s),start:this.sourceToOffsetPos(r),end:this.sourceToOffsetPos(s+e.length),loc:new SourceLocation(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(i),i}skipLineComment(e){const t=this.state.pos;let r;this.isLookahead||(r=this.state.curPosition());let s=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!isNewLine(s)&&++this.state.pos<this.length;)s=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;const i=this.state.pos,n={type:"CommentLine",value:this.input.slice(t+e,i),start:this.sourceToOffsetPos(t),end:this.sourceToOffsetPos(i),loc:new SourceLocation(r,this.state.curPosition())};return this.options.tokens&&this.pushToken(n),n}skipSpace(){const e=this.state.pos,t=[];e:for(;this.state.pos<this.length;){const r=this.input.charCodeAt(this.state.pos);switch(r){case 32:case 160:case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{const e=this.skipBlockComment("*/");void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}case 47:{const e=this.skipLineComment(2);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e));break}default:break e}break;default:if(isWhitespace(r))++this.state.pos;else if(45===r&&!this.inModule&&this.options.annexB){const r=this.state.pos;if(45!==this.input.charCodeAt(r+1)||62!==this.input.charCodeAt(r+2)||!(0===e||this.state.lineStart>e))break e;{const e=this.skipLineComment(3);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}else{if(60!==r||this.inModule||!this.options.annexB)break e;{const e=this.state.pos;if(33!==this.input.charCodeAt(e+1)||45!==this.input.charCodeAt(e+2)||45!==this.input.charCodeAt(e+3))break e;{const e=this.skipLineComment(4);void 0!==e&&(this.addComment(e),this.options.attachComment&&t.push(e))}}}}}if(t.length>0){const r=this.state.pos,s={start:this.sourceToOffsetPos(e),end:this.sourceToOffsetPos(r),comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(s)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();const r=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(r)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(0===this.state.pos&&this.readToken_interpreter())return;const e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(Errors.UnexpectedDigitAfterHash,this.state.curPosition());if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"bar"===this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(123===t?Errors.RecordExpressionHashIncorrectStartSyntaxType:Errors.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,123===t?this.finishToken(7):this.finishToken(1)}else isIdentifierStart(t)?(++this.state.pos,this.finishToken(139,this.readWord1(t))):92===t?(++this.state.pos,this.finishToken(139,this.readWord1())):this.finishOp(27,1)}readToken_dot(){const e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(0!==this.state.pos||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;const t=this.state.pos;for(this.state.pos+=1;!isNewLine(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);const r=this.input.slice(t+2,this.state.pos);return this.finishToken(28,r),!0}readToken_mult_modulo(e){let t=42===e?55:54,r=1,s=this.input.charCodeAt(this.state.pos+1);42===e&&42===s&&(r++,s=this.input.charCodeAt(this.state.pos+2),t=57),61!==s||this.state.inType||(r++,t=37===e?33:30),this.finishOp(t,r)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(39,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(Errors.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(9)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(Errors.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());return this.state.pos+=2,void this.finishToken(4)}}61!==t?this.finishOp(124===e?43:45,1):this.finishOp(30,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(30,3):this.finishOp(124===e?41:42,2)}readToken_caret(){const e=this.input.charCodeAt(this.state.pos+1);if(61!==e||this.state.inType)if(94===e&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])){this.finishOp(37,2);94===this.input.codePointAt(this.state.pos)&&this.unexpected()}else this.finishOp(44,1);else this.finishOp(32,2)}readToken_atSign(){64===this.input.charCodeAt(this.state.pos+1)&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){const t=this.input.charCodeAt(this.state.pos+1);t!==e?61===t?this.finishOp(30,2):this.finishOp(53,1):this.finishOp(34,2)}readToken_lt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(60===t)return 61===this.input.charCodeAt(e+2)?void this.finishOp(30,3):void this.finishOp(51,2);61!==t?this.finishOp(47,1):this.finishOp(49,2)}readToken_gt(){const{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(62===t){const t=62===this.input.charCodeAt(e+2)?3:2;return 61===this.input.charCodeAt(e+t)?void this.finishOp(30,t+1):void this.finishOp(52,t)}61!==t?this.finishOp(48,1):this.finishOp(49,2)}readToken_eq_excl(e){const t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(19)):void this.finishOp(61===e?29:35,1);this.finishOp(46,61===this.input.charCodeAt(this.state.pos+2)?3:2)}readToken_question(){const e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(30,3):this.finishOp(40,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(17)):(this.state.pos+=2,this.finishToken(18))}getTokenFromCode(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(10);case 41:return++this.state.pos,void this.finishToken(11);case 59:return++this.state.pos,void this.finishToken(13);case 44:return++this.state.pos,void this.finishToken(12);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(Errors.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:return++this.state.pos,void this.finishToken(3);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(Errors.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:return++this.state.pos,void this.finishToken(8);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(15,2):(++this.state.pos,this.finishToken(14)));case 63:return void this.readToken_question();case 96:return void this.readTemplateToken();case 48:{const e=this.input.charCodeAt(this.state.pos+1);if(120===e||88===e)return void this.readRadixNumber(16);if(111===e||79===e)return void this.readRadixNumber(8);if(98===e||66===e)return void this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:return void this.readToken_lt();case 62:return void this.readToken_gt();case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(36,1);case 64:return void this.readToken_atSign();case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(isIdentifierStart(e))return void this.readWord(e)}throw this.raise(Errors.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(e)})}finishOp(e,t){const r=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,r)}readRegexp(){const e=this.state.startLoc,t=this.state.start+1;let r,s,{pos:i}=this.state;for(;;++i){if(i>=this.length)throw this.raise(Errors.UnterminatedRegExp,createPositionWithColumnOffset(e,1));const t=this.input.charCodeAt(i);if(isNewLine(t))throw this.raise(Errors.UnterminatedRegExp,createPositionWithColumnOffset(e,1));if(r)r=!1;else{if(91===t)s=!0;else if(93===t&&s)s=!1;else if(47===t&&!s)break;r=92===t}}const n=this.input.slice(t,i);++i;let o="";const a=()=>createPositionWithColumnOffset(e,i+2-t);for(;i<this.length;){const e=this.codePointAtPos(i),t=String.fromCharCode(e);if(VALID_REGEX_FLAGS.has(e))118===e?o.includes("u")&&this.raise(Errors.IncompatibleRegExpUVFlags,a()):117===e&&o.includes("v")&&this.raise(Errors.IncompatibleRegExpUVFlags,a()),o.includes(t)&&this.raise(Errors.DuplicateRegExpFlags,a());else{if(!isIdentifierChar(e)&&92!==e)break;this.raise(Errors.MalformedRegExpFlags,a())}++i,o+=t}this.state.pos=i,this.finishToken(138,{pattern:n,flags:o})}readInt(e,t,r=!1,s=!0){const{n:i,pos:n}=readInt(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,r,s,this.errorHandlers_readInt,!1);return this.state.pos=n,i}readRadixNumber(e){const t=this.state.pos,r=this.state.curPosition();let s=!1;this.state.pos+=2;const i=this.readInt(e);null==i&&this.raise(Errors.InvalidDigit,createPositionWithColumnOffset(r,2),{radix:e});const n=this.input.charCodeAt(this.state.pos);if(110===n)++this.state.pos,s=!0;else if(109===n)throw this.raise(Errors.InvalidDecimal,r);if(isIdentifierStart(this.codePointAtPos(this.state.pos)))throw this.raise(Errors.NumberIdentifier,this.state.curPosition());if(s){const e=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,e)}else this.finishToken(135,i)}readNumber(e){const t=this.state.pos,r=this.state.curPosition();let s=!1,i=!1,n=!1,o=!1;e||null!==this.readInt(10)||this.raise(Errors.InvalidNumber,this.state.curPosition());const a=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(a){const e=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(Errors.StrictOctalLiteral,r),!this.state.strict){const t=e.indexOf("_");t>0&&this.raise(Errors.ZeroDigitNumericSeparator,createPositionWithColumnOffset(r,t))}o=a&&!/[89]/.test(e)}let c=this.input.charCodeAt(this.state.pos);if(46!==c||o||(++this.state.pos,this.readInt(10),s=!0,c=this.input.charCodeAt(this.state.pos)),69!==c&&101!==c||o||(c=this.input.charCodeAt(++this.state.pos),43!==c&&45!==c||++this.state.pos,null===this.readInt(10)&&this.raise(Errors.InvalidOrMissingExponent,r),s=!0,n=!0,c=this.input.charCodeAt(this.state.pos)),110===c&&((s||a)&&this.raise(Errors.InvalidBigIntLiteral,r),++this.state.pos,i=!0),109===c){this.expectPlugin("decimal",this.state.curPosition()),(n||a)&&this.raise(Errors.InvalidDecimal,r),++this.state.pos;var l=!0}if(isIdentifierStart(this.codePointAtPos(this.state.pos)))throw this.raise(Errors.NumberIdentifier,this.state.curPosition());const h=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(i)return void this.finishToken(136,h);if(l)return void this.finishToken(137,h);const p=o?parseInt(h,8):parseFloat(h);this.finishToken(135,p)}readCodePoint(e){const{code:t,pos:r}=readCodePoint(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=r,t}readString(e){const{str:t,pos:r,curLine:s,lineStart:i}=readStringContents(34===e?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=r+1,this.state.lineStart=i,this.state.curLine=s,this.finishToken(134,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){const e=this.input[this.state.pos],{str:t,firstInvalidLoc:r,pos:s,curLine:i,lineStart:n}=readStringContents("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=s+1,this.state.lineStart=n,this.state.curLine=i,r&&(this.state.firstInvalidTemplateEscapePos=new Position(r.curLine,r.pos-r.lineStart,this.sourceToOffsetPos(r.pos))),96===this.input.codePointAt(s)?this.finishToken(24,r?null:e+t+"`"):(this.state.pos++,this.finishToken(25,r?null:e+t+"${"))}recordStrictModeErrors(e,t){const r=t.index;this.state.strict&&!this.state.strictErrors.has(r)?this.raise(e,t):this.state.strictErrors.set(r,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="";const r=this.state.pos;let s=this.state.pos;for(void 0!==e&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){const e=this.codePointAtPos(this.state.pos);if(isIdentifierChar(e))this.state.pos+=e<=65535?1:2;else{if(92!==e)break;{this.state.containsEsc=!0,t+=this.input.slice(s,this.state.pos);const e=this.state.curPosition(),i=this.state.pos===r?isIdentifierStart:isIdentifierChar;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(Errors.MissingUnicodeEscape,this.state.curPosition()),s=this.state.pos-1;continue}++this.state.pos;const n=this.readCodePoint(!0);null!==n&&(i(n)||this.raise(Errors.EscapedCharNotAnIdentifier,e),t+=String.fromCodePoint(n)),s=this.state.pos}}}return t+this.input.slice(s,this.state.pos)}readWord(e){const t=this.readWord1(e),r=keywords$1.get(t);void 0!==r?this.finishToken(r,tokenLabelName(r)):this.finishToken(132,t)}checkKeywordEscapes(){const{type:e}=this.state;tokenIsKeyword(e)&&this.state.containsEsc&&this.raise(Errors.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:tokenLabelName(e)})}raise(e,t,r={}){const s=e(t instanceof Position?t:t.loc.start,r);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(e,t,r={}){const s=t instanceof Position?t:t.loc.start,i=s.index,n=this.state.errors;for(let o=n.length-1;o>=0;o--){const t=n[o];if(t.loc.index===i)return n[o]=e(s,r);if(t.loc.index<i)break}return this.raise(e,t,r)}updateContext(e){}unexpected(e,t){throw this.raise(Errors.UnexpectedToken,null!=e?e:this.state.startLoc,{expected:t?tokenLabelName(t):null})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(Errors.MissingPlugin,null!=t?t:this.state.startLoc,{missingPlugin:[e]})}expectOnePlugin(e){if(!e.some((e=>this.hasPlugin(e))))throw this.raise(Errors.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:e})}errorBuilder(e){return(t,r,s)=>{this.raise(e,buildPosition(t,r,s))}}}class ClassScope{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class ClassScopeHandler{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new ClassScope)}exit(){const e=this.stack.pop(),t=this.current();for(const[r,s]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(r)||t.undefinedPrivateNames.set(r,s):this.parser.raise(Errors.InvalidPrivateFieldResolution,s,{identifierName:r})}declarePrivateName(e,t,r){const{privateNames:s,loneAccessors:i,undefinedPrivateNames:n}=this.current();let o=s.has(e);if(3&t){const r=o&&i.get(e);if(r){o=(3&r)===(3&t)||(4&r)!==(4&t),o||i.delete(e)}else o||i.set(e,t)}o&&this.parser.raise(Errors.PrivateNameRedeclaration,r,{identifierName:e}),s.add(e),n.delete(e)}usePrivateName(e,t){let r;for(r of this.stack)if(r.privateNames.has(e))return;r?r.undefinedPrivateNames.set(e,t):this.parser.raise(Errors.InvalidPrivateFieldResolution,t,{identifierName:e})}}class ExpressionScope{constructor(e=0){this.type=e}canBeArrowParameterDeclaration(){return 2===this.type||1===this.type}isCertainlyParameterDeclaration(){return 3===this.type}}class ArrowHeadParsingScope extends ExpressionScope{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,t){const r=t.index;this.declarationErrors.set(r,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}}class ExpressionScopeHandler{constructor(e){this.parser=void 0,this.stack=[new ExpressionScope],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,t){const r=t.loc.start,{stack:s}=this;let i=s.length-1,n=s[i];for(;!n.isCertainlyParameterDeclaration();){if(!n.canBeArrowParameterDeclaration())return;n.recordDeclarationError(e,r),n=s[--i]}this.parser.raise(e,r)}recordArrowParameterBindingError(e,t){const{stack:r}=this,s=r[r.length-1],i=t.loc.start;if(s.isCertainlyParameterDeclaration())this.parser.raise(e,i);else{if(!s.canBeArrowParameterDeclaration())return;s.recordDeclarationError(e,i)}}recordAsyncArrowParametersError(e){const{stack:t}=this;let r=t.length-1,s=t[r];for(;s.canBeArrowParameterDeclaration();)2===s.type&&s.recordDeclarationError(Errors.AwaitBindingIdentifier,e),s=t[--r]}validateAsPattern(){const{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors((([t,r])=>{this.parser.raise(t,r);let s=e.length-2,i=e[s];for(;i.canBeArrowParameterDeclaration();)i.clearDeclarationError(r.index),i=e[--s]}))}}function newParameterDeclarationScope(){return new ExpressionScope(3)}function newArrowHeadScope(){return new ArrowHeadParsingScope(1)}function newAsyncArrowScope(){return new ArrowHeadParsingScope(2)}function newExpressionScope(){return new ExpressionScope}class ProductionParameterHandler{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(2&this.currentFlags())>0}get hasYield(){return(1&this.currentFlags())>0}get hasReturn(){return(4&this.currentFlags())>0}get hasIn(){return(8&this.currentFlags())>0}}function functionFlags(e,t){return(e?2:0)|(t?1:0)}class UtilParser extends Tokenizer{addExtra(e,t,r,s=!0){if(!e)return;let{extra:i}=e;null==i&&(i={},e.extra=i),s?i[t]=r:Object.defineProperty(i,t,{enumerable:s,value:r})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){const r=e+t.length;if(this.input.slice(e,r)===t){const e=this.input.charCodeAt(r);return!(isIdentifierChar(e)||55296==(64512&e))}return!1}isLookaheadContextual(e){const t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return!!this.isContextual(e)&&(this.next(),!0)}expectContextual(e,t){if(!this.eatContextual(e)){if(null!=t)throw this.raise(t,this.state.startLoc);this.unexpected(null,e)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return hasNewLine(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return hasNewLine(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(Errors.MissingSemicolon,this.state.lastTokEndLoc)}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){const r={node:null};try{const s=e(((e=null)=>{throw r.node=e,r}));if(this.state.errors.length>t.errors.length){const e=this.state;return this.state=t,this.state.tokensLength=e.tokensLength,{node:s,error:e.errors[t.errors.length],thrown:!1,aborted:!1,failState:e}}return{node:s,error:null,thrown:!1,aborted:!1,failState:null}}catch(s){const e=this.state;if(this.state=t,s instanceof SyntaxError)return{node:null,error:s,thrown:!0,aborted:!1,failState:e};if(s===r)return{node:r.node,error:null,thrown:!1,aborted:!0,failState:e};throw s}}checkExpressionErrors(e,t){if(!e)return!1;const{shorthandAssignLoc:r,doubleProtoLoc:s,privateKeyLoc:i,optionalParametersLoc:n}=e;if(!t)return!!(r||s||n||i);null!=r&&this.raise(Errors.InvalidCoverInitializedName,r),null!=s&&this.raise(Errors.DuplicateProto,s),null!=i&&this.raise(Errors.UnexpectedPrivateField,i),null!=n&&this.unexpected(n)}isLiteralPropertyName(){return tokenIsLiteralPropertyName(this.state.type)}isPrivateName(e){return"PrivateName"===e.type}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return("MemberExpression"===e.type||"OptionalMemberExpression"===e.type)&&this.isPrivateName(e.property)}isObjectProperty(e){return"ObjectProperty"===e.type}isObjectMethod(e){return"ObjectMethod"===e.type}initializeScopes(e="module"===this.options.sourceType){const t=this.state.labels;this.state.labels=[];const r=this.exportedIdentifiers;this.exportedIdentifiers=new Set;const s=this.inModule;this.inModule=e;const i=this.scope,n=this.getScopeHandler();this.scope=new n(this,e);const o=this.prodParam;this.prodParam=new ProductionParameterHandler;const a=this.classScope;this.classScope=new ClassScopeHandler(this);const c=this.expressionScope;return this.expressionScope=new ExpressionScopeHandler(this),()=>{this.state.labels=t,this.exportedIdentifiers=r,this.inModule=s,this.scope=i,this.prodParam=o,this.classScope=a,this.expressionScope=c}}enterInitialScopes(){let e=0;this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e)}checkDestructuringPrivate(e){const{privateKeyLoc:t}=e;null!==t&&this.expectPlugin("destructuringPrivate",t)}}class ExpressionErrors{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}}class Node{constructor(e,t,r){this.type="",this.start=t,this.end=0,this.loc=new SourceLocation(r),null!=e&&e.options.ranges&&(this.range=[t,0]),null!=e&&e.filename&&(this.loc.filename=e.filename)}}const NodePrototype=Node.prototype;function clonePlaceholder(e){return cloneIdentifier(e)}function cloneIdentifier(e){const{type:t,start:r,end:s,loc:i,range:n,extra:o,name:a}=e,c=Object.create(NodePrototype);return c.type=t,c.start=r,c.end=s,c.loc=i,c.range=n,c.extra=o,c.name=a,"Placeholder"===t&&(c.expectedNode=e.expectedNode),c}function cloneStringLiteral(e){const{type:t,start:r,end:s,loc:i,range:n,extra:o}=e;if("Placeholder"===t)return clonePlaceholder(e);const a=Object.create(NodePrototype);return a.type=t,a.start=r,a.end=s,a.loc=i,a.range=n,void 0!==e.raw?a.raw=e.raw:a.extra=o,a.value=e.value,a}NodePrototype.__clone=function(){const e=new Node(void 0,this.start,this.loc.start),t=Object.keys(this);for(let r=0,s=t.length;r<s;r++){const s=t[r];"leadingComments"!==s&&"trailingComments"!==s&&"innerComments"!==s&&(e[s]=this[s])}return e};class NodeUtils extends UtilParser{startNode(){const e=this.state.startLoc;return new Node(this,e.index,e)}startNodeAt(e){return new Node(this,e.index,e)}startNodeAtNode(e){return this.startNodeAt(e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,r){return e.type=t,e.end=r.index,e.loc.end=r,this.options.ranges&&(e.range[1]=r.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t){e.start=t.index,e.loc.start=t,this.options.ranges&&(e.range[0]=t.index)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,this.options.ranges&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.loc.start)}}const reservedTypes=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),FlowErrors=ParseErrorEnum`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:t})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${t}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:t})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${t}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:t})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${t}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:t,explicitType:r})=>`Enum \`${e}\` has type \`${r}\`, so the initializer of \`${t}\` needs to be a ${r} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:t})=>`Symbol enum members cannot be initialized. Use \`${t},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:t})=>`The enum member initializer for \`${t}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:t,suggestion:r})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${t}\`, consider using \`${r}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:t})=>`Number enum members need to be initialized, e.g. \`${t} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:t})=>`\`declare export ${e}\` is not supported. Use \`${t}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function isEsModuleType(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}function hasTypeImportKind(e){return"type"===e.importKind||"typeof"===e.importKind}const exportSuggestions={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function partition(e,t){const r=[],s=[];for(let i=0;i<e.length;i++)(t(e[i],i,e)?r:s).push(e[i]);return[r,s]}const FLOW_PRAGMA_REGEX=/\*?\s*@((?:no)?flow)\b/;var flow=e=>class extends e{constructor(...e){super(...e),this.flowPragma=void 0}getScopeHandler(){return FlowScopeHandler}shouldParseTypes(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma}finishToken(e,t){134!==e&&13!==e&&28!==e&&void 0===this.flowPragma&&(this.flowPragma=null),super.finishToken(e,t)}addComment(e){if(void 0===this.flowPragma){const t=FLOW_PRAGMA_REGEX.exec(e.value);if(t)if("flow"===t[1])this.flowPragma="flow";else{if("noflow"!==t[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}else;}super.addComment(e)}flowParseTypeInitialiser(e){const t=this.state.inType;this.state.inType=!0,this.expect(e||14);const r=this.flowParseType();return this.state.inType=t,r}flowParsePredicate(){const e=this.startNode(),t=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>t.index+1&&this.raise(FlowErrors.UnexpectedSpaceBetweenModuloChecks,t),this.eat(10)?(e.value=super.parseExpression(),this.expect(11),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){const e=this.state.inType;this.state.inType=!0,this.expect(14);let t=null,r=null;return this.match(54)?(this.state.inType=e,r=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(54)&&(r=this.flowParsePredicate())),[t,r]}flowParseDeclareClass(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")}flowParseDeclareFunction(e){this.next();const t=e.id=this.parseIdentifier(),r=this.startNode(),s=this.startNode();this.match(47)?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,this.expect(10);const i=this.flowParseFunctionTypeParams();return r.params=i.params,r.rest=i.rest,r.this=i._this,this.expect(11),[r.returnType,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(r,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.scope.declareName(e.id.name,2048,e.id.loc.start),this.finishNode(e,"DeclareFunction")}flowParseDeclare(e,t){return this.match(80)?this.flowParseDeclareClass(e):this.match(68)?this.flowParseDeclareFunction(e):this.match(74)?this.flowParseDeclareVariable(e):this.eatContextual(127)?this.match(16)?this.flowParseDeclareModuleExports(e):(t&&this.raise(FlowErrors.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(e)):this.isContextual(130)?this.flowParseDeclareTypeAlias(e):this.isContextual(131)?this.flowParseDeclareOpaqueType(e):this.isContextual(129)?this.flowParseDeclareInterface(e):this.match(82)?this.flowParseDeclareExportDeclaration(e,t):void this.unexpected()}flowParseDeclareVariable(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.loc.start),this.semicolon(),this.finishNode(e,"DeclareVariable")}flowParseDeclareModule(e){this.scope.enter(0),this.match(134)?e.id=super.parseExprAtom():e.id=this.parseIdentifier();const t=e.body=this.startNode(),r=t.body=[];for(this.expect(5);!this.match(8);){let e=this.startNode();this.match(83)?(this.next(),this.isContextual(130)||this.match(87)||this.raise(FlowErrors.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(e)):(this.expectContextual(125,FlowErrors.UnsupportedStatementInDeclareModule),e=this.flowParseDeclare(e,!0)),r.push(e)}this.scope.exit(),this.expect(8),this.finishNode(t,"BlockStatement");let s=null,i=!1;return r.forEach((e=>{isEsModuleType(e)?("CommonJS"===s&&this.raise(FlowErrors.AmbiguousDeclareModuleKind,e),s="ES"):"DeclareModuleExports"===e.type&&(i&&this.raise(FlowErrors.DuplicateDeclareModuleExports,e),"ES"===s&&this.raise(FlowErrors.AmbiguousDeclareModuleKind,e),s="CommonJS",i=!0)})),e.kind=s||"CommonJS",this.finishNode(e,"DeclareModule")}flowParseDeclareExportDeclaration(e,t){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!t){const e=this.state.value;throw this.raise(FlowErrors.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:e,suggestion:exportSuggestions[e]})}return this.match(74)||this.match(68)||this.match(80)||this.isContextual(131)?(e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration")):this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131)?("ExportNamedDeclaration"===(e=this.parseExport(e,null)).type&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e):void this.unexpected()}flowParseDeclareModuleExports(e){return this.next(),this.expectContextual(111),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")}flowParseDeclareTypeAlias(e){this.next();const t=this.flowParseTypeAlias(e);return t.type="DeclareTypeAlias",t}flowParseDeclareOpaqueType(e){this.next();const t=this.flowParseOpaqueType(e,!0);return t.type="DeclareOpaqueType",t}flowParseDeclareInterface(e){return this.next(),this.flowParseInterfaceish(e,!1),this.finishNode(e,"DeclareInterface")}flowParseInterfaceish(e,t){if(e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(12));if(t){if(e.implements=[],e.mixins=[],this.eatContextual(117))do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(12));if(this.eatContextual(113))do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(12))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})}flowParseInterfaceExtends(){const e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")}flowParseInterface(e){return this.flowParseInterfaceish(e,!1),this.finishNode(e,"InterfaceDeclaration")}checkNotUnderscore(e){"_"===e&&this.raise(FlowErrors.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(e,t,r){reservedTypes.has(e)&&this.raise(r?FlowErrors.AssignReservedType:FlowErrors.UnexpectedReservedType,t,{reservedType:e})}flowParseRestrictedIdentifier(e,t){return this.checkReservedType(this.state.value,this.state.startLoc,t),this.parseIdentifier(e)}flowParseTypeAlias(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(e,"TypeAlias")}flowParseOpaqueType(e,t){return this.expectContextual(130),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,8201,e.id.loc.start),this.match(47)?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(14)&&(e.supertype=this.flowParseTypeInitialiser(14)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(e,"OpaqueType")}flowParseTypeParameter(e=!1){const t=this.state.startLoc,r=this.startNode(),s=this.flowParseVariance(),i=this.flowParseTypeAnnotatableIdentifier();return r.name=i.name,r.variance=s,r.bound=i.typeAnnotation,this.match(29)?(this.eat(29),r.default=this.flowParseType()):e&&this.raise(FlowErrors.MissingTypeParamDefault,t),this.finishNode(r,"TypeParameter")}flowParseTypeParameterDeclaration(){const e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.match(47)||this.match(143)?this.next():this.unexpected();let r=!1;do{const e=this.flowParseTypeParameter(r);t.params.push(e),e.default&&(r=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){const e=this.startNode(),t=this.state.inType;e.params=[],this.state.inType=!0,this.expect(47);const r=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)e.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=r,this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){const e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")}flowParseInterfaceType(){const e=this.startNode();if(this.expectContextual(129),e.extends=[],this.eat(81))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(12));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(e,t,r){return e.static=t,14===this.lookahead().type?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(3),e.value=this.flowParseTypeInitialiser(),e.variance=r,this.finishNode(e,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start))):(e.method=!1,this.eat(17)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(e){for(e.params=[],e.rest=null,e.typeParameters=null,e.this=null,this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(e.this=this.flowParseFunctionTypeParam(!0),e.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(e.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(e,t){const r=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(r),this.finishNode(e,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:e,allowExact:t,allowSpread:r,allowProto:s,allowInexact:i}){const n=this.state.inType;this.state.inType=!0;const o=this.startNode();let a,c;o.callProperties=[],o.properties=[],o.indexers=[],o.internalSlots=[];let l=!1;for(t&&this.match(6)?(this.expect(6),a=9,c=!0):(this.expect(5),a=8,c=!1),o.exact=c;!this.match(a);){let t=!1,n=null,a=null;const h=this.startNode();if(s&&this.isContextual(118)){const t=this.lookahead();14!==t.type&&17!==t.type&&(this.next(),n=this.state.startLoc,e=!1)}if(e&&this.isContextual(106)){const e=this.lookahead();14!==e.type&&17!==e.type&&(this.next(),t=!0)}const p=this.flowParseVariance();if(this.eat(0))null!=n&&this.unexpected(n),this.eat(0)?(p&&this.unexpected(p.loc.start),o.internalSlots.push(this.flowParseObjectTypeInternalSlot(h,t))):o.indexers.push(this.flowParseObjectTypeIndexer(h,t,p));else if(this.match(10)||this.match(47))null!=n&&this.unexpected(n),p&&this.unexpected(p.loc.start),o.callProperties.push(this.flowParseObjectTypeCallProperty(h,t));else{let e="init";if(this.isContextual(99)||this.isContextual(104)){tokenIsLiteralPropertyName(this.lookahead().type)&&(e=this.state.value,this.next())}const s=this.flowParseObjectTypeProperty(h,t,n,p,e,r,null!=i?i:!c);null===s?(l=!0,a=this.state.lastTokStartLoc):o.properties.push(s)}this.flowObjectTypeSemicolon(),!a||this.match(8)||this.match(9)||this.raise(FlowErrors.UnexpectedExplicitInexactInObject,a)}this.expect(a),r&&(o.inexact=l);const h=this.finishNode(o,"ObjectTypeAnnotation");return this.state.inType=n,h}flowParseObjectTypeProperty(e,t,r,s,i,n,o){if(this.eat(21)){return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(n?o||this.raise(FlowErrors.InexactInsideExact,this.state.lastTokStartLoc):this.raise(FlowErrors.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(FlowErrors.InexactVariance,s),null):(n||this.raise(FlowErrors.UnexpectedSpreadType,this.state.lastTokStartLoc),null!=r&&this.unexpected(r),s&&this.raise(FlowErrors.SpreadVariance,s),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"))}{e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=r,e.kind=i;let o=!1;return this.match(47)||this.match(10)?(e.method=!0,null!=r&&this.unexpected(r),s&&this.unexpected(s.loc.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.loc.start)),"get"!==i&&"set"!==i||this.flowCheckGetterSetterParams(e),!n&&"constructor"===e.key.name&&e.value.this&&this.raise(FlowErrors.ThisParamBannedInConstructor,e.value.this)):("init"!==i&&this.unexpected(),e.method=!1,this.eat(17)&&(o=!0),e.value=this.flowParseTypeInitialiser(),e.variance=s),e.optional=o,this.finishNode(e,"ObjectTypeProperty")}}flowCheckGetterSetterParams(e){const t="get"===e.kind?0:1,r=e.value.params.length+(e.value.rest?1:0);e.value.this&&this.raise("get"===e.kind?FlowErrors.GetterMayNotHaveThisParam:FlowErrors.SetterMayNotHaveThisParam,e.value.this),r!==t&&this.raise("get"===e.kind?Errors.BadGetterArity:Errors.BadSetterArity,e),"set"===e.kind&&e.value.rest&&this.raise(Errors.BadSetterRestParameter,e)}flowObjectTypeSemicolon(){this.eat(13)||this.eat(12)||this.match(8)||this.match(9)||this.unexpected()}flowParseQualifiedTypeIdentifier(e,t){null!=e||(e=this.state.startLoc);let r=t||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){const t=this.startNodeAt(e);t.qualification=r,t.id=this.flowParseRestrictedIdentifier(!0),r=this.finishNode(t,"QualifiedTypeIdentifier")}return r}flowParseGenericType(e,t){const r=this.startNodeAt(e);return r.typeParameters=null,r.id=this.flowParseQualifiedTypeIdentifier(e,t),this.match(47)&&(r.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(r,"GenericTypeAnnotation")}flowParseTypeofType(){const e=this.startNode();return this.expect(87),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")}flowParseTupleType(){const e=this.startNode();for(e.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(e.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(e,"TupleTypeAnnotation")}flowParseFunctionTypeParam(e){let t=null,r=!1,s=null;const i=this.startNode(),n=this.lookahead(),o=78===this.state.type;return 14===n.type||17===n.type?(o&&!e&&this.raise(FlowErrors.ThisParamMustBeFirst,i),t=this.parseIdentifier(o),this.eat(17)&&(r=!0,o&&this.raise(FlowErrors.ThisParamMayNotBeOptional,i)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),i.name=t,i.optional=r,i.typeAnnotation=s,this.finishNode(i,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(e){const t=this.startNodeAt(e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")}flowParseFunctionTypeParams(e=[]){let t=null,r=null;for(this.match(78)&&(r=this.flowParseFunctionTypeParam(!0),r.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)e.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t=this.flowParseFunctionTypeParam(!1)),{params:e,rest:t,_this:r}}flowIdentToTypeAnnotation(e,t,r){switch(r.name){case"any":return this.finishNode(t,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(t,"BooleanTypeAnnotation");case"mixed":return this.finishNode(t,"MixedTypeAnnotation");case"empty":return this.finishNode(t,"EmptyTypeAnnotation");case"number":return this.finishNode(t,"NumberTypeAnnotation");case"string":return this.finishNode(t,"StringTypeAnnotation");case"symbol":return this.finishNode(t,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(r.name),this.flowParseGenericType(e,r)}}flowParsePrimaryType(){const e=this.state.startLoc,t=this.startNode();let r,s,i=!1;const n=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=n,s;case 47:{const e=this.startNode();return e.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),r=this.flowParseFunctionTypeParams(),e.params=r.params,e.rest=r.rest,e.this=r._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),this.finishNode(e,"FunctionTypeAnnotation")}case 10:{const e=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(tokenIsIdentifier(this.state.type)||this.match(78)){const e=this.lookahead().type;i=17!==e&&14!==e}else i=!0;if(i){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=n,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&19===this.lookahead().type))return this.expect(11),s;this.eat(12)}return r=s?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):this.flowParseFunctionTypeParams(),e.params=r.params,e.rest=r.rest,e.this=r._this,this.expect(11),this.expect(19),e.returnType=this.flowParseType(),e.typeParameters=null,this.finishNode(e,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return t.value=this.match(85),this.next(),this.finishNode(t,"BooleanLiteralTypeAnnotation");case 53:if("-"===this.state.value){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",t);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",t);throw this.raise(FlowErrors.UnexpectedSubtractionOperand,this.state.startLoc)}return void this.unexpected();case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(t,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(t,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(t,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(t,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(tokenIsKeyword(this.state.type)){const e=tokenLabelName(this.state.type);return this.next(),super.createIdentifier(t,e)}if(tokenIsIdentifier(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(e,t,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){const e=this.state.startLoc;let t=this.flowParsePrimaryType(),r=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){const s=this.startNodeAt(e),i=this.eat(18);r=r||i,this.expect(0),!i&&this.match(3)?(s.elementType=t,this.next(),t=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=t,s.indexType=this.flowParseType(),this.expect(3),r?(s.optional=i,t=this.finishNode(s,"OptionalIndexedAccessType")):t=this.finishNode(s,"IndexedAccessType"))}return t}flowParsePrefixType(){const e=this.startNode();return this.eat(17)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){const e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){const t=this.startNodeAt(e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.this=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e}flowParseIntersectionType(){const e=this.startNode();this.eat(45);const t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(45);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")}flowParseUnionType(){const e=this.startNode();this.eat(43);const t=this.flowParseIntersectionType();for(e.types=[t];this.eat(43);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")}flowParseType(){const e=this.state.inType;this.state.inType=!0;const t=this.flowParseUnionType();return this.state.inType=e,t}flowParseTypeOrImplicitInstantiation(){if(132===this.state.type&&"_"===this.state.value){const e=this.state.startLoc,t=this.parseIdentifier();return this.flowParseGenericType(e,t)}return this.flowParseType()}flowParseTypeAnnotation(){const e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(e){const t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}flowParseVariance(){let e=null;return this.match(53)?(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")):e}parseFunctionBody(e,t,r=!1){t?this.forwardNoArrowParamsConversionAt(e,(()=>super.parseFunctionBody(e,!0,r))):super.parseFunctionBody(e,!1,r)}parseFunctionBodyAndFinish(e,t,r=!1){if(this.match(14)){const t=this.startNode();[t.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),e.returnType=t.typeAnnotation?this.finishNode(t,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(e,t,r)}parseStatementLike(e){if(this.state.strict&&this.isContextual(129)){if(tokenIsKeywordOrIdentifier(this.lookahead().type)){const e=this.startNode();return this.next(),this.flowParseInterface(e)}}else if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}const t=super.parseStatementLike(e);return void 0!==this.flowPragma||this.isValidDirective(t)||(this.flowPragma=null),t}parseExpressionStatement(e,t,r){if("Identifier"===t.type)if("declare"===t.name){if(this.match(80)||tokenIsIdentifier(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(e)}else if(tokenIsIdentifier(this.state.type)){if("interface"===t.name)return this.flowParseInterface(e);if("type"===t.name)return this.flowParseTypeAlias(e);if("opaque"===t.name)return this.flowParseOpaqueType(e,!1)}return super.parseExpressionStatement(e,t,r)}shouldParseExportDeclaration(){const{type:e}=this.state;return 126===e||tokenIsFlowInterfaceOrTypeOrOpaque(e)?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){const{type:e}=this.state;return 126===e||tokenIsFlowInterfaceOrTypeOrOpaque(e)?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){const e=this.startNode();return this.next(),this.flowParseEnumDeclaration(e)}return super.parseExportDefaultExpression()}parseConditional(e,t,r){if(!this.match(17))return e;if(this.state.maybeInArrowParameters){const t=this.lookaheadCharCode();if(44===t||61===t||58===t||41===t)return this.setOptionalParametersError(r),e}this.expect(17);const s=this.state.clone(),i=this.state.noArrowAt,n=this.startNodeAt(t);let{consequent:o,failed:a}=this.tryParseConditionalConsequent(),[c,l]=this.getArrowLikeExpressions(o);if(a||l.length>0){const e=[...i];if(l.length>0){this.state=s,this.state.noArrowAt=e;for(let t=0;t<l.length;t++)e.push(l[t].start);({consequent:o,failed:a}=this.tryParseConditionalConsequent()),[c,l]=this.getArrowLikeExpressions(o)}a&&c.length>1&&this.raise(FlowErrors.AmbiguousConditionalArrow,s.startLoc),a&&1===c.length&&(this.state=s,e.push(c[0].start),this.state.noArrowAt=e,({consequent:o,failed:a}=this.tryParseConditionalConsequent()))}return this.getArrowLikeExpressions(o,!0),this.state.noArrowAt=i,this.expect(14),n.test=e,n.consequent=o,n.alternate=this.forwardNoArrowParamsConversionAt(n,(()=>this.parseMaybeAssign(void 0,void 0))),this.finishNode(n,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);const e=this.parseMaybeAssignAllowIn(),t=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}}getArrowLikeExpressions(e,t){const r=[e],s=[];for(;0!==r.length;){const e=r.pop();"ArrowFunctionExpression"===e.type&&"BlockStatement"!==e.body.type?(e.typeParameters||!e.returnType?this.finishArrowValidation(e):s.push(e),r.push(e.body)):"ConditionalExpression"===e.type&&(r.push(e.consequent),r.push(e.alternate))}return t?(s.forEach((e=>this.finishArrowValidation(e))),[s,[]]):partition(s,(e=>e.params.every((e=>this.isAssignable(e,!0)))))}finishArrowValidation(e){var t;this.toAssignableList(e.params,null==(t=e.extra)?void 0:t.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(e,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(e,t){let r;return this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?(this.state.noArrowParamsConversionAt.push(this.state.start),r=t(),this.state.noArrowParamsConversionAt.pop()):r=t(),r}parseParenItem(e,t){const r=super.parseParenItem(e,t);if(this.eat(17)&&(r.optional=!0,this.resetEndLocation(e)),this.match(14)){const e=this.startNodeAt(t);return e.expression=r,e.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(e,"TypeCastExpression")}return r}assertModuleNodeAllowed(e){"ImportDeclaration"===e.type&&("type"===e.importKind||"typeof"===e.importKind)||"ExportNamedDeclaration"===e.type&&"type"===e.exportKind||"ExportAllDeclaration"===e.type&&"type"===e.exportKind||super.assertModuleNodeAllowed(e)}parseExportDeclaration(e){if(this.isContextual(130)){e.exportKind="type";const t=this.startNode();return this.next(),this.match(5)?(e.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(e),null):this.flowParseTypeAlias(t)}if(this.isContextual(131)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseOpaqueType(t,!1)}if(this.isContextual(129)){e.exportKind="type";const t=this.startNode();return this.next(),this.flowParseInterface(t)}if(this.isContextual(126)){e.exportKind="value";const t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDeclaration(e)}eatExportStar(e){return!!super.eatExportStar(e)||!(!this.isContextual(130)||55!==this.lookahead().type)&&(e.exportKind="type",this.next(),this.next(),!0)}maybeParseExportNamespaceSpecifier(e){const{startLoc:t}=this.state,r=super.maybeParseExportNamespaceSpecifier(e);return r&&"type"===e.exportKind&&this.unexpected(t),r}parseClassId(e,t,r){super.parseClassId(e,t,r),this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(e,t,r){const{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(e,t))return;t.declare=!0}super.parseClassMember(e,t,r),t.declare&&("ClassProperty"!==t.type&&"ClassPrivateProperty"!==t.type&&"PropertyDefinition"!==t.type?this.raise(FlowErrors.DeclareClassElement,s):t.value&&this.raise(FlowErrors.DeclareClassFieldInitializer,t.value))}isIterator(e){return"iterator"===e||"asyncIterator"===e}readIterator(){const e=super.readWord1(),t="@@"+e;this.isIterator(e)&&this.state.inType||this.raise(Errors.InvalidIdentifier,this.state.curPosition(),{identifierName:t}),this.finishToken(132,t)}getTokenFromCode(e){const t=this.input.charCodeAt(this.state.pos+1);123===e&&124===t?this.finishOp(6,2):!this.state.inType||62!==e&&60!==e?this.state.inType&&63===e?46===t?this.finishOp(18,2):this.finishOp(17,1):isIteratorStart(e,t,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(e):this.finishOp(62===e?48:47,1)}isAssignable(e,t){return"TypeCastExpression"===e.type?this.isAssignable(e.expression,t):super.isAssignable(e,t)}toAssignable(e,t=!1){t||"AssignmentExpression"!==e.type||"TypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left)),super.toAssignable(e,t)}toAssignableList(e,t,r){for(let s=0;s<e.length;s++){const t=e[s];"TypeCastExpression"===(null==t?void 0:t.type)&&(e[s]=this.typeCastToParameter(t))}super.toAssignableList(e,t,r)}toReferencedList(e,t){for(let s=0;s<e.length;s++){var r;const i=e[s];!i||"TypeCastExpression"!==i.type||null!=(r=i.extra)&&r.parenthesized||!(e.length>1)&&t||this.raise(FlowErrors.TypeCastInPattern,i.typeAnnotation)}return e}parseArrayLike(e,t,r,s){const i=super.parseArrayLike(e,t,r,s);return t&&!this.state.maybeInArrowParameters&&this.toReferencedList(i.elements),i}isValidLVal(e,t,r){return"TypeCastExpression"===e||super.isValidLVal(e,t,r)}parseClassProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(e)}parseClassPrivateProperty(e){return this.match(14)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(e){return!this.match(14)&&super.isNonstaticConstructor(e)}pushClassMethod(e,t,r,s,i,n){if(t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(e,t,r,s,i,n),t.params&&i){const e=t.params;e.length>0&&this.isThisParam(e[0])&&this.raise(FlowErrors.ThisParamBannedInConstructor,t)}else if("MethodDefinition"===t.type&&i&&t.value.params){const e=t.value.params;e.length>0&&this.isThisParam(e[0])&&this.raise(FlowErrors.ThisParamBannedInConstructor,t)}}pushClassPrivateMethod(e,t,r,s){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(e,t,r,s)}parseClassSuper(e){if(super.parseClassSuper(e),e.superClass&&this.match(47)&&(e.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();const t=e.implements=[];do{const e=this.startNode();e.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,t.push(this.finishNode(e,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(e){super.checkGetterSetterParams(e);const t=this.getObjectOrClassMethodParams(e);if(t.length>0){const r=t[0];this.isThisParam(r)&&"get"===e.kind?this.raise(FlowErrors.GetterMayNotHaveThisParam,r):this.isThisParam(r)&&this.raise(FlowErrors.SetterMayNotHaveThisParam,r)}}parsePropertyNamePrefixOperator(e){e.variance=this.flowParseVariance()}parseObjPropValue(e,t,r,s,i,n,o){let a;e.variance&&this.unexpected(e.variance.loc.start),delete e.variance,this.match(47)&&!n&&(a=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());const c=super.parseObjPropValue(e,t,r,s,i,n,o);return a&&((c.value||c).typeParameters=a),c}parseFunctionParamType(e){return this.eat(17)&&("Identifier"!==e.type&&this.raise(FlowErrors.PatternIsOptional,e),this.isThisParam(e)&&this.raise(FlowErrors.ThisParamMayNotBeOptional,e),e.optional=!0),this.match(14)?e.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(e)&&this.raise(FlowErrors.ThisParamAnnotationRequired,e),this.match(29)&&this.isThisParam(e)&&this.raise(FlowErrors.ThisParamNoDefault,e),this.resetEndLocation(e),e}parseMaybeDefault(e,t){const r=super.parseMaybeDefault(e,t);return"AssignmentPattern"===r.type&&r.typeAnnotation&&r.right.start<r.typeAnnotation.start&&this.raise(FlowErrors.TypeBeforeInitializer,r.typeAnnotation),r}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(FlowErrors.ImportReflectionHasImportType,e.specifiers[0].loc.start)}parseImportSpecifierLocal(e,t,r){t.local=hasTypeImportKind(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,r))}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){if(!e)return!0;const t=this.lookaheadCharCode();return 123===t||42===t}return!e&&this.isContextual(87)}applyImportPhase(e,t,r,s){if(super.applyImportPhase(e,t,r,s),t){if(!r&&this.match(65))return;e.exportKind="type"===r?r:"value"}else"type"===r&&this.match(55)&&this.unexpected(),e.importKind="type"===r||"typeof"===r?r:"value"}parseImportSpecifier(e,t,r,s,i){const n=e.imported;let o=null;"Identifier"===n.type&&("type"===n.name?o="type":"typeof"===n.name&&(o="typeof"));let a=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){const t=this.parseIdentifier(!0);null===o||tokenIsKeywordOrIdentifier(this.state.type)?(e.imported=n,e.importKind=null,e.local=this.parseIdentifier()):(e.imported=t,e.importKind=o,e.local=cloneIdentifier(t))}else{if(null!==o&&tokenIsKeywordOrIdentifier(this.state.type))e.imported=this.parseIdentifier(!0),e.importKind=o;else{if(t)throw this.raise(Errors.ImportBindingIsString,e,{importName:n.value});e.imported=n,e.importKind=null}this.eatContextual(93)?e.local=this.parseIdentifier():(a=!0,e.local=cloneIdentifier(e.imported))}const c=hasTypeImportKind(e);return r&&c&&this.raise(FlowErrors.ImportTypeShorthandOnlyInPureImport,e),(r||c)&&this.checkReservedType(e.local.name,e.local.loc.start,!0),!a||r||c||this.checkReservedWord(e.local.name,e.loc.start,!0,!0),this.finishImportSpecifier(e,"ImportSpecifier")}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseFunctionParams(e,t){const r=e.kind;"get"!==r&&"set"!==r&&this.match(47)&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),this.match(14)&&(e.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){if(this.match(14)){const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,e.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=t}return super.parseAsyncArrowFromCallExpression(e,t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(e,t){var r;let s,i=null;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(i=this.state.clone(),s=this.tryParse((()=>super.parseMaybeAssign(e,t)),i),!s.error)return s.node;const{context:r}=this.state,n=r[r.length-1];n!==types.j_oTag&&n!==types.j_expr||r.pop()}if(null!=(r=s)&&r.error||this.match(47)){var n,o;let r;i=i||this.state.clone();const a=this.tryParse((s=>{var i;r=this.flowParseTypeParameterDeclaration();const n=this.forwardNoArrowParamsConversionAt(r,(()=>{const s=super.parseMaybeAssign(e,t);return this.resetStartLocationFromNode(s,r),s}));null!=(i=n.extra)&&i.parenthesized&&s();const o=this.maybeUnwrapTypeCastExpression(n);return"ArrowFunctionExpression"!==o.type&&s(),o.typeParameters=r,this.resetStartLocationFromNode(o,r),n}),i);let c=null;if(a.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(a.node).type){if(!a.error&&!a.aborted)return a.node.async&&this.raise(FlowErrors.UnexpectedTypeParameterBeforeAsyncArrowFunction,r),a.node;c=a.node}if(null!=(n=s)&&n.node)return this.state=s.failState,s.node;if(c)return this.state=a.failState,c;if(null!=(o=s)&&o.thrown)throw s.error;if(a.thrown)throw a.error;throw this.raise(FlowErrors.UnexpectedTokenAfterTypeParameter,r)}return super.parseMaybeAssign(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse((()=>{const t=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;const r=this.startNode();return[r.typeAnnotation,e.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=t,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),r}));if(t.thrown)return null;t.error&&(this.state=t.failState),e.returnType=t.node.typeAnnotation?this.finishNode(t.node,"TypeAnnotation"):null}return super.parseArrow(e)}shouldParseArrow(e){return this.match(14)||super.shouldParseArrow(e)}setArrowFunctionParameters(e,t){this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))?e.params=t:super.setArrowFunctionParameters(e,t)}checkParams(e,t,r,s=!0){if(!r||!this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(e.start))){for(let t=0;t<e.params.length;t++)this.isThisParam(e.params[t])&&t>0&&this.raise(FlowErrors.ThisParamMustBeFirst,e.params[t]);super.checkParams(e,t,r,s)}}parseParenAndDistinguishExpression(e){return super.parseParenAndDistinguishExpression(e&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(e,t,r){if("Identifier"===e.type&&"async"===e.name&&this.state.noArrowAt.includes(t.index)){this.next();const r=this.startNodeAt(t);r.callee=e,r.arguments=super.parseCallExpressionArguments(11),e=this.finishNode(r,"CallExpression")}else if("Identifier"===e.type&&"async"===e.name&&this.match(47)){const s=this.state.clone(),i=this.tryParse((e=>this.parseAsyncArrowWithTypeParameters(t)||e()),s);if(!i.error&&!i.aborted)return i.node;const n=this.tryParse((()=>super.parseSubscripts(e,t,r)),s);if(n.node&&!n.error)return n.node;if(i.node)return this.state=i.failState,i.node;if(n.node)return this.state=n.failState,n.node;throw i.error||n.error}return super.parseSubscripts(e,t,r)}parseSubscript(e,t,r,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,r)return s.stop=!0,e;this.next();const i=this.startNodeAt(t);return i.callee=e,i.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),i.arguments=this.parseCallExpressionArguments(11),i.optional=!0,this.finishCallExpression(i,!0)}if(!r&&this.shouldParseTypes()&&this.match(47)){const r=this.startNodeAt(t);r.callee=e;const i=this.tryParse((()=>(r.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),r.arguments=super.parseCallExpressionArguments(11),s.optionalChainMember&&(r.optional=!1),this.finishCallExpression(r,s.optionalChainMember))));if(i.node)return i.error&&(this.state=i.failState),i.node}return super.parseSubscript(e,t,r,s)}parseNewCallee(e){super.parseNewCallee(e);let t=null;this.shouldParseTypes()&&this.match(47)&&(t=this.tryParse((()=>this.flowParseTypeParameterInstantiationCallOrNew())).node),e.typeArguments=t}parseAsyncArrowWithTypeParameters(e){const t=this.startNodeAt(e);if(this.parseFunctionParams(t,!1),this.parseArrow(t))return super.parseArrowExpression(t,void 0,!0)}readToken_mult_modulo(e){const t=this.input.charCodeAt(this.state.pos+1);if(42===e&&47===t&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();super.readToken_mult_modulo(e)}readToken_pipe_amp(e){const t=this.input.charCodeAt(this.state.pos+1);124!==e||125!==t?super.readToken_pipe_amp(e):this.finishOp(9,2)}parseTopLevel(e,t){const r=super.parseTopLevel(e,t);return this.state.hasFlowComment&&this.raise(FlowErrors.UnterminatedFlowComment,this.state.curPosition()),r}skipBlockComment(){if(!this.hasPlugin("flowComments")||!this.skipFlowComment())return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/");{if(this.state.hasFlowComment)throw this.raise(FlowErrors.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();const e=this.skipFlowComment();e&&(this.state.pos+=e,this.state.hasFlowComment=!0)}}skipFlowComment(){const{pos:e}=this.state;let t=2;for(;[32,9].includes(this.input.charCodeAt(e+t));)t++;const r=this.input.charCodeAt(t+e),s=this.input.charCodeAt(t+e+1);return 58===r&&58===s?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===r&&58!==s&&t}hasFlowCommentCompletion(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(Errors.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(e,{enumName:t,memberName:r}){this.raise(FlowErrors.EnumBooleanMemberNotInitialized,e,{memberName:r,enumName:t})}flowEnumErrorInvalidMemberInitializer(e,t){return this.raise(t.explicitType?"symbol"===t.explicitType?FlowErrors.EnumInvalidMemberInitializerSymbolType:FlowErrors.EnumInvalidMemberInitializerPrimaryType:FlowErrors.EnumInvalidMemberInitializerUnknownType,e,t)}flowEnumErrorNumberMemberNotInitialized(e,t){this.raise(FlowErrors.EnumNumberMemberNotInitialized,e,t)}flowEnumErrorStringMemberInconsistentlyInitialized(e,t){this.raise(FlowErrors.EnumStringMemberInconsistentlyInitialized,e,t)}flowEnumMemberInit(){const e=this.state.startLoc,t=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{const r=this.parseNumericLiteral(this.state.value);return t()?{type:"number",loc:r.loc.start,value:r}:{type:"invalid",loc:e}}case 134:{const r=this.parseStringLiteral(this.state.value);return t()?{type:"string",loc:r.loc.start,value:r}:{type:"invalid",loc:e}}case 85:case 86:{const r=this.parseBooleanLiteral(this.match(85));return t()?{type:"boolean",loc:r.loc.start,value:r}:{type:"invalid",loc:e}}default:return{type:"invalid",loc:e}}}flowEnumMemberRaw(){const e=this.state.startLoc;return{id:this.parseIdentifier(!0),init:this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:e}}}flowEnumCheckExplicitTypeMismatch(e,t,r){const{explicitType:s}=t;null!==s&&s!==r&&this.flowEnumErrorInvalidMemberInitializer(e,t)}flowEnumMembers({enumName:e,explicitType:t}){const r=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};let i=!1;for(;!this.match(8);){if(this.eat(21)){i=!0;break}const n=this.startNode(),{id:o,init:a}=this.flowEnumMemberRaw(),c=o.name;if(""===c)continue;/^[a-z]/.test(c)&&this.raise(FlowErrors.EnumInvalidMemberName,o,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:e}),r.has(c)&&this.raise(FlowErrors.EnumDuplicateMemberName,o,{memberName:c,enumName:e}),r.add(c);const l={enumName:e,explicitType:t,memberName:c};switch(n.id=o,a.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(a.loc,l,"boolean"),n.init=a.value,s.booleanMembers.push(this.finishNode(n,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(a.loc,l,"number"),n.init=a.value,s.numberMembers.push(this.finishNode(n,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(a.loc,l,"string"),n.init=a.value,s.stringMembers.push(this.finishNode(n,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(a.loc,l);case"none":switch(t){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(a.loc,l);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(a.loc,l);break;default:s.defaultedMembers.push(this.finishNode(n,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:i}}flowEnumStringMembers(e,t,{enumName:r}){if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(const t of e)this.flowEnumErrorStringMemberInconsistentlyInitialized(t,{enumName:r});return t}for(const s of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:r});return e}flowEnumParseExplicitType({enumName:e}){if(!this.eatContextual(102))return null;if(!tokenIsIdentifier(this.state.type))throw this.raise(FlowErrors.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:e});const{value:t}=this.state;return this.next(),"boolean"!==t&&"number"!==t&&"string"!==t&&"symbol"!==t&&this.raise(FlowErrors.EnumInvalidExplicitType,this.state.startLoc,{enumName:e,invalidEnumType:t}),t}flowEnumBody(e,t){const r=t.name,s=t.loc.start,i=this.flowEnumParseExplicitType({enumName:r});this.expect(5);const{members:n,hasUnknownMembers:o}=this.flowEnumMembers({enumName:r,explicitType:i});switch(e.hasUnknownMembers=o,i){case"boolean":return e.explicitType=!0,e.members=n.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=n.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(n.stringMembers,n.defaultedMembers,{enumName:r}),this.expect(8),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=n.defaultedMembers,this.expect(8),this.finishNode(e,"EnumSymbolBody");default:{const t=()=>(e.members=[],this.expect(8),this.finishNode(e,"EnumStringBody"));e.explicitType=!1;const i=n.booleanMembers.length,o=n.numberMembers.length,a=n.stringMembers.length,c=n.defaultedMembers.length;if(i||o||a||c){if(i||o){if(!o&&!a&&i>=c){for(const e of n.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(e.loc.start,{enumName:r,memberName:e.id.name});return e.members=n.booleanMembers,this.expect(8),this.finishNode(e,"EnumBooleanBody")}if(!i&&!a&&o>=c){for(const e of n.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(e.loc.start,{enumName:r,memberName:e.id.name});return e.members=n.numberMembers,this.expect(8),this.finishNode(e,"EnumNumberBody")}return this.raise(FlowErrors.EnumInconsistentMemberValues,s,{enumName:r}),t()}return e.members=this.flowEnumStringMembers(n.stringMembers,n.defaultedMembers,{enumName:r}),this.expect(8),this.finishNode(e,"EnumStringBody")}return t()}}}flowParseEnumDeclaration(e){const t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),t),this.finishNode(e,"EnumDeclaration")}isLookaheadToken_lt(){const e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){const t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1}maybeUnwrapTypeCastExpression(e){return"TypeCastExpression"===e.type?e.expression:e}};const entities={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",times:"\xd7",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",divide:"\xf7",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},JsxErrors=ParseErrorEnum`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:t})=>`Unexpected token \`${e}\`. Did you mean \`${t}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function isFragment(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function getQualifiedJSXName(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return getQualifiedJSXName(e.object)+"."+getQualifiedJSXName(e.property);throw new Error("Node had unexpected type: "+e.type)}var jsx=e=>class extends e{jsxReadToken(){let e="",t=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(JsxErrors.UnterminatedJsxContent,this.state.startLoc);const r=this.input.charCodeAt(this.state.pos);switch(r){case 60:case 123:return this.state.pos===this.state.start?void(60===r&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(143)):super.getTokenFromCode(r)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(142,e));case 38:e+=this.input.slice(t,this.state.pos),e+=this.jsxReadEntity(),t=this.state.pos;break;default:isNewLine(r)?(e+=this.input.slice(t,this.state.pos),e+=this.jsxReadNewLine(!0),t=this.state.pos):++this.state.pos}}}jsxReadNewLine(e){const t=this.input.charCodeAt(this.state.pos);let r;return++this.state.pos,13===t&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,r=e?"\n":"\r\n"):r=String.fromCharCode(t),++this.state.curLine,this.state.lineStart=this.state.pos,r}jsxReadString(e){let t="",r=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Errors.UnterminatedString,this.state.startLoc);const s=this.input.charCodeAt(this.state.pos);if(s===e)break;38===s?(t+=this.input.slice(r,this.state.pos),t+=this.jsxReadEntity(),r=this.state.pos):isNewLine(s)?(t+=this.input.slice(r,this.state.pos),t+=this.jsxReadNewLine(!1),r=this.state.pos):++this.state.pos}t+=this.input.slice(r,this.state.pos++),this.finishToken(134,t)}jsxReadEntity(){const e=++this.state.pos;if(35===this.codePointAtPos(this.state.pos)){++this.state.pos;let e=10;120===this.codePointAtPos(this.state.pos)&&(e=16,++this.state.pos);const t=this.readInt(e,void 0,!1,"bail");if(null!==t&&59===this.codePointAtPos(this.state.pos))return++this.state.pos,String.fromCodePoint(t)}else{let t=0,r=!1;for(;t++<10&&this.state.pos<this.length&&!(r=59===this.codePointAtPos(this.state.pos));)++this.state.pos;if(r){const t=this.input.slice(e,this.state.pos),r=entities[t];if(++this.state.pos,r)return r}}return this.state.pos=e,"&"}jsxReadWord(){let e;const t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(isIdentifierChar(e)||45===e);this.finishToken(141,this.input.slice(t,this.state.pos))}jsxParseIdentifier(){const e=this.startNode();return this.match(141)?e.name=this.state.value:tokenIsKeyword(this.state.type)?e.name=tokenLabelName(this.state.type):this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")}jsxParseNamespacedName(){const e=this.state.startLoc,t=this.jsxParseIdentifier();if(!this.eat(14))return t;const r=this.startNodeAt(e);return r.namespace=t,r.name=this.jsxParseIdentifier(),this.finishNode(r,"JSXNamespacedName")}jsxParseElementName(){const e=this.state.startLoc;let t=this.jsxParseNamespacedName();if("JSXNamespacedName"===t.type)return t;for(;this.eat(16);){const r=this.startNodeAt(e);r.object=t,r.property=this.jsxParseIdentifier(),t=this.finishNode(r,"JSXMemberExpression")}return t}jsxParseAttributeValue(){let e;switch(this.state.type){case 5:return e=this.startNode(),this.setContext(types.brace),this.next(),e=this.jsxParseExpressionContainer(e,types.j_oTag),"JSXEmptyExpression"===e.expression.type&&this.raise(JsxErrors.AttributeIsEmpty,e),e;case 143:case 134:return this.parseExprAtom();default:throw this.raise(JsxErrors.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){const e=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(e){return this.next(),e.expression=this.parseExpression(),this.setContext(types.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadChild")}jsxParseExpressionContainer(e,t){if(this.match(8))e.expression=this.jsxParseEmptyExpression();else{const t=this.parseExpression();e.expression=t}return this.setContext(t),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXExpressionContainer")}jsxParseAttribute(){const e=this.startNode();return this.match(5)?(this.setContext(types.brace),this.next(),this.expect(21),e.argument=this.parseMaybeAssignAllowIn(),this.setContext(types.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))}jsxParseOpeningElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXOpeningFragment"):(t.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(t))}jsxParseOpeningElementAfterName(e){const t=[];for(;!this.match(56)&&!this.match(144);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(56),this.expect(144),this.finishNode(e,"JSXOpeningElement")}jsxParseClosingElementAt(e){const t=this.startNodeAt(e);return this.eat(144)?this.finishNode(t,"JSXClosingFragment"):(t.name=this.jsxParseElementName(),this.expect(144),this.finishNode(t,"JSXClosingElement"))}jsxParseElementAt(e){const t=this.startNodeAt(e),r=[],s=this.jsxParseOpeningElementAt(e);let i=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 143:if(e=this.state.startLoc,this.next(),this.eat(56)){i=this.jsxParseClosingElementAt(e);break e}r.push(this.jsxParseElementAt(e));break;case 142:r.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{const e=this.startNode();this.setContext(types.brace),this.next(),this.match(21)?r.push(this.jsxParseSpreadChild(e)):r.push(this.jsxParseExpressionContainer(e,types.j_expr));break}default:this.unexpected()}isFragment(s)&&!isFragment(i)&&null!==i?this.raise(JsxErrors.MissingClosingTagFragment,i):!isFragment(s)&&isFragment(i)?this.raise(JsxErrors.MissingClosingTagElement,i,{openingTagName:getQualifiedJSXName(s.name)}):isFragment(s)||isFragment(i)||getQualifiedJSXName(i.name)!==getQualifiedJSXName(s.name)&&this.raise(JsxErrors.MissingClosingTagElement,i,{openingTagName:getQualifiedJSXName(s.name)})}if(isFragment(s)?(t.openingFragment=s,t.closingFragment=i):(t.openingElement=s,t.closingElement=i),t.children=r,this.match(47))throw this.raise(JsxErrors.UnwrappedAdjacentJSXElements,this.state.startLoc);return isFragment(s)?this.finishNode(t,"JSXFragment"):this.finishNode(t,"JSXElement")}jsxParseElement(){const e=this.state.startLoc;return this.next(),this.jsxParseElementAt(e)}setContext(e){const{context:t}=this.state;t[t.length-1]=e}parseExprAtom(e){return this.match(143)?this.jsxParseElement():this.match(47)&&33!==this.input.charCodeAt(this.state.pos)?(this.replaceToken(143),this.jsxParseElement()):super.parseExprAtom(e)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(e){const t=this.curContext();if(t!==types.j_expr){if(t===types.j_oTag||t===types.j_cTag){if(isIdentifierStart(e))return void this.jsxReadWord();if(62===e)return++this.state.pos,void this.finishToken(144);if((34===e||39===e)&&t===types.j_oTag)return void this.jsxReadString(e)}if(60===e&&this.state.canStartJSXElement&&33!==this.input.charCodeAt(this.state.pos+1))return++this.state.pos,void this.finishToken(143);super.getTokenFromCode(e)}else this.jsxReadToken()}updateContext(e){const{context:t,type:r}=this.state;if(56===r&&143===e)t.splice(-2,2,types.j_cTag),this.state.canStartJSXElement=!1;else if(143===r)t.push(types.j_oTag);else if(144===r){const r=t[t.length-1];r===types.j_oTag&&56===e||r===types.j_cTag?(t.pop(),this.state.canStartJSXElement=t[t.length-1]===types.j_expr):(this.setContext(types.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=tokenComesBeforeExpression(r)}};class TypeScriptScope extends Scope{constructor(...e){super(...e),this.tsNames=new Map}}class TypeScriptScopeHandler extends ScopeHandler{constructor(...e){super(...e),this.importsStack=[]}createScope(e){return this.importsStack.push(new Set),new TypeScriptScope(e)}enter(e){256===e&&this.importsStack.push(new Set),super.enter(e)}exit(){const e=super.exit();return 256===e&&this.importsStack.pop(),e}hasImport(e,t){const r=this.importsStack.length;if(this.importsStack[r-1].has(e))return!0;if(!t&&r>1)for(let s=0;s<r-1;s++)if(this.importsStack[s].has(e))return!0;return!1}declareName(e,t,r){if(4096&t)return this.hasImport(e,!0)&&this.parser.raise(Errors.VarRedeclaration,r,{identifierName:e}),void this.importsStack[this.importsStack.length-1].add(e);const s=this.currentScope();let i=s.tsNames.get(e)||0;if(1024&t)return this.maybeExportDefined(s,e),void s.tsNames.set(e,16|i);super.declareName(e,t,r),2&t&&(1&t||(this.checkRedeclarationInScope(s,e,t,r),this.maybeExportDefined(s,e)),i|=1),256&t&&(i|=2),512&t&&(i|=4),128&t&&(i|=8),i&&s.tsNames.set(e,i)}isRedeclaredInScope(e,t,r){const s=e.tsNames.get(t);if((2&s)>0){if(256&r){return!!(512&r)!==(4&s)>0}return!0}return 128&r&&(8&s)>0?!!(2&e.names.get(t))&&!!(1&r):!!(2&r&&(1&s)>0)||super.isRedeclaredInScope(e,t,r)}checkLocalExport(e){const{name:t}=e;if(this.hasImport(t))return;for(let r=this.scopeStack.length-1;r>=0;r--){const e=this.scopeStack[r].tsNames.get(t);if((1&e)>0||(16&e)>0)return}super.checkLocalExport(e)}}const unwrapParenthesizedExpression=e=>"ParenthesizedExpression"===e.type?unwrapParenthesizedExpression(e.expression):e;class LValParser extends NodeUtils{toAssignable(e,t=!1){var r,s;let i;switch(("ParenthesizedExpression"===e.type||null!=(r=e.extra)&&r.parenthesized)&&(i=unwrapParenthesizedExpression(e),t?"Identifier"===i.type?this.expressionScope.recordArrowParameterBindingError(Errors.InvalidParenthesizedAssignment,e):"MemberExpression"===i.type||this.isOptionalMemberExpression(i)||this.raise(Errors.InvalidParenthesizedAssignment,e):this.raise(Errors.InvalidParenthesizedAssignment,e)),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let r=0,s=e.properties.length,i=s-1;r<s;r++){var n;const s=e.properties[r],o=r===i;this.toAssignableObjectExpressionProp(s,o,t),o&&"RestElement"===s.type&&null!=(n=e.extra)&&n.trailingCommaLoc&&this.raise(Errors.RestTrailingComma,e.extra.trailingCommaLoc)}break;case"ObjectProperty":{const{key:r,value:s}=e;this.isPrivateName(r)&&this.classScope.usePrivateName(this.getPrivateNameSV(r),r.loc.start),this.toAssignable(s,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,null==(s=e.extra)?void 0:s.trailingCommaLoc,t);break;case"AssignmentExpression":"="!==e.operator&&this.raise(Errors.MissingEqInAssignment,e.left.loc.end),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(i,t)}}toAssignableObjectExpressionProp(e,t,r){if("ObjectMethod"===e.type)this.raise("get"===e.kind||"set"===e.kind?Errors.PatternHasAccessor:Errors.PatternHasMethod,e.key);else if("SpreadElement"===e.type){e.type="RestElement";const s=e.argument;this.checkToRestConversion(s,!1),this.toAssignable(s,r),t||this.raise(Errors.RestTrailingComma,e)}else this.toAssignable(e,r)}toAssignableList(e,t,r){const s=e.length-1;for(let i=0;i<=s;i++){const n=e[i];if(n){if("SpreadElement"===n.type){n.type="RestElement";const e=n.argument;this.checkToRestConversion(e,!0),this.toAssignable(e,r)}else this.toAssignable(n,r);"RestElement"===n.type&&(i<s?this.raise(Errors.RestTrailingComma,n):t&&this.raise(Errors.RestTrailingComma,t))}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{const t=e.properties.length-1;return e.properties.every(((e,r)=>"ObjectMethod"!==e.type&&(r===t||"SpreadElement"!==e.type)&&this.isAssignable(e)))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every((e=>null===e||this.isAssignable(e)));case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(const r of e)"ArrayExpression"===(null==r?void 0:r.type)&&this.toReferencedListDeep(r.elements)}parseSpread(e){const t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){const e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{const e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,1),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,r){const s=1&r,i=[];let n=!0;for(;!this.eat(e);)if(n?n=!1:this.expect(12),s&&this.match(12))i.push(null);else{if(this.eat(e))break;if(this.match(21)){let s=this.parseRestBinding();if((this.hasPlugin("flow")||2&r)&&(s=this.parseFunctionParamType(s)),i.push(s),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{const e=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(Errors.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)e.push(this.parseDecorator());i.push(this.parseAssignableListItem(r,e))}}return i}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){const{type:e,startLoc:t}=this.state;if(21===e)return this.parseBindingRestProperty(this.startNode());const r=this.startNode();return 139===e?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),r.key=this.parsePrivateName()):this.parsePropertyName(r),r.method=!1,this.parseObjPropValue(r,t,!1,!1,!0,!1)}parseAssignableListItem(e,t){const r=this.parseMaybeDefault();(this.hasPlugin("flow")||2&e)&&this.parseFunctionParamType(r);const s=this.parseMaybeDefault(r.loc.start,r);return t.length&&(r.decorators=t),s}parseFunctionParamType(e){return e}parseMaybeDefault(e,t){var r;if(null!=e||(e=this.state.startLoc),t=null!=(r=t)?r:this.parseBindingAtom(),!this.eat(29))return t;const s=this.startNodeAt(e);return s.left=t,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(e,t,r){switch(e){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(e){return"OptionalMemberExpression"===e.type}checkLVal(e,t,r=64,s=!1,i=!1,n=!1){var o;const a=e.type;if(this.isObjectMethod(e))return;const c=this.isOptionalMemberExpression(e);if(c||"MemberExpression"===a)return c&&(this.expectPlugin("optionalChainingAssign",e.loc.start),"AssignmentExpression"!==t.type&&this.raise(Errors.InvalidLhsOptionalChaining,e,{ancestor:t})),void(64!==r&&this.raise(Errors.InvalidPropertyBindingPattern,e));if("Identifier"===a){this.checkIdentifier(e,r,i);const{name:t}=e;return void(s&&(s.has(t)?this.raise(Errors.ParamDupe,e):s.add(t)))}const l=this.isValidLVal(a,!(n||null!=(o=e.extra)&&o.parenthesized)&&"AssignmentExpression"===t.type,r);if(!0===l)return;if(!1===l){const s=64===r?Errors.InvalidLhs:Errors.InvalidLhsBinding;return void this.raise(s,e,{ancestor:t})}let h,p;"string"==typeof l?(h=l,p="ParenthesizedExpression"===a):[h,p]=l;const u="ArrayPattern"===a||"ObjectPattern"===a?{type:a}:t,d=e[h];if(Array.isArray(d))for(const f of d)f&&this.checkLVal(f,u,r,s,i,p);else d&&this.checkLVal(d,u,r,s,i,p)}checkIdentifier(e,t,r=!1){this.state.strict&&(r?isStrictBindReservedWord(e.name,this.inModule):isStrictBindOnlyReservedWord(e.name))&&(64===t?this.raise(Errors.StrictEvalArguments,e,{referenceName:e.name}):this.raise(Errors.StrictEvalArgumentsBinding,e,{bindingName:e.name})),8192&t&&"let"===e.name&&this.raise(Errors.LetInLexicalBinding,e),64&t||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(Errors.InvalidRestAssignmentPattern,e)}}checkCommaAfterRest(e){return!!this.match(12)&&(this.raise(this.lookaheadCharCode()===e?Errors.RestTrailingComma:Errors.ElementAfterRest,this.state.startLoc),!0)}}function nonNull(e){if(null==e)throw new Error(`Unexpected ${e} value.`);return e}function assert(e){if(!e)throw new Error("Assert fail")}const TSErrors=ParseErrorEnum`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function keywordTypeFromName(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function tsIsAccessModifier(e){return"private"===e||"public"===e||"protected"===e}function tsIsVarianceAnnotations(e){return"in"===e||"out"===e}var typescript=e=>class extends e{constructor(...e){super(...e),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:TSErrors.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:TSErrors.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:TSErrors.InvalidModifierOnTypeParameter})}getScopeHandler(){return TypeScriptScopeHandler}tsIsIdentifier(){return tokenIsIdentifier(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),!this.hasPrecedingLineBreak()&&this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(e,t){if(!tokenIsIdentifier(this.state.type)&&58!==this.state.type&&75!==this.state.type)return;const r=this.state.value;if(e.includes(r)){if(t&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return r}}tsParseModifiers({allowedModifiers:e,disallowedModifiers:t,stopOnStartOfClassStaticBlock:r,errorTemplate:s=TSErrors.InvalidModifierOnTypeMember},i){const n=(e,t,r,s)=>{t===r&&i[s]&&this.raise(TSErrors.InvalidModifiersOrder,e,{orderedModifiers:[r,s]})},o=(e,t,r,s)=>{(i[r]&&t===s||i[s]&&t===r)&&this.raise(TSErrors.IncompatibleModifiers,e,{modifiers:[r,s]})};for(;;){const{startLoc:a}=this.state,c=this.tsParseModifier(e.concat(null!=t?t:[]),r);if(!c)break;tsIsAccessModifier(c)?i.accessibility?this.raise(TSErrors.DuplicateAccessibilityModifier,a,{modifier:c}):(n(a,c,c,"override"),n(a,c,c,"static"),n(a,c,c,"readonly"),i.accessibility=c):tsIsVarianceAnnotations(c)?(i[c]&&this.raise(TSErrors.DuplicateModifier,a,{modifier:c}),i[c]=!0,n(a,c,"in","out")):(hasOwnProperty.call(i,c)?this.raise(TSErrors.DuplicateModifier,a,{modifier:c}):(n(a,c,"static","readonly"),n(a,c,"static","override"),n(a,c,"override","readonly"),n(a,c,"abstract","override"),o(a,c,"declare","override"),o(a,c,"static","abstract")),i[c]=!0),null!=t&&t.includes(c)&&this.raise(s,a,{modifier:c})}}tsIsListTerminator(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(e,t){const r=[];for(;!this.tsIsListTerminator(e);)r.push(t());return r}tsParseDelimitedList(e,t,r){return nonNull(this.tsParseDelimitedListWorker(e,t,!0,r))}tsParseDelimitedListWorker(e,t,r,s){const i=[];let n=-1;for(;!this.tsIsListTerminator(e);){n=-1;const s=t();if(null==s)return;if(i.push(s),!this.eat(12)){if(this.tsIsListTerminator(e))break;return void(r&&this.expect(12))}n=this.state.lastTokStartLoc.index}return s&&(s.value=n),i}tsParseBracketedList(e,t,r,s,i){s||(r?this.expect(0):this.expect(47));const n=this.tsParseDelimitedList(e,t,i);return r?this.expect(3):this.expect(48),n}tsParseImportType(){const e=this.startNode();return this.expect(83),this.expect(10),this.match(134)||this.raise(TSErrors.UnsupportedImportTypeArgument,this.state.startLoc),e.argument=super.parseExprAtom(),this.eat(12)&&!this.match(11)?(e.options=super.parseMaybeAssignAllowIn(),this.eat(12)):e.options=null,this.expect(11),this.eat(16)&&(e.qualifier=this.tsParseEntityName()),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")}tsParseEntityName(e=!0){let t=this.parseIdentifier(e);for(;this.eat(16);){const r=this.startNodeAtNode(t);r.left=t,r.right=this.parseIdentifier(e),t=this.finishNode(r,"TSQualifiedName")}return t}tsParseTypeReference(){const e=this.startNode();return e.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")}tsParseThisTypePredicate(e){this.next();const t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),t.asserts=!1,this.finishNode(t,"TSTypePredicate")}tsParseThisTypeNode(){const e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")}tsParseTypeQuery(){const e=this.startNode();return this.expect(87),this.match(83)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeQuery")}tsParseTypeParameter(e){const t=this.startNode();return e(t),t.name=this.tsParseTypeParameterName(),t.constraint=this.tsEatThenParseType(81),t.default=this.tsEatThenParseType(29),this.finishNode(t,"TSTypeParameter")}tsTryParseTypeParameters(e){if(this.match(47))return this.tsParseTypeParameters(e)}tsParseTypeParameters(e){const t=this.startNode();this.match(47)||this.match(143)?this.next():this.unexpected();const r={value:-1};return t.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,e),!1,!0,r),0===t.params.length&&this.raise(TSErrors.EmptyTypeParameters,t),-1!==r.value&&this.addExtra(t,"trailingComma",r.value),this.finishNode(t,"TSTypeParameterDeclaration")}tsFillSignature(e,t){const r=19===e,s="typeAnnotation";t.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),t.parameters=this.tsParseBindingListForSignature(),(r||this.match(e))&&(t[s]=this.tsParseTypeOrTypePredicateAnnotation(e))}tsParseBindingListForSignature(){const e=super.parseBindingList(11,41,2);for(const t of e){const{type:e}=t;"AssignmentPattern"!==e&&"TSParameterProperty"!==e||this.raise(TSErrors.UnsupportedSignatureParameterKind,t,{type:e})}return e}tsParseTypeMemberSemicolon(){this.eat(12)||this.isLineTerminator()||this.expect(13)}tsParseSignatureMember(e,t){return this.tsFillSignature(14,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)}tsIsUnambiguouslyIndexSignature(){return this.next(),!!tokenIsIdentifier(this.state.type)&&(this.next(),this.match(14))}tsTryParseIndexSignature(e){if(!this.match(0)||!this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this)))return;this.expect(0);const t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(3),e.parameters=[t];const r=this.tsTryParseTypeAnnotation();return r&&(e.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}tsParsePropertyOrMethodSignature(e,t){this.eat(17)&&(e.optional=!0);const r=e;if(this.match(10)||this.match(47)){t&&this.raise(TSErrors.ReadonlyForMethodSignature,e);const s=r;s.kind&&this.match(47)&&this.raise(TSErrors.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();const i="parameters",n="typeAnnotation";if("get"===s.kind)s[i].length>0&&(this.raise(Errors.BadGetterArity,this.state.curPosition()),this.isThisParam(s[i][0])&&this.raise(TSErrors.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if("set"===s.kind){if(1!==s[i].length)this.raise(Errors.BadSetterArity,this.state.curPosition());else{const e=s[i][0];this.isThisParam(e)&&this.raise(TSErrors.AccessorCannotDeclareThisParameter,this.state.curPosition()),"Identifier"===e.type&&e.optional&&this.raise(TSErrors.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),"RestElement"===e.type&&this.raise(TSErrors.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[n]&&this.raise(TSErrors.SetAccessorCannotHaveReturnType,s[n])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}{const e=r;t&&(e.readonly=!0);const s=this.tsTryParseTypeAnnotation();return s&&(e.typeAnnotation=s),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSPropertySignature")}}tsParseTypeMember(){const e=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(77)){const t=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},e);const t=this.tsTryParseIndexSignature(e);return t||(super.parsePropertyName(e),e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||!this.tsTokenCanFollowModifier()||(e.kind=e.key.name,super.parsePropertyName(e)),this.tsParsePropertyOrMethodSignature(e,!!e.readonly))}tsParseTypeLiteral(){const e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);const e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),e}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!!this.match(0)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(58))))}tsParseMappedType(){const e=this.startNode();this.expect(5),this.match(53)?(e.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(e.readonly=!0),this.expect(0);{const t=this.startNode();t.name=this.tsParseTypeParameterName(),t.constraint=this.tsExpectThenParseType(58),e.typeParameter=this.finishNode(t,"TSTypeParameter")}return e.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(e.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(e,"TSMappedType")}tsParseTupleType(){const e=this.startNode();e.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let t=!1;return e.elementTypes.forEach((e=>{const{type:r}=e;!t||"TSRestType"===r||"TSOptionalType"===r||"TSNamedTupleMember"===r&&e.optional||this.raise(TSErrors.OptionalTypeBeforeRequired,e),t||(t="TSNamedTupleMember"===r&&e.optional||"TSOptionalType"===r)})),this.finishNode(e,"TSTupleType")}tsParseTupleElementType(){const{startLoc:e}=this.state,t=this.eat(21);let r,s,i,n;const o=tokenIsKeywordOrIdentifier(this.state.type)?this.lookaheadCharCode():null;if(58===o)r=!0,i=!1,s=this.parseIdentifier(!0),this.expect(14),n=this.tsParseType();else if(63===o){i=!0;const e=this.state.startLoc,t=this.state.value,o=this.tsParseNonArrayType();58===this.lookaheadCharCode()?(r=!0,s=this.createIdentifier(this.startNodeAt(e),t),this.expect(17),this.expect(14),n=this.tsParseType()):(r=!1,n=o,this.expect(17))}else n=this.tsParseType(),i=this.eat(17),r=this.eat(14);if(r){let e;s?(e=this.startNodeAtNode(s),e.optional=i,e.label=s,e.elementType=n,this.eat(17)&&(e.optional=!0,this.raise(TSErrors.TupleOptionalAfterType,this.state.lastTokStartLoc))):(e=this.startNodeAtNode(n),e.optional=i,this.raise(TSErrors.InvalidTupleMemberLabel,n),e.label=n,e.elementType=this.tsParseType()),n=this.finishNode(e,"TSNamedTupleMember")}else if(i){const e=this.startNodeAtNode(n);e.typeAnnotation=n,n=this.finishNode(e,"TSOptionalType")}if(t){const t=this.startNodeAt(e);t.typeAnnotation=n,n=this.finishNode(t,"TSRestType")}return n}tsParseParenthesizedType(){const e=this.startNode();return this.expect(10),e.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(e,"TSParenthesizedType")}tsParseFunctionOrConstructorType(e,t){const r=this.startNode();return"TSConstructorType"===e&&(r.abstract=!!t,t&&this.next(),this.next()),this.tsInAllowConditionalTypesContext((()=>this.tsFillSignature(19,r))),this.finishNode(r,e)}tsParseLiteralTypeNode(){const e=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:e.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(e,"TSLiteralType")}tsParseTemplateLiteralType(){const e=this.startNode();return e.literal=super.parseTemplate(!1),this.finishNode(e,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){const e=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if("-"===this.state.value){const e=this.startNode(),t=this.lookahead();return 135!==t.type&&136!==t.type&&this.unexpected(),e.literal=this.parseMaybeUnary(),this.finishNode(e,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{const{type:e}=this.state;if(tokenIsIdentifier(e)||88===e||84===e){const t=88===e?"TSVoidKeyword":84===e?"TSNullKeyword":keywordTypeFromName(this.state.value);if(void 0!==t&&46!==this.lookaheadCharCode()){const e=this.startNode();return this.next(),this.finishNode(e,t)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let e=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){const t=this.startNodeAtNode(e);t.elementType=e,this.expect(3),e=this.finishNode(t,"TSArrayType")}else{const t=this.startNodeAtNode(e);t.objectType=e,t.indexType=this.tsParseType(),this.expect(3),e=this.finishNode(t,"TSIndexedAccessType")}return e}tsParseTypeOperator(){const e=this.startNode(),t=this.state.value;return this.next(),e.operator=t,e.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===t&&this.tsCheckTypeAnnotationForReadOnly(e),this.finishNode(e,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(TSErrors.UnexpectedReadonly,e)}}tsParseInferType(){const e=this.startNode();this.expectContextual(115);const t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsTryParse((()=>this.tsParseConstraintForInferType())),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){const e=this.tsInDisallowConditionalTypesContext((()=>this.tsParseType()));if(this.state.inDisallowConditionalTypesContext||!this.match(17))return e}}tsParseTypeOperatorOrHigher(){return tokenIsTSTypeOperator(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext((()=>this.tsParseArrayTypeOrHigher()))}tsParseUnionOrIntersectionType(e,t,r){const s=this.startNode(),i=this.eat(r),n=[];do{n.push(t())}while(this.eat(r));return 1!==n.length||i?(s.types=n,this.finishNode(s,e)):n[0]}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return!!this.match(47)||this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(tokenIsIdentifier(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){const{errors:t}=this.state,r=t.length;try{return this.parseObjectLike(8,!0),t.length===r}catch(e){return!1}}if(this.match(0)){this.next();const{errors:e}=this.state,r=e.length;try{return super.parseBindingList(3,93,1),e.length===r}catch(t){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(29))return!0;if(this.match(11)&&(this.next(),this.match(19)))return!0}return!1}tsParseTypeOrTypePredicateAnnotation(e){return this.tsInType((()=>{const t=this.startNode();this.expect(e);const r=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let e=this.tsParseThisTypeOrThisTypePredicate();return"TSThisType"===e.type?(r.parameterName=e,r.asserts=!0,r.typeAnnotation=null,e=this.finishNode(r,"TSTypePredicate")):(this.resetStartLocationFromNode(e,r),e.asserts=!0),t.typeAnnotation=e,this.finishNode(t,"TSTypeAnnotation")}const i=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!i)return s?(r.parameterName=this.parseIdentifier(),r.asserts=s,r.typeAnnotation=null,t.typeAnnotation=this.finishNode(r,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,t);const n=this.tsParseTypeAnnotation(!1);return r.parameterName=i,r.typeAnnotation=n,r.asserts=s,t.typeAnnotation=this.finishNode(r,"TSTypePredicate"),this.finishNode(t,"TSTypeAnnotation")}))}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){const e=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),e}tsParseTypePredicateAsserts(){if(109!==this.state.type)return!1;const e=this.state.containsEsc;return this.next(),!(!tokenIsIdentifier(this.state.type)&&!this.match(78))&&(e&&this.raise(Errors.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(e=!0,t=this.startNode()){return this.tsInType((()=>{e&&this.expect(14),t.typeAnnotation=this.tsParseType()})),this.finishNode(t,"TSTypeAnnotation")}tsParseType(){assert(this.state.inType);const e=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return e;const t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsInDisallowConditionalTypesContext((()=>this.tsParseNonConditionalType())),this.expect(17),t.trueType=this.tsInAllowConditionalTypesContext((()=>this.tsParseType())),this.expect(14),t.falseType=this.tsInAllowConditionalTypesContext((()=>this.tsParseType())),this.finishNode(t,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&77===this.lookahead().type}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(TSErrors.ReservedTypeAssertion,this.state.startLoc);const e=this.startNode();return e.typeAnnotation=this.tsInType((()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType()))),this.expect(48),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")}tsParseHeritageClause(e){const t=this.state.startLoc,r=this.tsParseDelimitedList("HeritageClauseElement",(()=>{const e=this.startNode();return e.expression=this.tsParseEntityName(),this.match(47)&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")}));return r.length||this.raise(TSErrors.EmptyHeritageClauseType,t,{token:e}),r}tsParseInterfaceDeclaration(e,t={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),t.declare&&(e.declare=!0),tokenIsIdentifier(this.state.type)?(e.id=this.parseIdentifier(),this.checkIdentifier(e.id,130)):(e.id=null,this.raise(TSErrors.MissingInterfaceName,this.state.startLoc)),e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(e.extends=this.tsParseHeritageClause("extends"));const r=this.startNode();return r.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(r,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(e){return e.id=this.parseIdentifier(),this.checkIdentifier(e.id,2),e.typeAnnotation=this.tsInType((()=>{if(e.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&16!==this.lookahead().type){const e=this.startNode();return this.next(),this.finishNode(e,"TSIntrinsicKeyword")}return this.tsParseType()})),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")}tsInNoContext(e){const t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}}tsInType(e){const t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}}tsInDisallowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsInAllowConditionalTypesContext(e){const t=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return e()}finally{this.state.inDisallowConditionalTypesContext=t}}tsEatThenParseType(e){if(this.match(e))return this.tsNextThenParseType()}tsExpectThenParseType(e){return this.tsInType((()=>(this.expect(e),this.tsParseType())))}tsNextThenParseType(){return this.tsInType((()=>(this.next(),this.tsParseType())))}tsParseEnumMember(){const e=this.startNode();return e.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(e.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")}tsParseEnumDeclaration(e,t={}){return t.const&&(e.const=!0),t.declare&&(e.declare=!0),this.expectContextual(126),e.id=this.parseIdentifier(),this.checkIdentifier(e.id,e.const?8971:8459),this.expect(5),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(e,"TSEnumDeclaration")}tsParseModuleBlock(){const e=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(e,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(e,t=!1){if(e.id=this.parseIdentifier(),t||this.checkIdentifier(e.id,1024),this.eat(16)){const t=this.startNode();this.tsParseModuleOrNamespaceDeclaration(t,!0),e.body=t}else this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(e){return this.isContextual(112)?(e.kind="global",e.global=!0,e.id=this.parseIdentifier()):this.match(134)?(e.kind="module",e.id=super.parseStringLiteral(this.state.value)):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(e,t,r){e.isExport=r||!1,e.id=t||this.parseIdentifier(),this.checkIdentifier(e.id,4096),this.expect(29);const s=this.tsParseModuleReference();return"type"===e.importKind&&"TSExternalModuleReference"!==s.type&&this.raise(TSErrors.ImportAliasHasImportType,s),e.moduleReference=s,this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&40===this.lookaheadCharCode()}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){const e=this.startNode();return this.expectContextual(119),this.expect(10),this.match(134)||this.unexpected(),e.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(e,"TSExternalModuleReference")}tsLookAhead(e){const t=this.state.clone(),r=e();return this.state=t,r}tsTryParseAndCatch(e){const t=this.tryParse((t=>e()||t()));if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node}tsTryParse(e){const t=this.state.clone(),r=e();if(void 0!==r&&!1!==r)return r;this.state=t}tsTryParseDeclare(e){if(this.isLineTerminator())return;let t,r=this.state.type;return this.isContextual(100)&&(r=74,t="let"),this.tsInAmbientContext((()=>{switch(r){case 68:return e.declare=!0,super.parseFunctionStatement(e,!1,!1);case 80:return e.declare=!0,this.parseClass(e,!0,!1);case 126:return this.tsParseEnumDeclaration(e,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(e);case 75:case 74:return this.match(75)&&this.isLookaheadContextual("enum")?(this.expect(75),this.tsParseEnumDeclaration(e,{const:!0,declare:!0})):(e.declare=!0,this.parseVarStatement(e,t||this.state.value,!0));case 129:{const t=this.tsParseInterfaceDeclaration(e,{declare:!0});if(t)return t}default:if(tokenIsIdentifier(r))return this.tsParseDeclaration(e,this.state.value,!0,null)}}))}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(e,t,r){switch(t.name){case"declare":{const t=this.tsTryParseDeclare(e);return t&&(t.declare=!0),t}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);const r=e;return r.kind="global",r.global=!0,r.id=t,r.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(r,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(e,t.name,!1,r)}}tsParseDeclaration(e,t,r,s){switch(t){case"abstract":if(this.tsCheckLineTerminator(r)&&(this.match(80)||tokenIsIdentifier(this.state.type)))return this.tsParseAbstractDeclaration(e,s);break;case"module":if(this.tsCheckLineTerminator(r)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(e);if(tokenIsIdentifier(this.state.type))return e.kind="module",this.tsParseModuleOrNamespaceDeclaration(e)}break;case"namespace":if(this.tsCheckLineTerminator(r)&&tokenIsIdentifier(this.state.type))return e.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminator(r)&&tokenIsIdentifier(this.state.type))return this.tsParseTypeAliasDeclaration(e)}}tsCheckLineTerminator(e){return e?!this.hasFollowingLineBreak()&&(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(e){if(!this.match(47))return;const t=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;const r=this.tsTryParseAndCatch((()=>{const t=this.startNodeAt(e);return t.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(t),t.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),t}));return this.state.maybeInArrowParameters=t,r?super.parseArrowExpression(r,null,!0):void 0}tsParseTypeArgumentsInExpression(){if(47===this.reScan_lt())return this.tsParseTypeArguments()}tsParseTypeArguments(){const e=this.startNode();return e.params=this.tsInType((()=>this.tsInNoContext((()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))))),0===e.params.length?this.raise(TSErrors.EmptyTypeArguments,e):this.state.inType||this.curContext()!==types.brace||this.reScan_lt_gt(),this.expect(48),this.finishNode(e,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return tokenIsTSDeclarationStart(this.state.type)}isExportDefaultSpecifier(){return!this.tsIsDeclarationStart()&&super.isExportDefaultSpecifier()}parseAssignableListItem(e,t){const r=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);const i=s.accessibility,n=s.override,o=s.readonly;4&e||!(i||o||n)||this.raise(TSErrors.UnexpectedParameterModifier,r);const a=this.parseMaybeDefault();2&e&&this.parseFunctionParamType(a);const c=this.parseMaybeDefault(a.loc.start,a);if(i||o||n){const e=this.startNodeAt(r);return t.length&&(e.decorators=t),i&&(e.accessibility=i),o&&(e.readonly=o),n&&(e.override=n),"Identifier"!==c.type&&"AssignmentPattern"!==c.type&&this.raise(TSErrors.UnsupportedParameterPropertyKind,e),e.parameter=c,this.finishNode(e,"TSParameterProperty")}return t.length&&(a.decorators=t),c}isSimpleParameter(e){return"TSParameterProperty"===e.type&&super.isSimpleParameter(e.parameter)||super.isSimpleParameter(e)}tsDisallowOptionalPattern(e){for(const t of e.params)"Identifier"!==t.type&&t.optional&&!this.state.isAmbientContext&&this.raise(TSErrors.PatternIsOptional,t)}setArrowFunctionParameters(e,t,r){super.setArrowFunctionParameters(e,t,r),this.tsDisallowOptionalPattern(e)}parseFunctionBodyAndFinish(e,t,r=!1){this.match(14)&&(e.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));const s="FunctionDeclaration"===t?"TSDeclareFunction":"ClassMethod"===t||"ClassPrivateMethod"===t?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(e,s):"TSDeclareFunction"===s&&this.state.isAmbientContext&&(this.raise(TSErrors.DeclareFunctionHasImplementation,e),e.declare)?super.parseFunctionBodyAndFinish(e,s,r):(this.tsDisallowOptionalPattern(e),super.parseFunctionBodyAndFinish(e,t,r))}registerFunctionStatementId(e){!e.body&&e.id?this.checkIdentifier(e.id,1024):super.registerFunctionStatementId(e)}tsCheckForInvalidTypeCasts(e){e.forEach((e=>{"TSTypeCastExpression"===(null==e?void 0:e.type)&&this.raise(TSErrors.UnexpectedTypeAnnotation,e.typeAnnotation)}))}toReferencedList(e,t){return this.tsCheckForInvalidTypeCasts(e),e}parseArrayLike(e,t,r,s){const i=super.parseArrayLike(e,t,r,s);return"ArrayExpression"===i.type&&this.tsCheckForInvalidTypeCasts(i.elements),i}parseSubscript(e,t,r,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();const r=this.startNodeAt(t);return r.expression=e,this.finishNode(r,"TSNonNullExpression")}let i=!1;if(this.match(18)&&60===this.lookaheadCharCode()){if(r)return s.stop=!0,e;s.optionalChainMember=i=!0,this.next()}if(this.match(47)||this.match(51)){let n;const o=this.tsTryParseAndCatch((()=>{if(!r&&this.atPossibleAsyncArrow(e)){const e=this.tsTryParseGenericAsyncArrowFunction(t);if(e)return e}const o=this.tsParseTypeArgumentsInExpression();if(!o)return;if(i&&!this.match(10))return void(n=this.state.curPosition());if(tokenIsTemplate(this.state.type)){const r=super.parseTaggedTemplateExpression(e,t,s);return r.typeParameters=o,r}if(!r&&this.eat(10)){const r=this.startNodeAt(t);return r.callee=e,r.arguments=this.parseCallExpressionArguments(11),this.tsCheckForInvalidTypeCasts(r.arguments),r.typeParameters=o,s.optionalChainMember&&(r.optional=i),this.finishCallExpression(r,s.optionalChainMember)}const a=this.state.type;if(48===a||52===a||10!==a&&tokenCanStartExpression(a)&&!this.hasPrecedingLineBreak())return;const c=this.startNodeAt(t);return c.expression=e,c.typeParameters=o,this.finishNode(c,"TSInstantiationExpression")}));if(n&&this.unexpected(n,10),o)return"TSInstantiationExpression"===o.type&&(this.match(16)||this.match(18)&&40!==this.lookaheadCharCode())&&this.raise(TSErrors.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),o}return super.parseSubscript(e,t,r,s)}parseNewCallee(e){var t;super.parseNewCallee(e);const{callee:r}=e;"TSInstantiationExpression"!==r.type||null!=(t=r.extra)&&t.parenthesized||(e.typeParameters=r.typeParameters,e.callee=r.expression)}parseExprOp(e,t,r){let s;if(tokenOperatorPrecedence(58)>r&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){const i=this.startNodeAt(t);return i.expression=e,i.typeAnnotation=this.tsInType((()=>(this.next(),this.match(75)?(s&&this.raise(Errors.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType()))),this.finishNode(i,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(i,t,r)}return super.parseExprOp(e,t,r)}checkReservedWord(e,t,r,s){this.state.isAmbientContext||super.checkReservedWord(e,t,r,s)}checkImportReflection(e){super.checkImportReflection(e),e.module&&"value"!==e.importKind&&this.raise(TSErrors.ImportReflectionHasImportType,e.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(e){if(super.isPotentialImportPhase(e))return!0;if(this.isContextual(130)){const t=this.lookaheadCharCode();return e?123===t||42===t:61!==t}return!e&&this.isContextual(87)}applyImportPhase(e,t,r,s){super.applyImportPhase(e,t,r,s),t?e.exportKind="type"===r?"type":"value":e.importKind="type"===r||"typeof"===r?r:"value"}parseImport(e){if(this.match(134))return e.importKind="value",super.parseImport(e);let t;if(tokenIsIdentifier(this.state.type)&&61===this.lookaheadCharCode())return e.importKind="value",this.tsParseImportEqualsDeclaration(e);if(this.isContextual(130)){const r=this.parseMaybeImportPhase(e,!1);if(61===this.lookaheadCharCode())return this.tsParseImportEqualsDeclaration(e,r);t=super.parseImportSpecifiersAndAfter(e,r)}else t=super.parseImport(e);return"type"===t.importKind&&t.specifiers.length>1&&"ImportDefaultSpecifier"===t.specifiers[0].type&&this.raise(TSErrors.TypeImportCannotSpecifyDefaultAndNamed,t),t}parseExport(e,t){if(this.match(83)){this.next();const t=e;let r=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?r=this.parseMaybeImportPhase(t,!1):t.importKind="value",this.tsParseImportEqualsDeclaration(t,r,!0)}if(this.eat(29)){const t=e;return t.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExportAssignment")}if(this.eatContextual(93)){const t=e;return this.expectContextual(128),t.id=this.parseIdentifier(),this.semicolon(),this.finishNode(t,"TSNamespaceExportDeclaration")}return super.parseExport(e,t)}isAbstractClass(){return this.isContextual(124)&&80===this.lookahead().type}parseExportDefaultExpression(){if(this.isAbstractClass()){const e=this.startNode();return this.next(),e.abstract=!0,this.parseClass(e,!0,!0)}if(this.match(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseExportDefaultExpression()}parseVarStatement(e,t,r=!1){const{isAmbientContext:s}=this.state,i=super.parseVarStatement(e,t,r||s);if(!s)return i;for(const{id:n,init:o}of i.declarations)o&&("const"!==t||n.typeAnnotation?this.raise(TSErrors.InitializerNotAllowedInAmbientContext,o):isValidAmbientConstInitializer(o,this.hasPlugin("estree"))||this.raise(TSErrors.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,o));return i}parseStatementContent(e,t){if(this.match(75)&&this.isLookaheadContextual("enum")){const e=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(e,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){const e=this.tsParseInterfaceDeclaration(this.startNode());if(e)return e}return super.parseStatementContent(e,t)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(e,t){return t.some((t=>tsIsAccessModifier(t)?e.accessibility===t:!!e[t]))}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&123===this.lookaheadCharCode()}parseClassMember(e,t,r){const s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:TSErrors.InvalidModifierOnTypeParameterPositions},t);const i=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(t,s)&&this.raise(TSErrors.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(e,t)):this.parseClassMemberWithIsStatic(e,t,r,!!t.static)};t.declare?this.tsInAmbientContext(i):i()}parseClassMemberWithIsStatic(e,t,r,s){const i=this.tsTryParseIndexSignature(t);if(i)return e.body.push(i),t.abstract&&this.raise(TSErrors.IndexSignatureHasAbstract,t),t.accessibility&&this.raise(TSErrors.IndexSignatureHasAccessibility,t,{modifier:t.accessibility}),t.declare&&this.raise(TSErrors.IndexSignatureHasDeclare,t),void(t.override&&this.raise(TSErrors.IndexSignatureHasOverride,t));!this.state.inAbstractClass&&t.abstract&&this.raise(TSErrors.NonAbstractClassHasAbstractMethod,t),t.override&&(r.hadSuperClass||this.raise(TSErrors.OverrideNotInSubClass,t)),super.parseClassMemberWithIsStatic(e,t,r,s)}parsePostMemberNameModifiers(e){this.eat(17)&&(e.optional=!0),e.readonly&&this.match(10)&&this.raise(TSErrors.ClassMethodHasReadonly,e),e.declare&&this.match(10)&&this.raise(TSErrors.ClassMethodHasDeclare,e)}parseExpressionStatement(e,t,r){return("Identifier"===t.type?this.tsParseExpressionStatement(e,t,r):void 0)||super.parseExpressionStatement(e,t,r)}shouldParseExportDeclaration(){return!!this.tsIsDeclarationStart()||super.shouldParseExportDeclaration()}parseConditional(e,t,r){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(e,t,r);const s=this.tryParse((()=>super.parseConditional(e,t)));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(r,s.error),e)}parseParenItem(e,t){const r=super.parseParenItem(e,t);if(this.eat(17)&&(r.optional=!0,this.resetEndLocation(e)),this.match(14)){const r=this.startNodeAt(t);return r.expression=e,r.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(r,"TSTypeCastExpression")}return e}parseExportDeclaration(e){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext((()=>this.parseExportDeclaration(e)));const t=this.state.startLoc,r=this.eatContextual(125);if(r&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(TSErrors.ExpectedAmbientAfterExportDeclare,this.state.startLoc);const s=tokenIsIdentifier(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(e);return s?(("TSInterfaceDeclaration"===s.type||"TSTypeAliasDeclaration"===s.type||r)&&(e.exportKind="type"),r&&(this.resetStartLocation(s,t),s.declare=!0),s):null}parseClassId(e,t,r,s){if((!t||r)&&this.isContextual(113))return;super.parseClassId(e,t,r,e.declare?1024:8331);const i=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);i&&(e.typeParameters=i)}parseClassPropertyAnnotation(e){e.optional||(this.eat(35)?e.definite=!0:this.eat(17)&&(e.optional=!0));const t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)}parseClassProperty(e){if(this.parseClassPropertyAnnotation(e),this.state.isAmbientContext&&(!e.readonly||e.typeAnnotation)&&this.match(29)&&this.raise(TSErrors.DeclareClassFieldHasInitializer,this.state.startLoc),e.abstract&&this.match(29)){const{key:t}=e;this.raise(TSErrors.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:"Identifier"!==t.type||e.computed?`[${this.input.slice(this.offsetToSourcePos(t.start),this.offsetToSourcePos(t.end))}]`:t.name})}return super.parseClassProperty(e)}parseClassPrivateProperty(e){return e.abstract&&this.raise(TSErrors.PrivateElementHasAbstract,e),e.accessibility&&this.raise(TSErrors.PrivateElementHasAccessibility,e,{modifier:e.accessibility}),this.parseClassPropertyAnnotation(e),super.parseClassPrivateProperty(e)}parseClassAccessorProperty(e){return this.parseClassPropertyAnnotation(e),e.optional&&this.raise(TSErrors.AccessorCannotBeOptional,e),super.parseClassAccessorProperty(e)}pushClassMethod(e,t,r,s,i,n){const o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&i&&this.raise(TSErrors.ConstructorHasTypeParameters,o);const{declare:a=!1,kind:c}=t;!a||"get"!==c&&"set"!==c||this.raise(TSErrors.DeclareAccessor,t,{kind:c}),o&&(t.typeParameters=o),super.pushClassMethod(e,t,r,s,i,n)}pushClassPrivateMethod(e,t,r,s){const i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(t.typeParameters=i),super.pushClassPrivateMethod(e,t,r,s)}declareClassPrivateMethodInScope(e,t){"TSDeclareMethod"!==e.type&&("MethodDefinition"!==e.type||hasOwnProperty.call(e.value,"body"))&&super.declareClassPrivateMethodInScope(e,t)}parseClassSuper(e){super.parseClassSuper(e),e.superClass&&(this.match(47)||this.match(51))&&(e.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(e.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(e,t,r,s,i,n,o){const a=this.tsTryParseTypeParameters(this.tsParseConstModifier);return a&&(e.typeParameters=a),super.parseObjPropValue(e,t,r,s,i,n,o)}parseFunctionParams(e,t){const r=this.tsTryParseTypeParameters(this.tsParseConstModifier);r&&(e.typeParameters=r),super.parseFunctionParams(e,t)}parseVarId(e,t){super.parseVarId(e,t),"Identifier"===e.id.type&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(e.definite=!0);const r=this.tsTryParseTypeAnnotation();r&&(e.id.typeAnnotation=r,this.resetEndLocation(e.id))}parseAsyncArrowFromCallExpression(e,t){return this.match(14)&&(e.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(e,t)}parseMaybeAssign(e,t){var r,s,i,n,o;let a,c,l,h;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(a=this.state.clone(),c=this.tryParse((()=>super.parseMaybeAssign(e,t)),a),!c.error)return c.node;const{context:r}=this.state,s=r[r.length-1];s!==types.j_oTag&&s!==types.j_expr||r.pop()}if(!(null!=(r=c)&&r.error||this.match(47)))return super.parseMaybeAssign(e,t);a&&a!==this.state||(a=this.state.clone());const p=this.tryParse((r=>{var s,i;h=this.tsParseTypeParameters(this.tsParseConstModifier);const n=super.parseMaybeAssign(e,t);return("ArrowFunctionExpression"!==n.type||null!=(s=n.extra)&&s.parenthesized)&&r(),0!==(null==(i=h)?void 0:i.params.length)&&this.resetStartLocationFromNode(n,h),n.typeParameters=h,n}),a);if(!p.error&&!p.aborted)return h&&this.reportReservedArrowTypeParam(h),p.node;if(!c&&(assert(!this.hasPlugin("jsx")),l=this.tryParse((()=>super.parseMaybeAssign(e,t)),a),!l.error))return l.node;if(null!=(s=c)&&s.node)return this.state=c.failState,c.node;if(p.node)return this.state=p.failState,h&&this.reportReservedArrowTypeParam(h),p.node;if(null!=(i=l)&&i.node)return this.state=l.failState,l.node;throw(null==(n=c)?void 0:n.error)||p.error||(null==(o=l)?void 0:o.error)}reportReservedArrowTypeParam(e){var t;1!==e.params.length||e.params[0].constraint||null!=(t=e.extra)&&t.trailingComma||!this.getPluginOption("typescript","disallowAmbiguousJSXLike")||this.raise(TSErrors.ReservedArrowTypeParam,e)}parseMaybeUnary(e,t){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(e,t)}parseArrow(e){if(this.match(14)){const t=this.tryParse((e=>{const t=this.tsParseTypeOrTypePredicateAnnotation(14);return!this.canInsertSemicolon()&&this.match(19)||e(),t}));if(t.aborted)return;t.thrown||(t.error&&(this.state=t.failState),e.returnType=t.node)}return super.parseArrow(e)}parseFunctionParamType(e){this.eat(17)&&(e.optional=!0);const t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e}isAssignable(e,t){switch(e.type){case"TSTypeCastExpression":return this.isAssignable(e.expression,t);case"TSParameterProperty":return!0;default:return super.isAssignable(e,t)}}toAssignable(e,t=!1){switch(e.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(e,t);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":t?this.expressionScope.recordArrowParameterBindingError(TSErrors.UnexpectedTypeCastInParameter,e):this.raise(TSErrors.UnexpectedTypeCastInParameter,e),this.toAssignable(e.expression,t);break;case"AssignmentExpression":t||"TSTypeCastExpression"!==e.left.type||(e.left=this.typeCastToParameter(e.left));default:super.toAssignable(e,t)}}toAssignableParenthesizedExpression(e,t){switch(e.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;default:super.toAssignable(e,t)}}checkToRestConversion(e,t){switch(e.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(e.expression,!1);break;default:super.checkToRestConversion(e,t)}}isValidLVal(e,t,r){switch(e){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(64!==r||!t)&&["expression",!0];default:return super.isValidLVal(e,t,r)}}parseBindingAtom(){return 78===this.state.type?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(e){if(this.match(47)||this.match(51)){const t=this.tsParseTypeArgumentsInExpression();if(this.match(10)){const r=super.parseMaybeDecoratorArguments(e);return r.typeParameters=t,r}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(e)}checkCommaAfterRest(e){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===e?(this.next(),!1):super.checkCommaAfterRest(e)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(e,t){const r=super.parseMaybeDefault(e,t);return"AssignmentPattern"===r.type&&r.typeAnnotation&&r.right.start<r.typeAnnotation.start&&this.raise(TSErrors.TypeAnnotationAfterAssign,r.typeAnnotation),r}getTokenFromCode(e){if(this.state.inType){if(62===e)return void this.finishOp(48,1);if(60===e)return void this.finishOp(47,1)}super.getTokenFromCode(e)}reScan_lt_gt(){const{type:e}=this.state;47===e?(this.state.pos-=1,this.readToken_lt()):48===e&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){const{type:e}=this.state;return 51===e?(this.state.pos-=2,this.finishOp(47,1),47):e}toAssignableList(e,t,r){for(let s=0;s<e.length;s++){const t=e[s];"TSTypeCastExpression"===(null==t?void 0:t.type)&&(e[s]=this.typeCastToParameter(t))}super.toAssignableList(e,t,r)}typeCastToParameter(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.loc.end),e.expression}shouldParseArrow(e){return this.match(14)?e.every((e=>this.isAssignable(e,!0))):super.shouldParseArrow(e)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(e){if(this.match(47)||this.match(51)){const t=this.tsTryParseAndCatch((()=>this.tsParseTypeArgumentsInExpression()));t&&(e.typeParameters=t)}return super.jsxParseOpeningElementAfterName(e)}getGetterSetterExpectedParamCount(e){const t=super.getGetterSetterExpectedParamCount(e),r=this.getObjectOrClassMethodParams(e)[0];return r&&this.isThisParam(r)?t+1:t}parseCatchClauseParam(){const e=super.parseCatchClauseParam(),t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t,this.resetEndLocation(e)),e}tsInAmbientContext(e){const{isAmbientContext:t,strict:r}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return e()}finally{this.state.isAmbientContext=t,this.state.strict=r}}parseClass(e,t,r){const s=this.state.inAbstractClass;this.state.inAbstractClass=!!e.abstract;try{return super.parseClass(e,t,r)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(e,t){if(this.match(80))return e.abstract=!0,this.maybeTakeDecorators(t,this.parseClass(e,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return e.abstract=!0,this.raise(TSErrors.NonClassMethodPropertyHasAbstractModifer,e),this.tsParseInterfaceDeclaration(e)}else this.unexpected(null,80)}parseMethod(e,t,r,s,i,n,o){const a=super.parseMethod(e,t,r,s,i,n,o);if(a.abstract){if(this.hasPlugin("estree")?!!a.value.body:!!a.body){const{key:e}=a;this.raise(TSErrors.AbstractMethodHasImplementation,a,{methodName:"Identifier"!==e.type||a.computed?`[${this.input.slice(this.offsetToSourcePos(e.start),this.offsetToSourcePos(e.end))}]`:e.name})}}return a}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(e,t,r,s){return!t&&s?(this.parseTypeOnlyImportExportSpecifier(e,!1,r),this.finishNode(e,"ExportSpecifier")):(e.exportKind="value",super.parseExportSpecifier(e,t,r,s))}parseImportSpecifier(e,t,r,s,i){return!t&&s?(this.parseTypeOnlyImportExportSpecifier(e,!0,r),this.finishNode(e,"ImportSpecifier")):(e.importKind="value",super.parseImportSpecifier(e,t,r,s,r?4098:4096))}parseTypeOnlyImportExportSpecifier(e,t,r){const s=t?"imported":"local",i=t?"local":"exported";let n,o=e[s],a=!1,c=!0;const l=o.loc.start;if(this.isContextual(93)){const e=this.parseIdentifier();if(this.isContextual(93)){const r=this.parseIdentifier();tokenIsKeywordOrIdentifier(this.state.type)?(a=!0,o=e,n=t?this.parseIdentifier():this.parseModuleExportName(),c=!1):(n=r,c=!1)}else tokenIsKeywordOrIdentifier(this.state.type)?(c=!1,n=t?this.parseIdentifier():this.parseModuleExportName()):(a=!0,o=e)}else tokenIsKeywordOrIdentifier(this.state.type)&&(a=!0,t?(o=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(o.name,o.loc.start,!0,!0)):o=this.parseModuleExportName());a&&r&&this.raise(t?TSErrors.TypeModifierIsUsedInTypeImports:TSErrors.TypeModifierIsUsedInTypeExports,l),e[s]=o,e[i]=n;e[t?"importKind":"exportKind"]=a?"type":"value",c&&this.eatContextual(93)&&(e[i]=t?this.parseIdentifier():this.parseModuleExportName()),e[i]||(e[i]=cloneIdentifier(e[s])),t&&this.checkIdentifier(e[i],a?4098:4096)}};function isPossiblyLiteralEnum(e){if("MemberExpression"!==e.type)return!1;const{computed:t,property:r}=e;return(!t||"StringLiteral"===r.type||!("TemplateLiteral"!==r.type||r.expressions.length>0))&&isUncomputedMemberExpressionChain(e.object)}function isValidAmbientConstInitializer(e,t){var r;const{type:s}=e;if(null!=(r=e.extra)&&r.parenthesized)return!1;if(t){if("Literal"===s){const{value:t}=e;if("string"==typeof t||"boolean"==typeof t)return!0}}else if("StringLiteral"===s||"BooleanLiteral"===s)return!0;return!(!isNumber(e,t)&&!isNegativeNumber(e,t))||("TemplateLiteral"===s&&0===e.expressions.length||!!isPossiblyLiteralEnum(e))}function isNumber(e,t){return t?"Literal"===e.type&&("number"==typeof e.value||"bigint"in e):"NumericLiteral"===e.type||"BigIntLiteral"===e.type}function isNegativeNumber(e,t){if("UnaryExpression"===e.type){const{operator:r,argument:s}=e;if("-"===r&&isNumber(s,t))return!0}return!1}function isUncomputedMemberExpressionChain(e){return"Identifier"===e.type||"MemberExpression"===e.type&&!e.computed&&isUncomputedMemberExpressionChain(e.object)}const PlaceholderErrors=ParseErrorEnum`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."});var placeholders=e=>class extends e{parsePlaceholder(e){if(this.match(133)){const t=this.startNode();return this.next(),this.assertNoSpace(),t.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(t,e)}}finishPlaceholder(e,t){let r=e;return r.expectedNode&&r.type||(r=this.finishNode(r,"Placeholder")),r.expectedNode=t,r}getTokenFromCode(e){37===e&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(133,2):super.getTokenFromCode(e)}parseExprAtom(e){return this.parsePlaceholder("Expression")||super.parseExprAtom(e)}parseIdentifier(e){return this.parsePlaceholder("Identifier")||super.parseIdentifier(e)}checkReservedWord(e,t,r,s){void 0!==e&&super.checkReservedWord(e,t,r,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(e,t,r){return"Placeholder"===e||super.isValidLVal(e,t,r)}toAssignable(e,t){e&&"Placeholder"===e.type&&"Expression"===e.expectedNode?e.expectedNode="Pattern":super.toAssignable(e,t)}chStartsBindingIdentifier(e,t){if(super.chStartsBindingIdentifier(e,t))return!0;return 133===this.lookahead().type}verifyBreakContinue(e,t){e.label&&"Placeholder"===e.label.type||super.verifyBreakContinue(e,t)}parseExpressionStatement(e,t){var r;if("Placeholder"!==t.type||null!=(r=t.extra)&&r.parenthesized)return super.parseExpressionStatement(e,t);if(this.match(14)){const r=e;return r.label=this.finishPlaceholder(t,"Identifier"),this.next(),r.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(r,"LabeledStatement")}this.semicolon();const s=e;return s.name=t.name,this.finishPlaceholder(s,"Statement")}parseBlock(e,t,r){return this.parsePlaceholder("BlockStatement")||super.parseBlock(e,t,r)}parseFunctionId(e){return this.parsePlaceholder("Identifier")||super.parseFunctionId(e)}parseClass(e,t,r){const s=t?"ClassDeclaration":"ClassExpression";this.next();const i=this.state.strict,n=this.parsePlaceholder("Identifier");if(n){if(!(this.match(81)||this.match(133)||this.match(5))){if(r||!t)return e.id=null,e.body=this.finishPlaceholder(n,"ClassBody"),this.finishNode(e,s);throw this.raise(PlaceholderErrors.ClassNameIsRequired,this.state.startLoc)}e.id=n}else this.parseClassId(e,t,r);return super.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!e.superClass,i),this.finishNode(e,s)}parseExport(e,t){const r=this.parsePlaceholder("Identifier");if(!r)return super.parseExport(e,t);const s=e;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(r,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");const i=this.startNode();return i.exported=r,s.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],super.parseExport(s,t)}isExportDefaultSpecifier(){if(this.match(65)){const e=this.nextTokenStart();if(this.isUnparsedContextual(e,"from")&&this.input.startsWith(tokenLabelName(133),this.nextTokenStartSince(e+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(e,t){var r;return!(null==(r=e.specifiers)||!r.length)||super.maybeParseExportDefaultSpecifier(e,t)}checkExport(e){const{specifiers:t}=e;null!=t&&t.length&&(e.specifiers=t.filter((e=>"Placeholder"===e.exported.type))),super.checkExport(e),e.specifiers=t}parseImport(e){const t=this.parsePlaceholder("Identifier");if(!t)return super.parseImport(e);if(e.specifiers=[],!this.isContextual(98)&&!this.match(12))return e.source=this.finishPlaceholder(t,"StringLiteral"),this.semicolon(),this.finishNode(e,"ImportDeclaration");const r=this.startNodeAtNode(t);if(r.local=t,e.specifiers.push(this.finishNode(r,"ImportDefaultSpecifier")),this.eat(12)){this.maybeParseStarImportSpecifier(e)||this.parseNamedImportSpecifiers(e)}return this.expectContextual(98),e.source=this.parseImportSource(),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index)&&this.raise(PlaceholderErrors.UnexpectedSpace,this.state.lastTokEndLoc)}},v8intrinsic=e=>class extends e{parseV8Intrinsic(){if(this.match(54)){const e=this.state.startLoc,t=this.startNode();if(this.next(),tokenIsIdentifier(this.state.type)){const e=this.parseIdentifierName(),r=this.createIdentifier(t,e);if(r.type="V8IntrinsicIdentifier",this.match(10))return r}this.unexpected(e)}}parseExprAtom(e){return this.parseV8Intrinsic()||super.parseExprAtom(e)}};const PIPELINE_PROPOSALS=["minimal","fsharp","hack","smart"],TOPIC_TOKENS=["^^","@@","^","%","#"];function validatePlugins(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");const t=e.get("decorators").decoratorsBeforeExport;if(null!=t&&"boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");const r=e.get("decorators").allowCallParenthesized;if(null!=r&&"boolean"!=typeof r)throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var t;const r=e.get("pipelineOperator").proposal;if(!PIPELINE_PROPOSALS.includes(r)){const e=PIPELINE_PROPOSALS.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${e}.`)}const s="hash"===(null==(t=e.get("recordAndTuple"))?void 0:t.syntaxType);if("hack"===r){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");const t=e.get("pipelineOperator").topicToken;if(!TOPIC_TOKENS.includes(t)){const e=TOPIC_TOKENS.map((e=>`"${e}"`)).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${e}.`)}if("#"===t&&s)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if("smart"===r&&s)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("deprecatedImportAssert")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if("may-2020"!==e.get("moduleAttributes").version)throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAssertions")&&e.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.");if(!e.has("deprecatedImportAssert")&&e.has("importAttributes")&&e.get("importAttributes").deprecatedAssertSyntax&&e.set("deprecatedImportAssert",{}),e.has("recordAndTuple")){const t=e.get("recordAndTuple").syntaxType;if(null!=t){const e=["hash","bar"];if(!e.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+e.map((e=>`'${e}'`)).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){const e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}if(e.has("optionalChainingAssign")&&"2023-07"!==e.get("optionalChainingAssign").version)throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}const mixinPlugins={estree:estree,jsx:jsx,flow:flow,typescript:typescript,v8intrinsic:v8intrinsic,placeholders:placeholders},mixinPluginNames=Object.keys(mixinPlugins);function createDefaultOptions(){return{sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0}}function getOptions(e){const t=createDefaultOptions();if(null==e)return t;if(null!=e.annexB&&!1!==e.annexB)throw new Error("The `annexB` option can only be set to `false`.");for(const r of Object.keys(t))null!=e[r]&&(t[r]=e[r]);if(1===t.startLine)null==e.startIndex&&t.startColumn>0?t.startIndex=t.startColumn:null==e.startColumn&&t.startIndex>0&&(t.startColumn=t.startIndex);else if((null==e.startColumn||null==e.startIndex)&&null!=e.startIndex)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.");return t}class ExpressionParser extends LValParser{checkProto(e,t,r,s){if("SpreadElement"===e.type||this.isObjectMethod(e)||e.computed||e.shorthand)return;const i=e.key;if("__proto__"===("Identifier"===i.type?i.name:i.value)){if(t)return void this.raise(Errors.RecordNoProto,i);r.used&&(s?null===s.doubleProtoLoc&&(s.doubleProtoLoc=i.loc.start):this.raise(Errors.DuplicateProto,i)),r.used=!0}}shouldExitDescending(e,t){return"ArrowFunctionExpression"===e.type&&this.offsetToSourcePos(e.start)===t}getExpression(){this.enterInitialScopes(),this.nextToken();const e=this.parseExpression();return this.match(140)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd((()=>this.parseExpressionBase(t))):this.allowInAnd((()=>this.parseExpressionBase(t)))}parseExpressionBase(e){const t=this.state.startLoc,r=this.parseMaybeAssign(e);if(this.match(12)){const s=this.startNodeAt(t);for(s.expressions=[r];this.eat(12);)s.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(s.expressions),this.finishNode(s,"SequenceExpression")}return r}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd((()=>this.parseMaybeAssign(e,t)))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd((()=>this.parseMaybeAssign(e,t)))}setOptionalParametersError(e,t){var r;e.optionalParametersLoc=null!=(r=null==t?void 0:t.loc)?r:this.state.startLoc}parseMaybeAssign(e,t){const r=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let e=this.parseYield();return t&&(e=t.call(this,e,r)),e}let s;e?s=!1:(e=new ExpressionErrors,s=!0);const{type:i}=this.state;(10===i||tokenIsIdentifier(i))&&(this.state.potentialArrowAt=this.state.start);let n=this.parseMaybeConditional(e);if(t&&(n=t.call(this,n,r)),tokenIsAssignment(this.state.type)){const t=this.startNodeAt(r),s=this.state.value;if(t.operator=s,this.match(29)){this.toAssignable(n,!0),t.left=n;const s=r.index;null!=e.doubleProtoLoc&&e.doubleProtoLoc.index>=s&&(e.doubleProtoLoc=null),null!=e.shorthandAssignLoc&&e.shorthandAssignLoc.index>=s&&(e.shorthandAssignLoc=null),null!=e.privateKeyLoc&&e.privateKeyLoc.index>=s&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)}else t.left=n;return this.next(),t.right=this.parseMaybeAssign(),this.checkLVal(n,this.finishNode(t,"AssignmentExpression")),t}return s&&this.checkExpressionErrors(e,!0),n}parseMaybeConditional(e){const t=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseExprOps(e);return this.shouldExitDescending(s,r)?s:this.parseConditional(s,t,e)}parseConditional(e,t,r){if(this.eat(17)){const r=this.startNodeAt(t);return r.test=e,r.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),r.alternate=this.parseMaybeAssign(),this.finishNode(r,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){const t=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(s,r)?s:this.parseExprOp(s,t,-1)}parseExprOp(e,t,r){if(this.isPrivateName(e)){const t=this.getPrivateNameSV(e);(r>=tokenOperatorPrecedence(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(Errors.PrivateInExpectedIn,e,{identifierName:t}),this.classScope.usePrivateName(t,e.loc.start)}const s=this.state.type;if(tokenIsOperator(s)&&(this.prodParam.hasIn||!this.match(58))){let i=tokenOperatorPrecedence(s);if(i>r){if(39===s){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,t)}const n=this.startNodeAt(t);n.left=e,n.operator=this.state.value;const o=41===s||42===s,a=40===s;if(a&&(i=tokenOperatorPrecedence(42)),this.next(),39===s&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&96===this.state.type&&this.prodParam.hasAwait)throw this.raise(Errors.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);n.right=this.parseExprOpRightExpr(s,i);const c=this.finishNode(n,o||a?"LogicalExpression":"BinaryExpression"),l=this.state.type;if(a&&(41===l||42===l)||o&&40===l)throw this.raise(Errors.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(c,t,r)}}return e}parseExprOpRightExpr(e,t){const r=this.state.startLoc;if(39===e)switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext((()=>this.parseHackPipeBody()));case"smart":return this.withTopicBindingContext((()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(Errors.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),r)}));case"fsharp":return this.withSoloAwaitPermittingContext((()=>this.parseFSharpPipelineBody(t)))}return this.parseExprOpBaseRightExpr(e,t)}parseExprOpBaseRightExpr(e,t){const r=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),r,tokenIsRightAssociative(e)?t-1:t)}parseHackPipeBody(){var e;const{startLoc:t}=this.state,r=this.parseMaybeAssign();return!UnparenthesizedPipeBodyDescriptions.has(r.type)||null!=(e=r.extra)&&e.parenthesized||this.raise(Errors.PipeUnparenthesizedBody,t,{type:r.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(Errors.PipeTopicUnused,t),r}checkExponentialAfterUnary(e){this.match(57)&&this.raise(Errors.UnexpectedTokenUnaryExponentiation,e.argument)}parseMaybeUnary(e,t){const r=this.state.startLoc,s=this.isContextual(96);if(s&&this.recordAwaitIfAllowed()){this.next();const e=this.parseAwait(r);return t||this.checkExponentialAfterUnary(e),e}const i=this.match(34),n=this.startNode();if(tokenIsPrefix(this.state.type)){n.operator=this.state.value,n.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");const r=this.match(89);if(this.next(),n.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&r){const e=n.argument;"Identifier"===e.type?this.raise(Errors.StrictDelete,n):this.hasPropertyAsPrivateName(e)&&this.raise(Errors.DeletePrivateField,n)}if(!i)return t||this.checkExponentialAfterUnary(n),this.finishNode(n,"UnaryExpression")}const o=this.parseUpdate(n,i,e);if(s){const{type:e}=this.state;if((this.hasPlugin("v8intrinsic")?tokenCanStartExpression(e):tokenCanStartExpression(e)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(Errors.AwaitNotInAsyncContext,r),this.parseAwait(r)}return o}parseUpdate(e,t,r){if(t){const t=e;return this.checkLVal(t.argument,this.finishNode(t,"UpdateExpression")),e}const s=this.state.startLoc;let i=this.parseExprSubscripts(r);if(this.checkExpressionErrors(r,!1))return i;for(;tokenIsPostfix(this.state.type)&&!this.canInsertSemicolon();){const e=this.startNodeAt(s);e.operator=this.state.value,e.prefix=!1,e.argument=i,this.next(),this.checkLVal(i,i=this.finishNode(e,"UpdateExpression"))}return i}parseExprSubscripts(e){const t=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseExprAtom(e);return this.shouldExitDescending(s,r)?s:this.parseSubscripts(s,t)}parseSubscripts(e,t,r){const s={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{e=this.parseSubscript(e,t,r,s),s.maybeAsyncArrow=!1}while(!s.stop);return e}parseSubscript(e,t,r,s){const{type:i}=this.state;if(!r&&15===i)return this.parseBind(e,t,r,s);if(tokenIsTemplate(i))return this.parseTaggedTemplateExpression(e,t,s);let n=!1;if(18===i){if(r&&(this.raise(Errors.OptionalChainingNoNew,this.state.startLoc),40===this.lookaheadCharCode()))return s.stop=!0,e;s.optionalChainMember=n=!0,this.next()}if(!r&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,s,n);{const r=this.eat(0);return r||n||this.eat(16)?this.parseMember(e,t,s,r,n):(s.stop=!0,e)}}parseMember(e,t,r,s,i){const n=this.startNodeAt(t);return n.object=e,n.computed=s,s?(n.property=this.parseExpression(),this.expect(3)):this.match(139)?("Super"===e.type&&this.raise(Errors.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),n.property=this.parsePrivateName()):n.property=this.parseIdentifier(!0),r.optionalChainMember?(n.optional=i,this.finishNode(n,"OptionalMemberExpression")):this.finishNode(n,"MemberExpression")}parseBind(e,t,r,s){const i=this.startNodeAt(t);return i.object=e,this.next(),i.callee=this.parseNoCallExpr(),s.stop=!0,this.parseSubscripts(this.finishNode(i,"BindExpression"),t,r)}parseCoverCallAndAsyncArrowHead(e,t,r,s){const i=this.state.maybeInArrowParameters;let n=null;this.state.maybeInArrowParameters=!0,this.next();const o=this.startNodeAt(t);o.callee=e;const{maybeAsyncArrow:a,optionalChainMember:c}=r;a&&(this.expressionScope.enter(newAsyncArrowScope()),n=new ExpressionErrors),c&&(o.optional=s),o.arguments=s?this.parseCallExpressionArguments(11):this.parseCallExpressionArguments(11,"Super"!==e.type,o,n);let l=this.finishCallExpression(o,c);return a&&this.shouldParseAsyncArrow()&&!s?(r.stop=!0,this.checkDestructuringPrivate(n),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),l=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),l)):(a&&(this.checkExpressionErrors(n,!0),this.expressionScope.exit()),this.toReferencedArguments(l)),this.state.maybeInArrowParameters=i,l}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,r){const s=this.startNodeAt(t);return s.tag=e,s.quasi=this.parseTemplate(!0),r.optionalChainMember&&this.raise(Errors.OptionalChainingNoTemplate,t),this.finishNode(s,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.offsetToSourcePos(e.start)===this.state.potentialArrowAt}finishCallExpression(e,t){if("Import"===e.callee.type)if(0===e.arguments.length||e.arguments.length>2)this.raise(Errors.ImportCallArity,e);else for(const r of e.arguments)"SpreadElement"===r.type&&this.raise(Errors.ImportCallSpreadArgument,r);return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,r,s){const i=[];let n=!0;const o=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(n)n=!1;else if(this.expect(12),this.match(e)){r&&this.addTrailingCommaExtraToNode(r),this.next();break}i.push(this.parseExprListItem(!1,s,t))}return this.state.inFSharpPipelineDirectBody=o,i}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var r;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,null==(r=t.extra)?void 0:r.trailingCommaLoc),t.innerComments&&setInnerComments(e,t.innerComments),t.callee.trailingComments&&setInnerComments(e,t.callee.trailingComments),e}parseNoCallExpr(){const e=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,!0)}parseExprAtom(e){let t,r=null;const{type:s}=this.state;switch(s){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(Errors.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{const e=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(e)}case 2:case 1:return this.parseArrayLike(2===this.state.type?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(6===this.state.type?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:r=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(r,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;const e=t.callee=this.parseNoCallExpr();if("MemberExpression"===e.type)return this.finishNode(t,"BindExpression");throw this.raise(Errors.UnsupportedBind,e)}case 139:return this.raise(Errors.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{const e=this.getPluginOption("pipelineOperator","proposal");if(e)return this.parseTopicReference(e);this.unexpected();break}case 47:{const e=this.input.codePointAt(this.nextTokenStart());isIdentifierStart(e)||62===e?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(137===s)return this.parseDecimalLiteral(this.state.value);if(tokenIsIdentifier(s)){if(this.isContextual(127)&&123===this.lookaheadInLineCharCode())return this.parseModuleExpression();const e=this.state.potentialArrowAt===this.state.start,t=this.state.containsEsc,r=this.parseIdentifier();if(!t&&"async"===r.name&&!this.canInsertSemicolon()){const{type:e}=this.state;if(68===e)return this.resetPreviousNodeTrailingComments(r),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(r));if(tokenIsIdentifier(e))return 61===this.lookaheadCharCode()?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(r)):r;if(90===e)return this.resetPreviousNodeTrailingComments(r),this.parseDo(this.startNodeAtNode(r),!0)}return e&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(r),[r],!1)):r}this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){const r=this.getPluginOption("pipelineOperator","proposal");if(r)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=createPositionWithColumnOffset(this.state.endLoc,-1),this.parseTopicReference(r);this.unexpected()}parseTopicReference(e){const t=this.startNode(),r=this.state.startLoc,s=this.state.type;return this.next(),this.finishTopicReference(t,r,e,s)}finishTopicReference(e,t,r,s){if(this.testTopicReferenceConfiguration(r,t,s)){const s="smart"===r?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise("smart"===r?Errors.PrimaryTopicNotAllowed:Errors.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(e,s)}throw this.raise(Errors.PipeTopicUnconfiguredToken,t,{token:tokenLabelName(s)})}testTopicReferenceConfiguration(e,t,r){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:tokenLabelName(r)}]);case"smart":return 27===r;default:throw this.raise(Errors.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(functionFlags(!0,this.prodParam.hasYield));const t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(Errors.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();const r=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=r,this.finishNode(e,"DoExpression")}parseSuper(){const e=this.startNode();return this.next(),!this.match(10)||this.scope.allowDirectSuper||this.options.allowSuperOutsideMethod?this.scope.allowSuper||this.options.allowSuperOutsideMethod||this.raise(Errors.UnexpectedSuper,e):this.raise(Errors.SuperNotAllowed,e),this.match(10)||this.match(0)||this.match(16)||this.raise(Errors.UnsupportedSuper,e),this.finishNode(e,"Super")}parsePrivateName(){const e=this.startNode(),t=this.startNodeAt(createPositionWithColumnOffset(this.state.startLoc,1)),r=this.state.value;return this.next(),e.id=this.createIdentifier(t,r),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){const e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,r){e.meta=t;const s=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==r||s)&&this.raise(Errors.UnsupportedMetaProperty,e.property,{target:t.name,onlyValidPropertyName:r}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){const t=this.createIdentifier(this.startNodeAtNode(e),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(Errors.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){const t=this.isContextual(105);if(t||this.unexpected(),this.expectPlugin(t?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(Errors.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),e.phase=t?"source":"defer",this.parseImportCall(e)}return this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,r){return this.addExtra(r,"rawValue",e),this.addExtra(r,"raw",this.input.slice(this.offsetToSourcePos(r.start),this.state.end)),r.value=e,this.next(),this.finishNode(r,t)}parseLiteral(e,t){const r=this.startNode();return this.parseLiteralAtNode(e,t,r)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){const t=this.startNode();return this.addExtra(t,"raw",this.input.slice(this.offsetToSourcePos(t.start),this.state.end)),t.pattern=e.pattern,t.flags=e.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(e){const t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){const e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){const t=this.state.startLoc;let r;this.next(),this.expressionScope.enter(newArrowHeadScope());const s=this.state.maybeInArrowParameters,i=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;const n=this.state.startLoc,o=[],a=new ExpressionErrors;let c,l,h=!0;for(;!this.match(11);){if(h)h=!1;else if(this.expect(12,null===a.optionalParametersLoc?null:a.optionalParametersLoc),this.match(11)){l=this.state.startLoc;break}if(this.match(21)){const e=this.state.startLoc;if(c=this.state.startLoc,o.push(this.parseParenItem(this.parseRestBinding(),e)),!this.checkCommaAfterRest(41))break}else o.push(this.parseMaybeAssignAllowIn(a,this.parseParenItem))}const p=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=s,this.state.inFSharpPipelineDirectBody=i;let u=this.startNodeAt(t);return e&&this.shouldParseArrow(o)&&(u=this.parseArrow(u))?(this.checkDestructuringPrivate(a),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(u,o,!1),u):(this.expressionScope.exit(),o.length||this.unexpected(this.state.lastTokStartLoc),l&&this.unexpected(l),c&&this.unexpected(c),this.checkExpressionErrors(a,!0),this.toReferencedListDeep(o,!0),o.length>1?(r=this.startNodeAt(n),r.expressions=o,this.finishNode(r,"SequenceExpression"),this.resetEndLocation(r,p)):r=o[0],this.wrapParenthesis(t,r))}wrapParenthesis(e,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",e.index),this.takeSurroundingComments(t,e.index,this.state.lastTokEndLoc.index),t;const r=this.startNodeAt(e);return r.expression=t,this.finishNode(r,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t){return e}parseNewOrNewTarget(){const e=this.startNode();if(this.next(),this.match(16)){const t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();const r=this.parseMetaProperty(e,t,"target");return this.scope.inNonArrowFunction||this.scope.inClass||this.options.allowNewTargetOutsideFunction||this.raise(Errors.UnexpectedNewTarget,r),r}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){const t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){const t=this.match(83),r=this.parseNoCallExpr();e.callee=r,!t||"Import"!==r.type&&"ImportExpression"!==r.type||this.raise(Errors.ImportCallNotNewExpression,r)}parseTemplateElement(e){const{start:t,startLoc:r,end:s,value:i}=this.state,n=t+1,o=this.startNodeAt(createPositionWithColumnOffset(r,1));null===i&&(e||this.raise(Errors.InvalidEscapeSequenceTemplate,createPositionWithColumnOffset(this.state.firstInvalidTemplateEscapePos,1)));const a=this.match(24),c=a?-1:-2,l=s+c;o.value={raw:this.input.slice(n,l).replace(/\r\n?/g,"\n"),cooked:null===i?null:i.slice(1,c)},o.tail=a,this.next();const h=this.finishNode(o,"TemplateElement");return this.resetEndLocation(h,createPositionWithColumnOffset(this.state.lastTokEndLoc,c)),h}parseTemplate(e){const t=this.startNode();let r=this.parseTemplateElement(e);const s=[r],i=[];for(;!r.tail;)i.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),s.push(r=this.parseTemplateElement(e));return t.expressions=i,t.quasis=s,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,r,s){r&&this.expectPlugin("recordAndTuple");const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const n=Object.create(null);let o=!0;const a=this.startNode();for(a.properties=[],this.next();!this.match(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(a);break}let i;t?i=this.parseBindingProperty():(i=this.parsePropertyDefinition(s),this.checkProto(i,r,n,s)),r&&!this.isObjectProperty(i)&&"SpreadElement"!==i.type&&this.raise(Errors.InvalidRecordProperty,i),i.shorthand&&this.addExtra(i,"shorthand",!0),a.properties.push(i)}this.next(),this.state.inFSharpPipelineDirectBody=i;let c="ObjectExpression";return t?c="ObjectPattern":r&&(c="RecordExpression"),this.finishNode(a,c)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(Errors.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());const r=this.startNode();let s,i=!1,n=!1;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(r.decorators=t,t=[]),r.method=!1,e&&(s=this.state.startLoc);let o=this.eat(55);this.parsePropertyNamePrefixOperator(r);const a=this.state.containsEsc;if(this.parsePropertyName(r,e),!o&&!a&&this.maybeAsyncOrAccessorProp(r)){const{key:e}=r,t=e.name;"async"!==t||this.hasPrecedingLineBreak()||(i=!0,this.resetPreviousNodeTrailingComments(e),o=this.eat(55),this.parsePropertyName(r)),"get"!==t&&"set"!==t||(n=!0,this.resetPreviousNodeTrailingComments(e),r.kind=t,this.match(55)&&(o=!0,this.raise(Errors.AccessorIsGenerator,this.state.curPosition(),{kind:t}),this.next()),this.parsePropertyName(r))}return this.parseObjPropValue(r,s,o,i,!1,n,e)}getGetterSetterExpectedParamCount(e){return"get"===e.kind?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;const r=this.getGetterSetterExpectedParamCount(e),s=this.getObjectOrClassMethodParams(e);s.length!==r&&this.raise("get"===e.kind?Errors.BadGetterArity:Errors.BadSetterArity,e),"set"===e.kind&&"RestElement"===(null==(t=s[s.length-1])?void 0:t.type)&&this.raise(Errors.BadSetterRestParameter,e)}parseObjectMethod(e,t,r,s,i){if(i){const r=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(r),r}if(r||t||this.match(10))return s&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,r,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,r,s){if(e.shorthand=!1,this.eat(14))return e.value=r?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(s),this.finishNode(e,"ObjectProperty");if(!e.computed&&"Identifier"===e.key.type){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),r)e.value=this.parseMaybeDefault(t,cloneIdentifier(e.key));else if(this.match(29)){const r=this.state.startLoc;null!=s?null===s.shorthandAssignLoc&&(s.shorthandAssignLoc=r):this.raise(Errors.InvalidCoverInitializedName,r),e.value=this.parseMaybeDefault(t,cloneIdentifier(e.key))}else e.value=cloneIdentifier(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,t,r,s,i,n,o){const a=this.parseObjectMethod(e,r,s,i,n)||this.parseObjectProperty(e,t,i,o);return a||this.unexpected(),a}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{const{type:r,value:s}=this.state;let i;if(tokenIsKeywordOrIdentifier(r))i=this.parseIdentifier(!0);else switch(r){case 135:i=this.parseNumericLiteral(s);break;case 134:i=this.parseStringLiteral(s);break;case 136:i=this.parseBigIntLiteral(s);break;case 139:{const e=this.state.startLoc;null!=t?null===t.privateKeyLoc&&(t.privateKeyLoc=e):this.raise(Errors.UnexpectedPrivateField,e),i=this.parsePrivateName();break}default:if(137===r){i=this.parseDecimalLiteral(s);break}this.unexpected()}e.key=i,139!==r&&(e.computed=!1)}}initFunction(e,t){e.id=null,e.generator=!1,e.async=t}parseMethod(e,t,r,s,i,n,o=!1){this.initFunction(e,r),e.generator=t,this.scope.enter(18|(o?64:0)|(i?32:0)),this.prodParam.enter(functionFlags(r,e.generator)),this.parseFunctionParams(e,s);const a=this.parseFunctionBodyAndFinish(e,n,!0);return this.prodParam.exit(),this.scope.exit(),a}parseArrayLike(e,t,r,s){r&&this.expectPlugin("recordAndTuple");const i=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;const n=this.startNode();return this.next(),n.elements=this.parseExprList(e,!r,s,n),this.state.inFSharpPipelineDirectBody=i,this.finishNode(n,r?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,r,s){this.scope.enter(6);let i=functionFlags(r,!1);!this.match(5)&&this.prodParam.hasIn&&(i|=8),this.prodParam.enter(i),this.initFunction(e,r);const n=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,s)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=n,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,r){this.toAssignableList(t,r,!1),e.params=t}parseFunctionBodyAndFinish(e,t,r=!1){return this.parseFunctionBody(e,!1,r),this.finishNode(e,t)}parseFunctionBody(e,t,r=!1){const s=t&&!this.match(5);if(this.expressionScope.enter(newExpressionScope()),s)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{const s=this.state.strict,i=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,(i=>{const n=!this.isSimpleParamList(e.params);i&&n&&this.raise(Errors.IllegalLanguageModeDirective,"method"!==e.kind&&"constructor"!==e.kind||!e.key?e:e.key.loc.end);const o=!s&&this.state.strict;this.checkParams(e,!(this.state.strict||t||r||n),t,o),this.state.strict&&e.id&&this.checkIdentifier(e.id,65,o)})),this.prodParam.exit(),this.state.labels=i}this.expressionScope.exit()}isSimpleParameter(e){return"Identifier"===e.type}isSimpleParamList(e){for(let t=0,r=e.length;t<r;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,r,s=!0){const i=!t&&new Set,n={type:"FormalParameters"};for(const o of e.params)this.checkLVal(o,n,5,i,s)}parseExprList(e,t,r,s){const i=[];let n=!0;for(;!this.eat(e);){if(n)n=!1;else if(this.expect(12),this.match(e)){s&&this.addTrailingCommaExtraToNode(s),this.next();break}i.push(this.parseExprListItem(t,r))}return i}parseExprListItem(e,t,r){let s;if(this.match(12))e||this.raise(Errors.UnexpectedToken,this.state.curPosition(),{unexpected:","}),s=null;else if(this.match(21)){const e=this.state.startLoc;s=this.parseParenItem(this.parseSpread(t),e)}else if(this.match(17)){this.expectPlugin("partialApplication"),r||this.raise(Errors.UnexpectedArgumentPlaceholder,this.state.startLoc);const e=this.startNode();this.next(),s=this.finishNode(e,"ArgumentPlaceholder")}else s=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return s}parseIdentifier(e){const t=this.startNode(),r=this.parseIdentifierName(e);return this.createIdentifier(t,r)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e){let t;const{startLoc:r,type:s}=this.state;tokenIsKeywordOrIdentifier(s)?t=this.state.value:this.unexpected();const i=tokenKeywordOrIdentifierIsKeyword(s);return e?i&&this.replaceToken(132):this.checkReservedWord(t,r,i,!1),this.next(),t}checkReservedWord(e,t,r,s){if(e.length>10)return;if(!canBeReservedWord(e))return;if(r&&isKeyword(e))return void this.raise(Errors.UnexpectedKeyword,t,{keyword:e});if((this.state.strict?s?isStrictBindReservedWord:isStrictReservedWord:isReservedWord)(e,this.inModule))this.raise(Errors.UnexpectedReservedWord,t,{reservedWord:e});else if("yield"===e){if(this.prodParam.hasYield)return void this.raise(Errors.YieldBindingIdentifier,t)}else if("await"===e){if(this.prodParam.hasAwait)return void this.raise(Errors.AwaitBindingIdentifier,t);if(this.scope.inStaticBlock)return void this.raise(Errors.AwaitBindingIdentifierInStaticBlock,t);this.expressionScope.recordAsyncArrowParametersError(t)}else if("arguments"===e&&this.scope.inClassAndNotInNonArrowFunction)return void this.raise(Errors.ArgumentsInClass,t)}recordAwaitIfAllowed(){const e=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return e&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),e}parseAwait(e){const t=this.startNodeAt(e);return this.expressionScope.recordParameterInitializerError(Errors.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(Errors.ObsoleteAwaitStar,t),this.scope.inFunction||this.options.allowAwaitOutsideFunction||(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;const{type:e}=this.state;return 53===e||10===e||0===e||tokenIsTemplate(e)||102===e&&!this.state.containsEsc||138===e||56===e||this.hasPlugin("v8intrinsic")&&54===e}parseYield(){const e=this.startNode();this.expressionScope.recordParameterInitializerError(Errors.YieldInParameter,e),this.next();let t=!1,r=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:r=this.parseMaybeAssign()}return e.delegate=t,e.argument=r,this.finishNode(e,"YieldExpression")}parseImportCall(e){if(this.next(),e.source=this.parseMaybeAssignAllowIn(),e.options=null,this.eat(12)&&!this.match(11)&&(e.options=this.parseMaybeAssignAllowIn(),this.eat(12)&&!this.match(11))){do{this.parseMaybeAssignAllowIn()}while(this.eat(12)&&!this.match(11));this.raise(Errors.ImportCallArity,e)}return this.expect(11),this.finishNode(e,"ImportExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&"SequenceExpression"===e.type&&this.raise(Errors.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(e,t){if(this.isSimpleReference(e)){const r=this.startNodeAt(t);return r.callee=e,this.finishNode(r,"PipelineBareFunction")}{const r=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),r.expression=e,this.finishNode(r,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(Errors.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(Errors.PipelineTopicUnused,e)}withTopicBindingContext(e){const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(!this.hasPlugin(["pipelineOperator",{proposal:"smart"}]))return e();{const t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}}withSoloAwaitPermittingContext(e){const t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){const t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){const t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){const t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;const r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;const s=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,e);return this.state.inFSharpPipelineDirectBody=r,s}parseModuleExpression(){this.expectPlugin("moduleBlocks");const e=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);const t=this.startNodeAt(this.state.endLoc);this.next();const r=this.initializeScopes(!0);this.enterInitialScopes();try{e.body=this.parseProgram(t,8,"module")}finally{r()}return this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}}const loopLabel={kind:1},switchLabel={kind:2},loneSurrogate=/[\uD800-\uDFFF]/u,keywordRelationalOperator=/in(?:stanceof)?/y;function babel7CompatTokens(e,t,r){for(let s=0;s<e.length;s++){const i=e[s],{type:n}=i;if("number"==typeof n){if(139===n){const{loc:t,start:r,value:n,end:o}=i,a=r+1,c=createPositionWithColumnOffset(t.start,1);e.splice(s,1,new Token({type:getExportedToken(27),value:"#",start:r,end:a,startLoc:t.start,endLoc:c}),new Token({type:getExportedToken(132),value:n,start:a,end:o,startLoc:c,endLoc:t.end})),s++;continue}if(tokenIsTemplate(n)){const{loc:o,start:a,value:c,end:l}=i,h=a+1,p=createPositionWithColumnOffset(o.start,1);let u,d,f,m,y;u=96===t.charCodeAt(a-r)?new Token({type:getExportedToken(22),value:"`",start:a,end:h,startLoc:o.start,endLoc:p}):new Token({type:getExportedToken(8),value:"}",start:a,end:h,startLoc:o.start,endLoc:p}),24===n?(f=l-1,m=createPositionWithColumnOffset(o.end,-1),d=null===c?null:c.slice(1,-1),y=new Token({type:getExportedToken(22),value:"`",start:f,end:l,startLoc:m,endLoc:o.end})):(f=l-2,m=createPositionWithColumnOffset(o.end,-2),d=null===c?null:c.slice(1,-2),y=new Token({type:getExportedToken(23),value:"${",start:f,end:l,startLoc:m,endLoc:o.end})),e.splice(s,1,u,new Token({type:getExportedToken(20),value:d,start:h,end:f,startLoc:p,endLoc:m}),y),s+=2;continue}i.type=getExportedToken(n)}}return e}class StatementParser extends ExpressionParser{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.comments,this.options.tokens&&(e.tokens=babel7CompatTokens(this.tokens,this.input,this.startIndex)),this.finishNode(e,"File")}parseProgram(e,t=140,r=this.options.sourceType){if(e.sourceType=r,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(const[e,t]of Array.from(this.scope.undefinedExports))this.raise(Errors.ModuleExportUndefined,t,{localName:e});this.addExtra(e,"topLevelAwait",this.state.hasTopLevelAwait)}let s;return s=140===t?this.finishNode(e,"Program"):this.finishNodeAt(e,"Program",createPositionWithColumnOffset(this.state.startLoc,-1)),s}stmtToDirective(e){const t=e;t.type="Directive",t.value=t.expression,delete t.expression;const r=t.value,s=r.value,i=this.input.slice(this.offsetToSourcePos(r.start),this.offsetToSourcePos(r.end)),n=r.value=i.slice(1,-1);return this.addExtra(r,"raw",i),this.addExtra(r,"rawValue",n),this.addExtra(r,"expressionValue",s),r.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;const e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(){return!!this.isContextual(100)&&this.hasFollowingBindingAtom()}chStartsBindingIdentifier(e,t){if(isIdentifierStart(e)){if(keywordRelationalOperator.lastIndex=t,keywordRelationalOperator.test(this.input)){const e=this.codePointAtPos(keywordRelationalOperator.lastIndex);if(!isIdentifierChar(e)&&92!==e)return!1}return!0}return 92===e}chStartsBindingPattern(e){return 91===e||123===e}hasFollowingBindingAtom(){const e=this.nextTokenStart(),t=this.codePointAtPos(e);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,e)}hasInLineFollowingBindingIdentifierOrBrace(){const e=this.nextTokenInLineStart(),t=this.codePointAtPos(e);return 123===t||this.chStartsBindingIdentifier(t,e)}startsUsingForOf(){const{type:e,containsEsc:t}=this.lookahead();return!(102===e&&!t)&&(tokenIsIdentifier(e)&&!this.hasFollowingLineBreak()?(this.expectPlugin("explicitResourceManagement"),!0):void 0)}startsAwaitUsing(){let e=this.nextTokenInLineStart();if(this.isUnparsedContextual(e,"using")){e=this.nextTokenInLineStartSince(e+5);const t=this.codePointAtPos(e);if(this.chStartsBindingIdentifier(t,e))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(e=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,e&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(e){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(e,t)}parseStatementContent(e,t){const r=this.state.type,s=this.startNode(),i=!!(2&e),n=!!(4&e),o=1&e;switch(r){case 60:return this.parseBreakContinueStatement(s,!0);case 63:return this.parseBreakContinueStatement(s,!1);case 64:return this.parseDebuggerStatement(s);case 90:return this.parseDoWhileStatement(s);case 91:return this.parseForStatement(s);case 68:if(46===this.lookaheadCharCode())break;return n||this.raise(this.state.strict?Errors.StrictFunction:this.options.annexB?Errors.SloppyFunctionAnnexB:Errors.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(s,!1,!i&&n);case 80:return i||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,s),!0);case 69:return this.parseIfStatement(s);case 70:return this.parseReturnStatement(s);case 71:return this.parseSwitchStatement(s);case 72:return this.parseThrowStatement(s);case 73:return this.parseTryStatement(s);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?i||this.raise(Errors.UnexpectedLexicalDeclaration,s):this.raise(Errors.AwaitUsingNotInAsyncContext,s),this.next(),this.parseVarStatement(s,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(Errors.UnexpectedUsingDeclaration,this.state.startLoc):i||this.raise(Errors.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(s,"using");case 100:{if(this.state.containsEsc)break;const e=this.nextTokenStart(),t=this.codePointAtPos(e);if(91!==t){if(!i&&this.hasFollowingLineBreak())break;if(!this.chStartsBindingIdentifier(t,e)&&123!==t)break}}case 75:i||this.raise(Errors.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{const e=this.state.value;return this.parseVarStatement(s,e)}case 92:return this.parseWhileStatement(s);case 76:return this.parseWithStatement(s);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(s);case 83:{const e=this.lookaheadCharCode();if(40===e||46===e)break}case 82:{let e;return this.options.allowImportExportEverywhere||o||this.raise(Errors.UnexpectedImportExport,this.state.startLoc),this.next(),83===r?(e=this.parseImport(s),"ImportDeclaration"!==e.type||e.importKind&&"value"!==e.importKind||(this.sawUnambiguousESM=!0)):(e=this.parseExport(s,t),("ExportNamedDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&("ExportAllDeclaration"!==e.type||e.exportKind&&"value"!==e.exportKind)&&"ExportDefaultDeclaration"!==e.type||(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(e),e}default:if(this.isAsyncFunction())return i||this.raise(Errors.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(s,!0,!i&&n)}const a=this.state.value,c=this.parseExpression();return tokenIsIdentifier(r)&&"Identifier"===c.type&&this.eat(14)?this.parseLabeledStatement(s,a,c,e):this.parseExpressionStatement(s,c,t)}assertModuleNodeAllowed(e){this.options.allowImportExportEverywhere||this.inModule||this.raise(Errors.ImportOutsideModule,e)}decoratorsEnabledBeforeExport(){return!!this.hasPlugin("decorators-legacy")||this.hasPlugin("decorators")&&!1!==this.getPluginOption("decorators","decoratorsBeforeExport")}maybeTakeDecorators(e,t,r){return e&&(t.decorators&&t.decorators.length>0?("boolean"!=typeof this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(Errors.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...e)):t.decorators=e,this.resetStartLocationFromNode(t,e[0]),r&&this.resetStartLocationFromNode(r,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){const t=[];do{t.push(this.parseDecorator())}while(this.match(26));if(this.match(82))e||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(Errors.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(Errors.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);const e=this.startNode();if(this.next(),this.hasPlugin("decorators")){const t=this.state.startLoc;let r;if(this.match(10)){const t=this.state.startLoc;this.next(),r=this.parseExpression(),this.expect(11),r=this.wrapParenthesis(t,r);const s=this.state.startLoc;e.expression=this.parseMaybeDecoratorArguments(r),!1===this.getPluginOption("decorators","allowCallParenthesized")&&e.expression!==r&&this.raise(Errors.DecoratorArgumentsOutsideParentheses,s)}else{for(r=this.parseIdentifier(!1);this.eat(16);){const e=this.startNodeAt(t);e.object=r,this.match(139)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),e.property=this.parsePrivateName()):e.property=this.parseIdentifier(!0),e.computed=!1,r=this.finishNode(e,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(r)}}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){const t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let r;for(r=0;r<this.state.labels.length;++r){const s=this.state.labels[r];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(t||1===s.kind))break;if(e.label&&t)break}}if(r===this.state.labels.length){const r=t?"BreakStatement":"ContinueStatement";this.raise(Errors.IllegalBreakContinue,e,{type:r})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);const e=this.parseExpression();return this.expect(11),e}parseDoWhileStatement(e){return this.next(),this.state.labels.push(loopLabel),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(loopLabel);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return null!==t&&this.unexpected(t),this.parseFor(e,null);const r=this.isContextual(100);{const s=this.isContextual(96)&&this.startsAwaitUsing(),i=s||this.isContextual(107)&&this.startsUsingForOf(),n=r&&this.hasFollowingBindingAtom()||i;if(this.match(74)||this.match(75)||n){const r=this.startNode();let n;s?(n="await using",this.recordAwaitIfAllowed()||this.raise(Errors.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):n=this.state.value,this.next(),this.parseVar(r,!0,n);const o=this.finishNode(r,"VariableDeclaration"),a=this.match(58);return a&&i&&this.raise(Errors.ForInUsing,o),(a||this.isContextual(102))&&1===o.declarations.length?this.parseForIn(e,o,t):(null!==t&&this.unexpected(t),this.parseFor(e,o))}}const s=this.isContextual(95),i=new ExpressionErrors,n=this.parseExpression(!0,i),o=this.isContextual(102);if(o&&(r&&this.raise(Errors.ForOfLet,n),null===t&&s&&"Identifier"===n.type&&this.raise(Errors.ForOfAsync,n)),o||this.match(58)){this.checkDestructuringPrivate(i),this.toAssignable(n,!0);const r=o?"ForOfStatement":"ForInStatement";return this.checkLVal(n,{type:r}),this.parseForIn(e,n,t)}return this.checkExpressionErrors(i,!0),null!==t&&this.unexpected(t),this.parseFor(e,n)}parseFunctionStatement(e,t,r){return this.next(),this.parseFunction(e,1|(r?2:0)|(t?8:0))}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),e.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return this.prodParam.hasReturn||this.options.allowReturnOutsideFunction||this.raise(Errors.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();const t=e.cases=[];let r;this.expect(5),this.state.labels.push(switchLabel),this.scope.enter(0);for(let s;!this.match(8);)if(this.match(61)||this.match(65)){const e=this.match(61);r&&this.finishNode(r,"SwitchCase"),t.push(r=this.startNode()),r.consequent=[],this.next(),e?r.test=this.parseExpression():(s&&this.raise(Errors.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),s=!0,r.test=null),this.expect(14)}else r?r.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(Errors.NewlineAfterThrow,this.state.lastTokEndLoc),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){const e=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&"Identifier"===e.type?8:0),this.checkLVal(e,{type:"CatchClause"},9),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){const t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext((()=>this.parseBlock(!1,!1))),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,e.handler||e.finalizer||this.raise(Errors.NoCatchOrFinally,e),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,r=!1){return this.next(),this.parseVar(e,!1,t,r),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(loopLabel),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(Errors.StrictWith,this.state.startLoc),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,r,s){for(const n of this.state.labels)n.name===t&&this.raise(Errors.LabelRedeclaration,r,{labelName:t});const i=tokenIsLoop(this.state.type)?1:this.match(71)?2:null;for(let n=this.state.labels.length-1;n>=0;n--){const t=this.state.labels[n];if(t.statementStart!==e.start)break;t.statementStart=this.sourceToOffsetPos(this.state.start),t.kind=i}return this.state.labels.push({name:t,kind:i,statementStart:this.sourceToOffsetPos(this.state.start)}),e.body=8&s?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t,r){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,r){const s=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(s,e,!1,8,r),t&&this.scope.exit(),this.finishNode(s,"BlockStatement")}isValidDirective(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized}parseBlockBody(e,t,r,s,i){const n=e.body=[],o=e.directives=[];this.parseBlockOrModuleBlockBody(n,t?o:void 0,r,s,i)}parseBlockOrModuleBlockBody(e,t,r,s,i){const n=this.state.strict;let o=!1,a=!1;for(;!this.match(s);){const s=r?this.parseModuleItem():this.parseStatementListItem();if(t&&!a){if(this.isValidDirective(s)){const e=this.stmtToDirective(s);t.push(e),o||"use strict"!==e.value.value||(o=!0,this.setStrict(!0));continue}a=!0,this.state.strictErrors.clear()}e.push(s)}null==i||i.call(this,o),n||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,r){const s=this.match(58);return this.next(),s?null!==r&&this.unexpected(r):e.await=null!==r,"VariableDeclaration"!==t.type||null==t.declarations[0].init||s&&this.options.annexB&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type||this.raise(Errors.ForInOfLoopInitializer,t,{type:s?"ForInStatement":"ForOfStatement"}),"AssignmentPattern"===t.type&&this.raise(Errors.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),e.left=t,e.right=s?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext((()=>this.parseStatement())),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,s?"ForInStatement":"ForOfStatement")}parseVar(e,t,r,s=!1){const i=e.declarations=[];for(e.kind=r;;){const e=this.startNode();if(this.parseVarId(e,r),e.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,null!==e.init||s||("Identifier"===e.id.type||t&&(this.match(58)||this.isContextual(102))?"const"!==r&&"using"!==r&&"await using"!==r||this.match(58)||this.isContextual(102)||this.raise(Errors.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:r}):this.raise(Errors.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"})),i.push(this.finishNode(e,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){const r=this.parseBindingAtom();"using"!==t&&"await using"!==t||"ArrayPattern"!==r.type&&"ObjectPattern"!==r.type||this.raise(Errors.UsingDeclarationHasBindingPattern,r.loc.start),this.checkLVal(r,{type:"VariableDeclarator"},"var"===t?5:8201),e.id=r}parseAsyncFunctionExpression(e){return this.parseFunction(e,8)}parseFunction(e,t=0){const r=2&t,s=!!(1&t),i=s&&!(4&t),n=!!(8&t);this.initFunction(e,n),this.match(55)&&(r&&this.raise(Errors.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),e.generator=!0),s&&(e.id=this.parseFunctionId(i));const o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(functionFlags(n,e.generator)),s||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext((()=>{this.parseFunctionBodyAndFinish(e,s?"FunctionDeclaration":"FunctionExpression")})),this.prodParam.exit(),this.scope.exit(),s&&!r&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,e}parseFunctionId(e){return e||tokenIsIdentifier(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(newParameterDeclarationScope()),e.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,!this.options.annexB||this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:8201:17,e.id.loc.start)}parseClass(e,t,r){this.next();const s=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,r),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,s),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(e){return"Identifier"===e.type&&"constructor"===e.name||"StringLiteral"===e.type&&"constructor"===e.value}isNonstaticConstructor(e){return!e.computed&&!e.static&&this.nameIsConstructor(e.key)}parseClassBody(e,t){this.classScope.enter();const r={hadConstructor:!1,hadSuperClass:e};let s=[];const i=this.startNode();if(i.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext((()=>{for(;!this.match(8);){if(this.eat(13)){if(s.length>0)throw this.raise(Errors.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){s.push(this.parseDecorator());continue}const e=this.startNode();s.length&&(e.decorators=s,this.resetStartLocationFromNode(e,s[0]),s=[]),this.parseClassMember(i,e,r),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&this.raise(Errors.DecoratorConstructor,e)}})),this.state.strict=t,this.next(),s.length)throw this.raise(Errors.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(i,"ClassBody")}parseClassMemberFromModifier(e,t){const r=this.parseIdentifier(!0);if(this.isClassMethod()){const s=t;return s.kind="method",s.computed=!1,s.key=r,s.static=!1,this.pushClassMethod(e,s,!1,!1,!1,!1),!0}if(this.isClassProperty()){const s=t;return s.computed=!1,s.key=r,s.static=!1,e.body.push(this.parseClassProperty(s)),!0}return this.resetPreviousNodeTrailingComments(r),!1}parseClassMember(e,t,r){const s=this.isContextual(106);if(s){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5))return void this.parseClassStaticBlock(e,t)}this.parseClassMemberWithIsStatic(e,t,r,s)}parseClassMemberWithIsStatic(e,t,r,s){const i=t,n=t,o=t,a=t,c=t,l=i,h=i;if(t.static=s,this.parsePropertyNamePrefixOperator(t),this.eat(55)){l.kind="method";const t=this.match(139);return this.parseClassElementName(l),t?void this.pushClassPrivateMethod(e,n,!0,!1):(this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsGenerator,i.key),void this.pushClassMethod(e,i,!0,!1,!1,!1))}const p=!this.state.containsEsc&&tokenIsIdentifier(this.state.type),u=this.parseClassElementName(t),d=p?u.name:null,f=this.isPrivateName(u),m=this.state.startLoc;if(this.parsePostMemberNameModifiers(h),this.isClassMethod()){if(l.kind="method",f)return void this.pushClassPrivateMethod(e,n,!1,!1);const s=this.isNonstaticConstructor(i);let o=!1;s&&(i.kind="constructor",r.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(Errors.DuplicateConstructor,u),s&&this.hasPlugin("typescript")&&t.override&&this.raise(Errors.OverrideOnConstructor,u),r.hadConstructor=!0,o=r.hadSuperClass),this.pushClassMethod(e,i,!1,!1,s,o)}else if(this.isClassProperty())f?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o);else if("async"!==d||this.isLineTerminator())if("get"!==d&&"set"!==d||this.match(55)&&this.isLineTerminator())if("accessor"!==d||this.isLineTerminator())this.isLineTerminator()?f?this.pushClassPrivateProperty(e,a):this.pushClassProperty(e,o):this.unexpected();else{this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(u);const t=this.match(139);this.parseClassElementName(o),this.pushClassAccessorProperty(e,c,t)}else{this.resetPreviousNodeTrailingComments(u),l.kind=d;const t=this.match(139);this.parseClassElementName(i),t?this.pushClassPrivateMethod(e,n,!1,!1):(this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsAccessor,i.key),this.pushClassMethod(e,i,!1,!1,!1,!1)),this.checkGetterSetterParams(i)}else{this.resetPreviousNodeTrailingComments(u);const t=this.eat(55);h.optional&&this.unexpected(m),l.kind="method";const r=this.match(139);this.parseClassElementName(l),this.parsePostMemberNameModifiers(h),r?this.pushClassPrivateMethod(e,n,t,!0):(this.isNonstaticConstructor(i)&&this.raise(Errors.ConstructorIsAsync,i.key),this.pushClassMethod(e,i,t,!0,!1,!1))}}parseClassElementName(e){const{type:t,value:r}=this.state;if(132!==t&&134!==t||!e.static||"prototype"!==r||this.raise(Errors.StaticPrototype,this.state.startLoc),139===t){"constructor"===r&&this.raise(Errors.ConstructorClassPrivateField,this.state.startLoc);const t=this.parsePrivateName();return e.key=t,t}return this.parsePropertyName(e),e.key}parseClassStaticBlock(e,t){var r;this.scope.enter(208);const s=this.state.labels;this.state.labels=[],this.prodParam.enter(0);const i=t.body=[];this.parseBlockOrModuleBlockBody(i,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=s,e.body.push(this.finishNode(t,"StaticBlock")),null!=(r=t.decorators)&&r.length&&this.raise(Errors.DecoratorStaticBlock,t)}pushClassProperty(e,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(Errors.ConstructorClassField,t.key),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){const r=this.parseClassPrivateProperty(t);e.body.push(r),this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),0,r.key.loc.start)}pushClassAccessorProperty(e,t,r){r||t.computed||!this.nameIsConstructor(t.key)||this.raise(Errors.ConstructorClassField,t.key);const s=this.parseClassAccessorProperty(t);e.body.push(s),r&&this.classScope.declarePrivateName(this.getPrivateNameSV(s.key),0,s.key.loc.start)}pushClassMethod(e,t,r,s,i,n){e.body.push(this.parseMethod(t,r,s,i,n,"ClassMethod",!0))}pushClassPrivateMethod(e,t,r,s){const i=this.parseMethod(t,r,s,!1,!1,"ClassPrivateMethod",!0);e.body.push(i);const n="get"===i.kind?i.static?6:2:"set"===i.kind?i.static?5:1:0;this.declareClassPrivateMethodInScope(i,n)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(80),this.expressionScope.enter(newExpressionScope()),this.prodParam.enter(0),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,r,s=8331){if(tokenIsIdentifier(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,s);else{if(!r&&t)throw this.raise(Errors.MissingClassName,this.state.startLoc);e.id=null}}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e,t){const r=this.parseMaybeImportPhase(e,!0),s=this.maybeParseExportDefaultSpecifier(e,r),i=!s||this.eat(12),n=i&&this.eatExportStar(e),o=n&&this.maybeParseExportNamespaceSpecifier(e),a=i&&(!o||this.eat(12)),c=s||n;if(n&&!o){if(s&&this.unexpected(),t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration")}const l=this.maybeParseExportNamedSpecifiers(e);let h;if(s&&i&&!n&&!l&&this.unexpected(null,5),o&&a&&this.unexpected(null,98),c||l){if(h=!1,t)throw this.raise(Errors.UnsupportedDecoratorExport,e);this.parseExportFrom(e,c)}else h=this.maybeParseExportDeclaration(e);if(c||l||h){var p;const r=e;if(this.checkExport(r,!0,!1,!!r.source),"ClassDeclaration"===(null==(p=r.declaration)?void 0:p.type))this.maybeTakeDecorators(t,r.declaration,r);else if(t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.finishNode(r,"ExportNamedDeclaration")}if(this.eat(65)){const r=e,s=this.parseExportDefaultExpression();if(r.declaration=s,"ClassDeclaration"===s.type)this.maybeTakeDecorators(t,s,r);else if(t)throw this.raise(Errors.UnsupportedDecoratorExport,e);return this.checkExport(r,!0,!0),this.finishNode(r,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",null==t?void 0:t.loc.start);const r=t||this.parseIdentifier(!0),s=this.startNodeAtNode(r);return s.exported=r,e.specifiers=[this.finishNode(s,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){var t;null!=(t=e).specifiers||(t.specifiers=[]);const r=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),r.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(r,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){const t=e;t.specifiers||(t.specifiers=[]);const r="type"===t.exportKind;return t.specifiers.push(...this.parseExportSpecifiers(r)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0)}isAsyncFunction(){if(!this.isContextual(95))return!1;const e=this.nextTokenInLineStart();return this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){const e=this.startNode();if(this.match(68))return this.next(),this.parseFunction(e,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,13);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(Errors.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(Errors.UnsupportedDefaultExport,this.state.startLoc);const t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(e){if(this.match(80)){return this.parseClass(this.startNode(),!0,!1)}return this.parseStatementListItem()}isExportDefaultSpecifier(){const{type:e}=this.state;if(tokenIsIdentifier(e)){if(95===e&&!this.state.containsEsc||100===e)return!1;if((130===e||129===e)&&!this.state.containsEsc){const{type:e}=this.lookahead();if(tokenIsIdentifier(e)&&98!==e||5===e)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;const t=this.nextTokenStart(),r=this.isUnparsedContextual(t,"from");if(44===this.input.charCodeAt(t)||tokenIsIdentifier(this.state.type)&&r)return!0;if(this.match(65)&&r){const e=this.input.charCodeAt(this.nextTokenStartSince(t+4));return 34===e||39===e}return!1}parseExportFrom(e,t){this.eatContextual(98)?(e.source=this.parseImportSource(),this.checkExport(e),this.maybeParseImportAttributes(e),this.checkJSONModuleImport(e)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){const{type:e}=this.state;return 26===e&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(!0===this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(Errors.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)||this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(Errors.UsingDeclarationExport,this.state.startLoc),!0):74===e||75===e||68===e||80===e||this.isLet()||this.isAsyncFunction()}checkExport(e,t,r,s){var i;if(t)if(r){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var n;const t=e.declaration;"Identifier"!==t.type||"from"!==t.name||t.end-t.start!=4||null!=(n=t.extra)&&n.parenthesized||this.raise(Errors.ExportDefaultFromAsIdentifier,t)}}else if(null!=(i=e.specifiers)&&i.length)for(const o of e.specifiers){const{exported:e}=o,t="Identifier"===e.type?e.name:e.value;if(this.checkDuplicateExports(o,t),!s&&o.local){const{local:e}=o;"Identifier"!==e.type?this.raise(Errors.ExportBindingIsString,o,{localName:e.value,exportName:t}):(this.checkReservedWord(e.name,e.loc.start,!0,!1),this.scope.checkLocalExport(e))}}else if(e.declaration){const t=e.declaration;if("FunctionDeclaration"===t.type||"ClassDeclaration"===t.type){const{id:r}=t;if(!r)throw new Error("Assertion failure");this.checkDuplicateExports(e,r.name)}else if("VariableDeclaration"===t.type)for(const e of t.declarations)this.checkDeclaration(e.id)}}checkDeclaration(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(const t of e.properties)this.checkDeclaration(t);else if("ArrayPattern"===e.type)for(const t of e.elements)t&&this.checkDeclaration(t);else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&("default"===t?this.raise(Errors.DuplicateDefaultExport,e):this.raise(Errors.DuplicateExport,e,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){const t=[];let r=!0;for(this.expect(5);!this.eat(8);){if(r)r=!1;else if(this.expect(12),this.eat(8))break;const s=this.isContextual(130),i=this.match(134),n=this.startNode();n.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(n,i,e,s))}return t}parseExportSpecifier(e,t,r,s){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=cloneStringLiteral(e.local):e.exported||(e.exported=cloneIdentifier(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){const e=this.parseStringLiteral(this.state.value),t=loneSurrogate.exec(e.value);return t&&this.raise(Errors.ModuleExportNameHasLoneSurrogate,e,{surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return null!=e.assertions&&e.assertions.some((({key:e,value:t})=>"json"===t.value&&("Identifier"===e.type?"type"===e.name:"type"===e.value)))}checkImportReflection(e){const{specifiers:t}=e,r=1===t.length?t[0].type:null;if("source"===e.phase)"ImportDefaultSpecifier"!==r&&this.raise(Errors.SourcePhaseImportRequiresDefault,t[0].loc.start);else if("defer"===e.phase)"ImportNamespaceSpecifier"!==r&&this.raise(Errors.DeferImportRequiresNamespace,t[0].loc.start);else if(e.module){var s;"ImportDefaultSpecifier"!==r&&this.raise(Errors.ImportReflectionNotBinding,t[0].loc.start),(null==(s=e.assertions)?void 0:s.length)>0&&this.raise(Errors.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&"ExportAllDeclaration"!==e.type){const{specifiers:t}=e;if(null!=t){const e=t.find((e=>{let t;if("ExportSpecifier"===e.type?t=e.local:"ImportSpecifier"===e.type&&(t=e.imported),void 0!==t)return"Identifier"===t.type?"default"!==t.name:"default"!==t.value}));void 0!==e&&this.raise(Errors.ImportJSONBindingNotDefault,e.loc.start)}}}isPotentialImportPhase(e){return!e&&(this.isContextual(105)||this.isContextual(97)||this.isContextual(127))}applyImportPhase(e,t,r,s){t||("module"===r?(this.expectPlugin("importReflection",s),e.module=!0):this.hasPlugin("importReflection")&&(e.module=!1),"source"===r?(this.expectPlugin("sourcePhaseImports",s),e.phase="source"):"defer"===r?(this.expectPlugin("deferredImportEvaluation",s),e.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(e.phase=null))}parseMaybeImportPhase(e,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(e,t,null),null;const r=this.parseIdentifier(!0),{type:s}=this.state;return(tokenIsKeywordOrIdentifier(s)?98!==s||102===this.lookaheadCharCode():12!==s)?(this.resetPreviousIdentifierLeadingComments(r),this.applyImportPhase(e,t,r.name,r.loc.start),null):(this.applyImportPhase(e,t,null),r)}isPrecedingIdImportPhase(e){const{type:t}=this.state;return tokenIsIdentifier(t)?98!==t||102===this.lookaheadCharCode():12!==t}parseImport(e){return this.match(134)?this.parseImportSourceAndAttributes(e):this.parseImportSpecifiersAndAfter(e,this.parseMaybeImportPhase(e,!1))}parseImportSpecifiersAndAfter(e,t){e.specifiers=[];const r=!this.maybeParseDefaultImportSpecifier(e,t)||this.eat(12),s=r&&this.maybeParseStarImportSpecifier(e);return r&&!s&&this.parseNamedImportSpecifiers(e),this.expectContextual(98),this.parseImportSourceAndAttributes(e)}parseImportSourceAndAttributes(e){return null!=e.specifiers||(e.specifiers=[]),e.source=this.parseImportSource(),this.maybeParseImportAttributes(e),this.checkImportReflection(e),this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(134)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(e,t,r){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,r))}finishImportSpecifier(e,t,r=8201){return this.checkLVal(e.local,{type:t},r),this.finishNode(e,t)}parseImportAttributes(){this.expect(5);const e=[],t=new Set;do{if(this.match(8))break;const r=this.startNode(),s=this.state.value;if(t.has(s)&&this.raise(Errors.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:s}),t.add(s),this.match(134)?r.key=this.parseStringLiteral(s):r.key=this.parseIdentifier(!0),this.expect(14),!this.match(134))throw this.raise(Errors.ModuleAttributeInvalidValue,this.state.startLoc);r.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(r,"ImportAttribute"))}while(this.eat(12));return this.expect(8),e}parseModuleAttributes(){const e=[],t=new Set;do{const r=this.startNode();if(r.key=this.parseIdentifier(!0),"type"!==r.key.name&&this.raise(Errors.ModuleAttributeDifferentFromType,r.key),t.has(r.key.name)&&this.raise(Errors.ModuleAttributesWithDuplicateKeys,r.key,{key:r.key.name}),t.add(r.key.name),this.expect(14),!this.match(134))throw this.raise(Errors.ModuleAttributeInvalidValue,this.state.startLoc);r.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(r,"ImportAttribute"))}while(this.eat(12));return e}maybeParseImportAttributes(e){let t;var r=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&40===this.lookaheadCharCode())return;this.next(),t=this.hasPlugin("moduleAttributes")?this.parseModuleAttributes():this.parseImportAttributes(),r=!0}else this.isContextual(94)&&!this.hasPrecedingLineBreak()?(this.hasPlugin("deprecatedImportAssert")||this.hasPlugin("importAssertions")||this.raise(Errors.ImportAttributesUseAssert,this.state.startLoc),this.hasPlugin("importAssertions")||this.addExtra(e,"deprecatedAssertSyntax",!0),this.next(),t=this.parseImportAttributes()):t=[];!r&&this.hasPlugin("importAssertions")?e.assertions=t:e.attributes=t}maybeParseDefaultImportSpecifier(e,t){if(t){const r=this.startNodeAtNode(t);return r.local=t,e.specifiers.push(this.finishImportSpecifier(r,"ImportDefaultSpecifier")),!0}return!!tokenIsKeywordOrIdentifier(this.state.type)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0)}maybeParseStarImportSpecifier(e){if(this.match(55)){const t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(Errors.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}const r=this.startNode(),s=this.match(134),i=this.isContextual(130);r.imported=this.parseModuleExportName();const n=this.parseImportSpecifier(r,s,"type"===e.importKind||"typeof"===e.importKind,i,void 0);e.specifiers.push(n)}}parseImportSpecifier(e,t,r,s,i){if(this.eatContextual(93))e.local=this.parseIdentifier();else{const{imported:r}=e;if(t)throw this.raise(Errors.ImportBindingIsString,e,{importName:r.value});this.checkReservedWord(r.name,e.loc.start,!0,!0),e.local||(e.local=cloneIdentifier(r))}return this.finishImportSpecifier(e,"ImportSpecifier",i)}isThisParam(e){return"Identifier"===e.type&&"this"===e.name}}let Parser$1=class extends StatementParser{constructor(e,t,r){super(e=getOptions(e),t),this.options=e,this.initializeScopes(),this.plugins=r,this.filename=e.sourceFilename,this.startIndex=e.startIndex}getScopeHandler(){return ScopeHandler}parse(){this.enterInitialScopes();const e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e.comments.length=this.state.commentsLen,e}};function parse(e,t){var r;if("unambiguous"!==(null==(r=t)?void 0:r.sourceType))return getParser(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";const r=getParser(t,e),i=r.parse();if(r.sawUnambiguousESM)return i;if(r.ambiguousScriptDifferentAst)try{return t.sourceType="script",getParser(t,e).parse()}catch(s){}else i.program.sourceType="script";return i}catch(i){try{return t.sourceType="script",getParser(t,e).parse()}catch(n){}throw i}}function parseExpression(e,t){const r=getParser(t,e);return r.options.strictMode&&(r.state.strict=!0),r.getExpression()}function generateExportedTokenTypes(e){const t={};for(const r of Object.keys(e))t[r]=getExportedToken(e[r]);return t}const tokTypes=generateExportedTokenTypes(tt);function getParser(e,t){let r=Parser$1;const s=new Map;if(null!=e&&e.plugins){for(const t of e.plugins){let e,r;"string"==typeof t?e=t:[e,r]=t,s.has(e)||s.set(e,r||{})}validatePlugins(s),r=getParserClass(s)}return new r(e,t,s)}const parserClassCache=new Map;function getParserClass(e){const t=[];for(const i of mixinPluginNames)e.has(i)&&t.push(i);const r=t.join("|");let s=parserClassCache.get(r);if(!s){s=Parser$1;for(const e of t)s=mixinPlugins[e](s);parserClassCache.set(r,s)}return s}var parse_1=lib.parse=parse;function extractLines(e,t,r){return e.split("\n").slice(t-1,r).join("\n")}function jsSetup(e){let t="",r=[],s=[],i=[],n="";const o=parse_1(e,{sourceType:"module"});return traverse(o,{pre:function(o,a,c,l){"VariableDeclarator"===o.type&&o.init&&"ArrowFunctionExpression"===o.init.type?s.push(extractLines(e,o.loc.start.line,o.loc.end.line)):"VariableDeclarator"===o.type&&o.init&&"CallExpression"===o.init.type&&o.id&&"$data"==o.id.name?(i.push(o.init.callee.name),t=extractLines(e,o.loc.start.line,o.loc.end.line)):"VariableDeclarator"===o.type&&o.init&&"CallExpression"===o.init.type?(o.id.name&&r.push(o.id.name),i.push(o.init.callee.name),n=`${n}${extractLines(e,o.loc.start.line,o.loc.end.line)}
`):"VariableDeclarator"===o.type&&o.init&&"StringLiteral"===o.init.type?n=`${n}${extractLines(e,o.loc.start.line,o.loc.end.line)}
`:"ExpressionStatement"===o.type&&o.expression&&"CallExpression"===o.expression.type&&o.expression.callee&&"watch"===o.expression.callee.name&&(i.push(o.expression.callee.name),n=`${n}${extractLines(e,o.loc.start.line,o.loc.end.line)}
`)}}),{settingData:r,funs:s,vueExport:i,str:n,$data:t}}function vueTemplate(){return'\n  <template> \n    <!----> \n  </template>\n  \n<script>\nimport { // $vueExport } from "vue";\nimport events from "./events.json";\nconst vccEvents = events;\n// $script\n</script>\n  \n  <style scoped>\n  /** $stylesTemplate */\n  </style>\n    '}lib.parseExpression=parseExpression,lib.tokTypes=tokTypes;const scriptTemplate="{\n  data() {\n    return {\n      // $datas\n    };\n  },\n  methods: {\n    // $eventMethods\n  },\n  \n};";function mergeSameClassStyles(){return{postcssPlugin:"merge-same-class-styles",Once:function(e){const t={};e.walkRules((e=>{const r=e.selector,s=e.nodes;t[r]?s.forEach((e=>{const s=e.prop,i=e.value,n=e.important;if(t[r][s])if(n||!t[r][s].important)t[r][s]={value:i,important:n};else{const e=t[r][s].value;e!==i&&parseInt(i,10)>parseInt(e,10)&&(t[r][s]={value:i,important:n})}else t[r][s]={value:i,important:n}})):(t[r]={},s.forEach((e=>{const s=e.prop,i=e.value,n=e.important;t[r][s]={value:i,important:n}})))})),e.removeAll(),Object.keys(t).forEach((r=>{const s=postcss$1.rule({selector:r});Object.keys(t[r]).forEach((e=>{const{value:i,important:n}=t[r][e],o=postcss$1.decl({prop:e,value:i});n&&(o.important=!0),s.append(o)})),e.append(s)}))}}}function mCss(e,t){return new Promise(((r,s)=>{const i=e+t,n=postcss$1.parse(i);postcss$1([mergeSameClassStyles()]).process(n,{from:void 0}).then((e=>{const t=e.css;r(t)})).catch((e=>{}))}))}function generateFunction(e){return`${e}: function(){}`}function generateClass(e){return`.${e}{}`}function generateData(e){return`${e}:''`}function convertMethods(e,t){let r=[...e].map(generateFunction);return t.convertMethodResult&&(r=t.convertMethodResult(r)),r.join(",\n")}function convertStyles(e,t){let r="";t.preConvertStyleResult&&(r=t.preConvertStyleResult(e));return[...e].map(generateClass).join("\n")+"\n"+r}function convertDatas(e,t){let r=[...e].map(generateData);return t.convertDataResult&&(r=t.convertDataResult(r)),r.join(",\n")}function replaceMethods(e,t,r){return e.replace("// $eventMethods",convertMethods(t,r))}const replaceStyles=async(e,t,r,s="")=>e.replace("/** $stylesTemplate */",await mCss(convertStyles(t,r),s));function replaceDatas(e,t,r){const s=convertDatas(t,r);return e.replace("// $datas",s)}function buildOptions(e,t,r){var s={};if(!e)return t;for(let i=0;i<r.length;i++)void 0!==e[r[i]]?s[r[i]]=e[r[i]]:s[r[i]]=t[r[i]];return s}const defaultOptions={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!0,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e},singleTags:[],attributeProtectArray:[]},props=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","singleTags","attributeProtectArray"];function Parser(e){this.options=buildOptions(e,defaultOptions,props),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=isAttribute),this.options.cdataTagName?this.isCDATA=isCDATA:this.isCDATA=function(){return!1},this.replaceCDATAstr=replaceCDATAstr,this.replaceCDATAarr=replaceCDATAarr,this.options.format?(this.indentate=indentate,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=buildEmptyTextNode,this.buildObjNode=buildEmptyObjNode):(this.buildTextNode=buildTextValNode,this.buildObjNode=buildObjectNode),this.buildTextValNode=buildTextValNode,this.buildObjectNode=buildObjectNode}function replaceCDATAstr(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function replaceCDATAarr(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function buildObjectNode(e,t,r,s){return r&&!e.includes("<")?"img"===t||"a-icon"===t||"input"===t||this.options.singleTags&&this.options.singleTags.includes(t)?this.indentate(s)+"<"+t+r+"/>":this.indentate(s)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(s)+"<"+t+r+this.tagEndChar+e+this.indentate(s)+"</"+t+this.tagEndChar}function buildEmptyObjNode(e,t,r,s){return""!==e?this.buildObjectNode(e,t,r,s):this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function buildTextValNode(e,t,r,s){return this.indentate(s)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function buildEmptyTextNode(e,t,r,s){return""!==e?this.buildTextValNode(e,t,r,s):this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function indentate(e){return this.options.indentBy.repeat(e)}function isAttribute(e){return!0}function isCDATA(e){return e===this.options.cdataTagName}Parser.prototype.parse=function(e){return this.j2x(e,0).val},Parser.prototype.j2x=function(e,t){let r="",s="";const i=Object.keys(e),n=i.length;for(let o=0;o<n;o++){const n=i[o];if(void 0===e[n]);else if(null===e[n])s+=this.indentate(t)+"<"+n+"/"+this.tagEndChar;else if(e[n]instanceof Date)s+=this.buildTextNode(e[n],n,"",t);else if("__children"===n){const r=e[n];r instanceof Array?r.forEach((e=>{const r=this.j2x(e,t+1);s+=r.val})):"object"==typeof r||(s+=this.buildTextNode(r,n,"",t))}else if("object"!=typeof e[n]){const i=this.isAttribute(n);if("__text__"===n){s=e[n]+s;continue}i?"boolean"==typeof e[n]&&e[n]?r+=` ${n} `:e[n]||this.options.attributeProtectArray.includes(n)?r+=" "+n+'="'+this.options.attrValueProcessor(""+e[n])+'"':r+=" "+n:this.isCDATA(n)?e[this.options.textNodeName]?s+=this.replaceCDATAstr(e[this.options.textNodeName],e[n]):s+=this.replaceCDATAstr("",e[n]):n===this.options.textNodeName?e[this.options.cdataTagName]||(s+=this.options.tagValueProcessor(""+e[n])):s+=this.buildTextNode(e[n],n,"",t)}else if(Array.isArray(e[n]))if(this.isCDATA(n))s+=this.indentate(t),e[this.options.textNodeName]?s+=this.replaceCDATAarr(e[this.options.textNodeName],e[n]):s+=this.replaceCDATAarr("",e[n]);else{const r=e[n].length;for(let i=0;i<r;i++){const r=e[n][i];if(void 0===r);else if(null===r)s+=this.indentate(t)+"<"+n+"/"+this.tagEndChar;else if("object"==typeof r){const e=this.j2x(r,t+1);s+=this.buildObjNode(e.val,n,e.attrStr,t)}else s+=this.buildTextNode(r,n,"",t)}}else if(this.options.attrNodeName&&n===this.options.attrNodeName){const t=Object.keys(e[n]),s=t.length;for(let i=0;i<s;i++)r+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[n][t[i]])+'"'}else{const r=this.j2x(e[n],t+1);s+=this.buildObjNode(r.val,n,r.attrStr,t)}}return{attrStr:r,val:s}};const getOwnEnumPropSymbols=e=>Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)));function stringifyObject(e,t,r){const s=[];return function e(t,r={},i=""){const n=r.indent||"	";let o;o=void 0===r.inlineCharacterLimit?{newline:"\n",newlineOrSpace:"\n",pad:i,indent:i+n}:{newline:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newlineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const a=e=>{if(void 0===r.inlineCharacterLimit)return e;const t=e.replace(new RegExp(o.newline,"g"),"").replace(new RegExp(o.newlineOrSpace,"g")," ").replace(new RegExp(o.pad+"|"+o.indent,"g"),"");return t.length<=r.inlineCharacterLimit?t:e.replace(new RegExp(o.newline+"|"+o.newlineOrSpace,"g"),"\n").replace(new RegExp(o.pad,"g"),i).replace(new RegExp(o.indent,"g"),i+n)};if(s.includes(t))return'"[Circular]"';if(null==t||"number"==typeof t||"boolean"==typeof t||"function"==typeof t||"symbol"==typeof t||isRegexp(t))return String(t);if(t instanceof Date)return`new Date('${t.toISOString()}')`;if(Array.isArray(t)){if(0===t.length)return"[]";s.push(t);const c="["+o.newline+t.map(((s,a)=>{const c=t.length-1===a?o.newline:","+o.newlineOrSpace;let l=e(s,r,i+n);return r.transform&&(l=r.transform(t,a,l)),o.indent+l+c})).join("")+o.pad+"]";return s.pop(),a(c)}if(isObject(t)){let c=[...Object.keys(t),...getOwnEnumPropSymbols(t)];if(r.filter&&(c=c.filter((e=>r.filter(t,e)))),0===c.length)return"{}";s.push(t);const l="{"+o.newline+c.map(((s,a)=>{const l=c.length-1===a?o.newline:","+o.newlineOrSpace,h="symbol"==typeof s,p=!h&&/^[a-z$_][$\w]*$/i.test(s),u=h||p?s:e(s,r);let d=e(t[s],r,i+n);return r.transform&&(d=r.transform(t,s,d)),o.indent+String(u)+": "+d+l})).join("")+o.pad+"}";return s.pop(),a(l)}return t=String(t).replace(/[\r\n]/g,(e=>"\n"===e?"\\n":"\\r")),!1===r.singleQuotes?`"${t=t.replace(/"/g,'\\"')}"`:`'${t=t.replace(/\\?'/g,"\\'")}'`}(e,t,r)}const{merge:merge,cloneDeep:cloneDeep}=_,rawAdd=Set.prototype.add;try{Set.prototype.addeee=function(e){"string"==typeof e&&checkKeyword(e)&&rawAdd.apply(this,arguments)}}catch(error){}function checkKeyword(e){return"true"!=e&&"false"!=e}function replaceHtmlTemplate(e,t){const r=new Parser({attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!1,cdataTagName:"__cdata",cdataPositionChar:"\\c",format:!0,indentBy:"  ",supressEmptyNode:!1,attributeProtectArray:[]}).parse(t.template);return e.replace("<!---->",r)}function getVueTemplate(){return vueTemplate()}function getVarName(e){let t=null;if(/^[_a-z]{1}[_0-9a-zA-Z]*$/g.test(e))t=e;else if(e.indexOf(".")>0&&getVarName(e.split(".")[0]))t=e.split(".")[0];else if(e.indexOf("in")>0){const r=e.split(" in ");2===r.length&&(t=getVarName(r[1].trim()))}return t}function findVarFormExpression(e){if("string"==typeof e){let t=e.match(/[_a-z]{1}[_0-9a-zA-Z]*/g);return t||(t=[]),t}return[]}function sort(e){return new Set(Array.from(e).sort())}class CodeGenerator{constructor(e={}){this.options=e,this.jsonObj=null,this.classSet=new Set,this.methodSet=new Set,this.dataSet=new Set,this.externalJS={},this.customCss="",this.eventNode={},this.customData={}}clearDataSet(){this.classSet.clear(),this.methodSet.clear(),this.dataSet.clear()}setExternalJS(e){this.externalJS=cloneDeep(e)}setExternalCss(e){this.customCss=e}setEventNode(e){this.eventNode=e}setCustomData(e){this.customData=e}outputVueCode(e){return this.jsonObj=JSON.parse(e),this.outputVueCodeWithJsonObj(this.jsonObj)}outputVueCodeWithJsonObj(e){return this.jsonObj=e,this.parseJson(e),this.dataSet=sort(this.dataSet),this.methodSet=sort(this.methodSet),this.classSet=sort(this.classSet),this.generateResult()}async replaceKeyInfo(){let $data,funs,vueExport,str="",settingData;if(this.externalJS){const e=jsSetup(this.externalJS);$data=e.$data||"",funs=e.funs||[],vueExport=e.vueExport||[],str=e.str||"",settingData=e.settingData||[]}const templateTemp=replaceHtmlTemplate(getVueTemplate(),this.jsonObj),methodTemp=replaceMethods(scriptTemplate,this.methodSet,this.options),dataTemp=replaceDatas(methodTemp,this.dataSet,this.options),JSCodeInfo=eval(`(function(){return ${dataTemp}})()`);let externalData={};if($data){const regExp=/toRefs\(([\s\S]+?)\)/,match=$data.match(regExp);if(match&&match[1]){const objStr=match[1].trim();try{const newObj=eval(`(${objStr})`);externalData=newObj}catch(e){}}}const newData=merge({},JSCodeInfo.data(),externalData,this.customData),dataFunction=new Function(`return ${stringifyObject(newData)}`);JSCodeInfo.data=dataFunction;let externalJSLogic={methods:{}};funs&&funs.length>0&&funs.forEach((e=>{const t=e.match(/(let|const)\s+(\w+)\s*=\s*([\s\S]+)/);if(t&&t[1]&&t[2]&&t[3]){const e=t[2];externalJSLogic.methods[e]=t[3]}}));const mergedJSObject=merge(JSCodeInfo,externalJSLogic);let toRefsData=mergedJSObject.data(),functionData="";Object.keys(mergedJSObject.methods).forEach((e=>{functionData+=`const ${e} = ${mergedJSObject.methods[e]};
`}));let dataStr="",dataKeys=Object.keys(toRefsData)||[];Object.keys(toRefsData).forEach((e=>{let t=toRefsData[e];dataStr=`const ${e} = ref(${"string"==typeof t?`'${t}'`:t});
`}));const finalJSCode=`
{
setup(props, {emit}) {
  const instance = getCurrentInstance();
  ${dataStr}

  // 
  const eventFun = (eventStr, e = null) => {
    const eventObj = vccEvents[eventStr];
    if (!eventStr || !eventObj) return;
    
    instance.proxy.$execEventFlow(instance, eventObj.children, e);
  };

  onMounted(() => {
    eventFun("init")
  })
  
  ${str}
  ${functionData}
  return {
    ${dataKeys&&dataKeys.length>0?dataKeys.join(",")+",":""}
    eventFun,
    ${settingData&&settingData.length>0?settingData.join(",")+",":""}
    ${Object.keys(mergedJSObject.methods).join(",")}
  }
}

}
    `,beautiful=prettier.format("export default "+finalJSCode,{semi:!1,parser:"babel",plugins:[parserBabel]}),excludeUnuseal=beautiful,JSTemp=templateTemp.replace("// $script",excludeUnuseal),styleTemp=await replaceStyles(JSTemp,this.classSet,this.options,this.customCss);vueExport.push("onMounted","ref","getCurrentInstance"),vueExport=Array.from(new Set(vueExport));const zTemp=styleTemp.replace("// $vueExport",vueExport.join(","));return zTemp}deliveryResult(e,t){if("class"===e){t.split(" ").forEach((e=>{e&&this.classSet.addeee(e)}))}else if(/^v-on/g.test(e)||/^@/g.test(e))getVarName(t)&&this.methodSet.addeee(t);else if(/^v-/g.test(e)||/^:+/g.test(e))this.options.checkIsMethodDirectives&&this.options.checkIsMethodDirectives(e)?(t=getVarName(t))&&this.methodSet.addeee(t):this.options.checkIsDataDirectives&&this.options.checkIsDataDirectives(e)?(t=getVarName(t))&&this.dataSet.addeee(t):this.options.unSupportedKey&&this.options.unSupportedKey(e,t);else if("__text__"===e){if(/[{]{2}.+[}]{2}/g.test(t)){findVarFormExpression(t).forEach((e=>{this.dataSet.addeee(e)}))}}else this.options.unSupportedKey&&this.options.unSupportedKey(e,t)}generateResult(){return this.replaceKeyInfo()}parseJson(e){for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];r instanceof Array?r.forEach((e=>this.parseJson(e))):r instanceof Object?this.parseJson(r):this.deliveryResult(t,r)}}}function checkIsDataDirectives(e){return[":prop","v-for",":data",":src",":model",":rules",":total",":current-page","v-model","v-if",":reverse",":show-file-list",":file-list"].includes(e)||/^:+/g.test(e)}function checkIsMethodDirectives(e){return[":before-close",":on-preview",":on-remove",":before-remove",":on-exceed",":on-success",":format",":before-upload",":fetch-suggestions"].includes(e)}function createNewCodeGenerator(){return new CodeGenerator({convertDataResult:function(e){let t=e;return e.length>0&&(t=e.map((e=>{const t=e.split(":")[0];return window.dataSourceMap[t]||0==window.dataSourceMap[t]?`${t}: ${stringifyObject$1(window.dataSourceMap[t],{indent:"  ",singleQuotes:!1})}`:e}))),t},convertMethodResult(e){let t=e;return e&&e.length>0&&(t=e.map((e=>{const t=e.split(":")[0];return window.methodSourceMap&&window.methodSourceMap[t]?`${t}: ${window.methodSourceMap[t]}`:e}))),t},preConvertStyleResult(e){let t="";const r=e.values(),s=Object.keys(window.styleSourceMap);for(const i of r){const r=s.filter((e=>e===`.${i}`||e.indexOf(`.${i} `)>=0||e.indexOf(` .${i}`)>=0));r&&r.length>0&&(r.forEach((e=>{t+=`${e} { ${window.styleSourceMap[e]} }
`})),e.delete(i))}return t},checkIsDataDirectives:checkIsDataDirectives,checkIsMethodDirectives:checkIsMethodDirectives,unSupportedKey:function(e,t){/^v-/g.test(e)||/^:+/g.test(e)}})}var eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,s,n,o){if("function"!=typeof s)throw new TypeError("The listener must be a function");var a=new i(s,n||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function a(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,s,i=[];if(0===this._eventsCount)return i;for(s in e=this._events)t.call(e,s)&&i.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var i=0,n=s.length,o=new Array(n);i<n;i++)o[i]=s[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,s=this._events[t];return s?s.fn?1:s.length:0},a.prototype.emit=function(e,t,s,i,n,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,h=this._events[a],p=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,s),!0;case 4:return h.fn.call(h.context,t,s,i),!0;case 5:return h.fn.call(h.context,t,s,i,n),!0;case 6:return h.fn.call(h.context,t,s,i,n,o),!0}for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];h.fn.apply(h.context,c)}else{var u,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(e,h[l].fn,void 0,!0),p){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,t);break;case 3:h[l].fn.call(h[l].context,t,s);break;case 4:h[l].fn.call(h[l].context,t,s,i);break;default:if(!c)for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];h[l].fn.apply(h[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,s,i){var n=r?r+e:e;if(!this._events[n])return this;if(!t)return o(this,n),this;var a=this._events[n];if(a.fn)a.fn!==t||i&&!a.once||s&&a.context!==s||o(this,n);else{for(var c=0,l=[],h=a.length;c<h;c++)(a[c].fn!==t||i&&!a[c].once||s&&a[c].context!==s)&&l.push(a[c]);l.length?this._events[n]=1===l.length?l[0]:l:o(this,n)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var scope$1={exports:{}};scope$1.exports=function(){function e(e,r){/^[0-9]/.test(r)&&(r="_"+r);var s="____",i=t(e,r="."+s+r+s);return(i.match(/(?<=@media.*\(.*\) \{)(([^\{\}]*\{[^\{\}]+\}[^\{\}]*)+)(?<=\})/g)||[]).forEach((function(e){i=i.replace(e," "+t(e,r))})),i.replace(new RegExp(s,"gm"),"")}function t(e,t){var r=e.replace(/\/\*(.*)\*\//g,"").replace(/\s+/g," ").replace(/\s*{/g," {").replace(/\s*}/g," }").replace(/}(\s[^}])/g,"}\n$1").replace(/^\s+/gm,"").replace(/^([^@}])/gm,t+" $1").replace(/,/g,","+t);return(r.match(/{(([^{}]*{[^{}]+}[^{}]*)*)}|{[^{}]*}/g)||[]).forEach((function(e){r=r.replace(e,e.replace(new RegExp(t,"g"),""))})),r}return e}();var scopeExports=scope$1.exports;const scope=getDefaultExportFromCjs(scopeExports);class MainPanelProvider{constructor(e){this.isCloneNode=!1,this.editMode=!0,this.eventEmitter=new EventEmitter,this.currentPointPositionAfterIndex=-1,this.renderStack=[],this.redoStack=[],this.externalJS={},this.customCss="",this.eventNode={},this.customData={},this.componentOptions={},this.dropIninFunction=e.dropIninFunction||""}getComponentOptions(){return this.componentOptions}async _render(e){this._rawDataStructure=e;const t=cloneDeep$1(e);this.eventEmitter.emit("codeStructureUpdated",t),this.initCodeGenerator();let r=await this.codeGenerator.outputVueCodeWithJsonObj(e);r=r.replace(/:\s*\(([\w\s,]*)\)\s*=>/g,"($1)");let s=r.replace(/\s{1}lc_id=".+?"/g,"");if(s=s.replace(/\s{1}lc_uuid=".+?"/g,""),s=s.replace(/\s{1}lc-mark/g,""),s=s.replace(/\s{1}div-lc-mark/g,""),this.eventEmitter.emit("codeCreated",s),this.editMode){const t=this.createMountedElement();this.appLoad(r,t),this.enableEditMode(),this.flatDataStructure(e)}else this.appLoad(r,this.mountedEle);return this}appLoad(e,t){const r={"/main.vue":e.replace("const vccEvents = events;","const vccEvents = JSON.parse(events);"),"/events.json":`${JSON.stringify(this.eventNode)}`},s={moduleCache:{vue:vue_esmBundler},getFile:e=>r[e],addStyle(e){const t=Object.assign(document.createElement("style"),{textContent:e}),r=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(t,r)},handleModule:async function(e,t,r,s){switch(e){case".json":case".js":return t(!1)}},log(e,...t){}},i=createApp(defineAsyncComponent((()=>window["vue3-sfc-loader"].loadModule("/main.vue",s))));window.loadApp(i),i.mount(t)}render(e){return this._render(e),this}setEditMode(e,t){this.editMode=e,this.mountedEle=t,this.reRender()}loadStyle(e){if(e.length>0){const t=e[0];this.styleNodeName=`cssScoped${Date.now()}`;const r=scope(t.content.replace(/::v-deep/g,""),this.styleNodeName),s=document.createElement("style");s.innerText=r,document.head.appendChild(s)}}initCodeGenerator(){this.codeGenerator=createNewCodeGenerator(),this.codeGenerator.setExternalJS(this.externalJS),this.codeGenerator.setExternalCss(this.customCss),this.codeGenerator.setEventNode(this.eventNode),this.codeGenerator.setCustomData(this.customData)}getControlPanelRoot(){return document.getElementById("render-control-panel")}saveJsData(e){return this.customData=e,this}saveJSCode(e,t=!0){this.saveJSCodeOnly(e),this.codeGenerator&&this.codeGenerator.setExternalJS(e),t&&this.reRender()}saveJSCodeOnly(e){return this.externalJS=e||"",this}saveEventNode(e){return this.eventNode=e,this}saveCssCode(e,t=!0){this.saveCssCodeOnly(e),this.codeGenerator&&this.codeGenerator.setExternalCss(e),t&&this.reRender()}saveCssCodeOnly(e){return this.customCss=e||"",this}createMountedElement(){const e=this.getControlPanelRoot();return this.styleNodeName&&e.setAttribute("class",this.styleNodeName),e}initComonentsEvent(){this.getControlPanelRoot().querySelectorAll("[lc_id]").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),this.markElement(e)})),initElement(e)})),this.initDropEvent()}markElement(e){if(this.currentEditElement&&this.currentEditElement.classList.remove("mark-element"),e){this.currentEditElement=e;const t=this.markElementInner(e),r=cloneDeep$1(t);this.eventEmitter.emit("selected",r)}else this.eventEmitter.emit("selected",null)}markElementInner(e){e.classList.add("mark-element");const t=findRawVueInfo(e);return e.setAttribute("lc-component-name",getRawComponentKey(t)),t}clearElementSelect(){this.markElement(null)}setDropInfo(e){this.currentPointDropInfo=e}initDropEvent(){const e=this.getControlPanelRoot();e.addEventListener("dragenter",(e=>{e.preventDefault()})),e.addEventListener("dragleave",(e=>{e.preventDefault()})),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("drop",(e=>{if(!this.currentPointDropInfo.target)return;const t=e.dataTransfer.getData("text/plain"),[,,,,r]=t.split(getSplitTag());let s=JSON.parse(r);if(s&&(s=s.div.__children[0],Object.keys(s).forEach((e=>{"__key__"===e||s[e].lc_uuid||(s[e].lc_uuid=uuid())}))),isRawComponents(s)){if(this.dropIninFunction)return void this.dropIninFunction(s,this);this.initDropCode(s)}else isActiveComponents(s)&&deleteNodeFromParent(s);this.updateCodeStructure(s)}))}initDropCode(e){insertPresetAttribute(e),replaceRowID(e,""),updateLinkTree(e)}updateCodeStructure(e){const t=findCodeElemNode(this.currentPointDropInfo.target);if(t){let r=findRawVueInfo(t);this.backup(),merge$1(getRawComponentContent(r),e,this.currentPointDropInfo.index,(()=>{this.eventEmitter.emit("onMerged")})),this.render(this._rawDataStructure)}}enableEditMode(){let e="";const t=this.getControlPanelRoot();this.enableDelayTask&&clearTimeout(this.enableDelayTask),this.enableDelayTask=setTimeout((()=>{this.isCloneNode&&(e=t.cloneNode(!0),t.parentNode.replaceChild(e,t)),this.eventEmitter.emit("mounted",e||t),this.initComonentsEvent()}),500)}flatDataStructure(e){updateLinkTree(e)}onSelectElement(e){return this.subscribeEventListener("selected",e),this}onRootElementMounted(e){return this.subscribeEventListener("mounted",e),this}onCodeCreated(e){return this.subscribeEventListener("codeCreated",e),this}onCodeStructureUpdated(e){return this.subscribeEventListener("codeStructureUpdated",e),this}onMerged(e){return this.subscribeEventListener("onMerged",e),this}onNodeDeleted(e){return this.subscribeEventListener("onNodeDeleted",e),this}reRender(){return this._render(this._rawDataStructure),this}saveAttribute(e,t,r){const s=e,i=getRawComponentContent(window.tree[t]);this.backup();for(const n in i)i.hasOwnProperty(n)&&"__children"!=n&&"lc-mark"!=n&&"lc_id"!=n&&"lc_uuid"!=n&&"div-lc-mark"!=n&&!isObject$1(i[n])&&delete i[n];return s.forEach((e=>{i[e.key]=e.value})),this.render(this._rawDataStructure),i.lc_uuid&&setTimeout((()=>{this.selectElement(i.lc_uuid,r)}),10),this}selectElement(e,t){const r=this.getControlPanelRoot().querySelector(`[lc_uuid="${e}"]`);r&&(r.classList.add("mark-element"),r.setAttribute("lc-component-name",t))}onLevelChange(e,t){this.backup();const r=this.remove(e,!1);t.splice(0,1);let s=this._rawDataStructure,i=-1;for(let n=0;n<t.length-1;n++)s=getRawComponentContent(s).__children[t[n]],i=t[n+1];s&&r.length>0&&getRawComponentContent(s).__children.splice(i,0,r[0]),this.render(this._rawDataStructure)}remove(e,t=!0){let r=null;const s=document.querySelector(`[lc_id="${e}"]`);if(s){const i=findCodeElemNode(s.parentElement);if(i){const s=findRawVueInfo(i),n=getRawComponentContent(s);if(n){const s=n.__children,i=s.findIndex((t=>getRawComponentContent(t).lc_id==e));t&&this.backup(),r=s.splice(i,1),this.eventEmitter.emit("onNodeDeleted"),this.render(this._rawDataStructure)}}}return r}subscribeEventListener(e,t){this.eventEmitter.on(e,t)}backup(){this.renderStack.push(cloneDeep$1(this._rawDataStructure)),this.redoStack=[]}undo(){if(this.renderStack.length>0){this.redoStack.push(cloneDeep$1(this._rawDataStructure));const e=this.renderStack.pop();this._render(e)}}redo(){if(this.redoStack.length>0){this.renderStack.push(cloneDeep$1(this._rawDataStructure));const e=this.redoStack.pop();this._render(e)}}}let currentPostion=null,currentTarget=null,preSelectTarget=null;const TOP=1,MIDDLE=2,BOTTOM=3;function initContainerForLine(e,t=()=>{}){const r=document.querySelector(".x"),s=(...e)=>{t(...e)};function i(e){const t=findCodeElemNode(e.parentElement),r=e.getAttribute("lc_id");if(t){const e=findRawVueInfo(t);if(e){const t=getRawComponentContent(e);if(t){return t.__children.findIndex((e=>getRawComponentContent(e).lc_id==r))}}}return-1}function n(){preSelectTarget&&preSelectTarget.classList.remove("in-element")}e.addEventListener("dragover",(t=>{t.preventDefault(),function(t){const o=t.target,a=judgeTopOrBottom(o,t.clientX,t.clientY),c=getElCoordinate(o);if(a.top&&e!==o){if(currentPostion===TOP&&currentTarget===o)return;currentPostion=TOP,currentTarget=o,n(),r.style=`top:${c.top}px;width:${c.width}px;left:${c.left}px;display:block;`,s(o.parentElement,i(o))}else if(a.bottom&&e!==o){if(currentPostion===BOTTOM&&currentTarget===o)return;currentPostion=BOTTOM,currentTarget=o,n(),r.style=`top:${c.bottom}px;width:${c.width}px;left:${c.left}px;display:block;`,s(o.parentElement,i(o)+1)}else currentPostion=MIDDLE,currentTarget=o,o.classList.add("in-element"),preSelectTarget=o,r.style="display:none;",s(o,-1)}(t)})),e.addEventListener("dragleave",(t=>{t.target===e?(e.classList.remove("in-element"),r.style="display: none;"):n()}))}function getElCoordinate(e){return e.getBoundingClientRect()}function judgeTopOrBottom(e,t,r){const s=getElCoordinate(e),i=Math.round((s.bottom-s.top)/3);return{top:r<s.top+i,middle:r>=s.top+i&&r<=s.top+2*i,bottom:r>s.top+2*i}}const on=document.addEventListener?function(e,t,r){e&&t&&r&&e.addEventListener(t,r,!1)}:function(e,t,r){e&&t&&r&&e.attachEvent("on"+t,r)},off=document.removeEventListener?function(e,t,r){e&&t&&e.removeEventListener(t,r,!1)}:function(e,t,r){e&&t&&e.detachEvent("on"+t,r)},_sfc_main$1={name:"VRuler",components:{},props:{width:{type:[String],default:""},height:{type:[String],default:""},position:{type:String,default:"relative",validator:function(e){return-1!==["absolute","fixed","relative","static","inherit"].indexOf(e)}},isHotKey:{type:Boolean,default:!0},isScaleRevise:{type:Boolean,default:!1},value:{type:Array,default:()=>[]},contentLayout:{type:Object,default:()=>({top:0,left:0})},parent:{type:Boolean,default:!1},visible:{type:Boolean,default:!0},stepLength:{type:Number,default:50,validator:e=>e%10==0}},data:()=>({size:17,left_top:18,windowWidth:0,windowHeight:0,xScale:[],yScale:[],topSpacing:0,leftSpacing:0,isDrag:!1,dragFlag:"",horizontalDottedLeft:-999,verticalDottedTop:-999,rulerWidth:0,rulerHeight:0,dragLineId:"",keyCode:{r:82},rulerToggle:!0,time:null}),computed:{wrapperStyle(){return{width:this.width?this.width:this.windowWidth+"px",height:this.height?this.height:this.windowHeight+"px",position:this.position}},contentStyle(){return{width:this.width?this.width:this.windowWidth+"px",height:this.height?this.height:this.windowHeight+"px",left:this.contentLayout.left+"px",top:this.contentLayout.top+"px",padding:this.left_top+"px 0px 0px "+this.left_top+"px"}},lineList(){let e=0,t=0;return this.value.map((r=>{const s="h"===r.type;return{id:`${r.type}_${s?e++:t++}`,type:r.type,title:r.site.toFixed(2)+"px",[s?"top":"left"]:r.site/(this.stepLength/50)+this.size}}))}},watch:{visible:{handler(e){this.rulerToggle=e},immediate:!0}},mounted(){on(document,"mousemove",this.dottedLineMove),on(document,"mouseup",this.dottedLineUp),on(document,"keyup",this.keyboard),this.init(),on(window,"resize",this.windowResize)},beforeDestroy(){off(document,"mousemove",this.dottedLineMove),off(document,"mouseup",this.dottedLineUp),off(document,"keyup",this.keyboard),off(window,"resize",this.windowResize)},methods:{init(){this.box(),this.scaleCalc()},windowResize(){this.xScale=[],this.yScale=[],this.init()},getLineStyle:({type:e,top:t,left:r})=>"h"===e?{top:t+"px"}:{left:r+"px"},handleDragLine({type:e,id:t}){return"h"===e?this.dragHorizontalLine(t):this.dragVerticalLine(t)},regenerateScale(){this.time&&clearTimeout(this.time),this.time=setTimeout((()=>{let e=this.$refs.vueRulerWrapper;this.xScale=[],this.yScale=[],this.$refs.verticalRuler.style.height="100%",this.getCalc(this.xScale,e.scrollWidth),this.getCalc(this.yScale,e.scrollHeight),this.$refs.verticalRuler.style.height=e.scrollHeight+"px"}),200)},box(){if(this.isScaleRevise){const e=this.$refs.content,t=e.offsetLeft,r=e.offsetTop;this.getCalcRevise(this.xScale,t),this.getCalcRevise(this.yScale,r)}if(this.parent){const e=window.getComputedStyle(this.$el.parentNode,null);this.windowWidth=parseInt(e.getPropertyValue("width"),10),this.windowHeight=parseInt(e.getPropertyValue("height"),10)}else this.windowWidth=document.documentElement.clientWidth-this.leftSpacing,this.windowHeight=document.documentElement.clientHeight-this.topSpacing;this.rulerWidth=this.$refs.verticalRuler.clientWidth,this.rulerHeight=this.$refs.horizontalRuler?this.$refs.horizontalRuler.clientHeight:0,this.setSpacing()},setSpacing(){this.topSpacing=this.$refs.horizontalRuler?this.$refs.horizontalRuler.getBoundingClientRect().y:0,this.leftSpacing=this.$refs.verticalRuler?this.$refs.verticalRuler.getBoundingClientRect().x:0},scaleCalc(){this.getCalc(this.xScale,this.windowWidth),this.getCalc(this.yScale,this.windowHeight)},getCalc(e,t){for(let r=0;r<t*this.stepLength/50;r+=this.stepLength)r%this.stepLength==0&&e.push({id:r})},getCalcRevise(e,t){for(let r=0;r<t;r+=1)r%this.stepLength==0&&r+this.stepLength<=t&&e.push({id:r})},newLine(e){this.isDrag=!0,this.dragFlag=e},dottedLineMove(e){switch(this.setSpacing(),this.dragFlag){case"x":case"h":this.isDrag&&(this.verticalDottedTop=e.pageY-this.topSpacing);break;case"y":case"v":this.isDrag&&(this.horizontalDottedLeft=e.pageX-this.leftSpacing)}},dottedLineUp(e){if(this.setSpacing(),this.isDrag){this.isDrag=!1;const t=JSON.parse(JSON.stringify(this.value));switch(this.dragFlag){case"x":t.push({type:"h",site:(e.pageY-this.topSpacing-this.size)*(this.stepLength/50)}),this.$emit("input",t);break;case"y":t.push({type:"v",site:(e.pageX-this.leftSpacing-this.size)*(this.stepLength/50)}),this.$emit("input",t);break;case"h":this.dragCalc(t,e.pageY,this.topSpacing,this.rulerHeight,"h"),this.$emit("input",t);break;case"v":this.dragCalc(t,e.pageX,this.leftSpacing,this.rulerWidth,"v"),this.$emit("input",t)}this.verticalDottedTop=this.horizontalDottedLeft=-10}},dragCalc(e,t,r,s,i){if(t-r<s){let t;this.lineList.forEach(((e,r)=>{e.id===this.dragLineId&&(t=r,e.id)})),e.splice(t,1,{type:i,site:-600})}else{let s;this.lineList.forEach(((e,t)=>{e.id===this.dragLineId&&(s=t,e.id)})),e.splice(s,1,{type:i,site:(t-r-this.size)*(this.stepLength/50)})}},horizontalDragRuler(){this.newLine("x")},verticalDragRuler(){this.newLine("y")},dragHorizontalLine(e){this.isDrag=!0,this.dragFlag="h",this.dragLineId=e},dragVerticalLine(e){this.isDrag=!0,this.dragFlag="v",this.dragLineId=e},keyboard(e){if(this.isHotKey&&e.keyCode===this.keyCode.r)this.rulerToggle=!this.rulerToggle,this.$emit("update:visible",this.rulerToggle),this.rulerToggle?this.left_top=18:this.left_top=0}}},_hoisted_1$1=["title","onMousedown"],_hoisted_2$1={class:"vue-ruler-content-mask"};function _sfc_render$1(e,t,r,s,i,n){const o=resolveComponent("session");return openBlock(),createElementBlock("div",{style:normalizeStyle(n.wrapperStyle),class:"vue-ruler-wrapper",ref:"vueRulerWrapper",onselectstart:"return false;"},[withDirectives(createVNode(o,null,{default:withCtx((()=>[createBaseVNode("div",{ref:"horizontalRuler",class:"vue-ruler-h",onMousedown:t[0]||(t[0]=withModifiers(((...e)=>n.horizontalDragRuler&&n.horizontalDragRuler(...e)),["stop"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.xScale,((e,t)=>(openBlock(),createElementBlock("span",{key:t,style:normalizeStyle({left:50*t+2+"px"}),class:"n"},toDisplayString(e.id),5)))),128))],544),createBaseVNode("div",{ref:"verticalRuler",class:"vue-ruler-v",onMousedown:t[1]||(t[1]=withModifiers(((...e)=>n.verticalDragRuler&&n.verticalDragRuler(...e)),["stop"]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.yScale,((e,t)=>(openBlock(),createElementBlock("span",{key:t,style:normalizeStyle({top:50*t+2+"px"}),class:"n"},toDisplayString(e.id),5)))),128))],544),createBaseVNode("div",{style:normalizeStyle({top:i.verticalDottedTop+"px"}),class:"vue-ruler-ref-dot-h"},null,4),createBaseVNode("div",{style:normalizeStyle({left:i.horizontalDottedLeft+"px"}),class:"vue-ruler-ref-dot-v"},null,4),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.lineList,(e=>(openBlock(),createElementBlock("div",{title:e.title,style:normalizeStyle(n.getLineStyle(e)),key:e.id,class:normalizeClass(`vue-ruler-ref-line-${e.type}`),onMousedown:t=>n.handleDragLine(e)},null,46,_hoisted_1$1)))),128))])),_:1},512),[[vShow,i.rulerToggle]]),createBaseVNode("div",{ref:"content",class:"vue-ruler-content",style:normalizeStyle(n.contentStyle)},[renderSlot(e.$slots,"default")],4),withDirectives(createBaseVNode("div",_hoisted_2$1,null,512),[[vShow,i.isDrag]])],4)}const vueRuleTool=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]);var keymaster$1={exports:{}};!function(e){!function(t){var r,s={},i={16:!1,18:!1,17:!1,91:!1},n="all",o={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},a={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},c=function(e){return a[e]||e.toUpperCase().charCodeAt(0)},l=[];for(r=1;r<20;r++)a["f"+r]=111+r;function h(e,t){for(var r=e.length;r--;)if(e[r]===t)return r;return-1}function p(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function d(e){for(r in i)i[r]=e[u[r]]}function f(e,t,r){var i,n;i=y(e),void 0===r&&(r=t,t="all");for(var o=0;o<i.length;o++)n=[],(e=i[o].split("+")).length>1&&(n=g(e),e=[e[e.length-1]]),e=e[0],(e=c(e))in s||(s[e]=[]),s[e].push({shortcut:i[o],scope:t,method:r,key:i[o],mods:n})}for(r in o)f[r]=!1;function m(){return n||"all"}function y(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function g(e){for(var t=e.slice(0,e.length-1),r=0;r<t.length;r++)t[r]=o[t[r]];return t}function x(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){r(window.event)}))}x(document,"keydown",(function(e){!function(e){var t,r,n,a,c,p;if(t=e.keyCode,-1==h(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in i)for(n in i[t]=!0,o)o[n]==t&&(f[n]=!0);else if(d(e),f.filter.call(this,e)&&t in s)for(p=m(),a=0;a<s[t].length;a++)if((r=s[t][a]).scope==p||"all"==r.scope){for(n in c=r.mods.length>0,i)(!i[n]&&h(r.mods,+n)>-1||i[n]&&-1==h(r.mods,+n))&&(c=!1);(0!=r.mods.length||i[16]||i[18]||i[17]||i[91])&&!c||!1===r.method(e,r)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),x(document,"keyup",(function(e){var t,r=e.keyCode,s=h(l,r);if(s>=0&&l.splice(s,1),93!=r&&224!=r||(r=91),r in i)for(t in i[r]=!1,o)o[t]==r&&(f[t]=!1)})),x(window,"focus",(function(){for(r in i)i[r]=!1;for(r in o)f[r]=!1}));var E=t.key;t.key=f,t.key.setScope=function(e){n=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,r,i;for(t in s)for(r=s[t],i=0;i<r.length;)r[i].scope===e?r.splice(i,1):i++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=c(e)),-1!=h(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=E,e},t.key.unbind=function(e,t){var r,i,n,o,a,l=[];for(r=y(e),o=0;o<r.length;o++){if((i=r[o].split("+")).length>1&&(l=g(i),e=i[i.length-1]),e=c(e),void 0===t&&(t=m()),!s[e])return;for(n=0;n<s[e].length;n++)(a=s[e][n]).scope===t&&p(a.mods,l)&&(s[e][n]={})}},e.exports=f}(commonjsGlobal)}(keymaster$1);var keymasterExports=keymaster$1.exports;let _sfc_main,_hoisted_1,_hoisted_2,_hoisted_3,_hoisted_4,_hoisted_5;keymaster=getDefaultExportFromCjs(keymasterExports);_sfc_main={name:"vcc",props:{initCodeEntity:{type:Object,default:()=>({})}},emits:["updateCodeEntity","onLoadFinish"],components:{rawComponents:defineAsyncComponent((()=>__vitePreload((()=>import("./rawComponents-DSnq2Upj.js")),__vite__mapDeps([0,1,2,3,4,5])))),toolsBar:defineAsyncComponent((()=>__vitePreload((()=>import("./toolsBar-C2ayoCTY.js")),__vite__mapDeps([6,1,2,7])))),attributeInput:defineAsyncComponent((()=>__vitePreload((()=>import("./attributeInput-C5Dk5RDm.js")),__vite__mapDeps([8,3,1,2,4,9])))),"lc-code":defineAsyncComponent((()=>__vitePreload((()=>import("./code-ClzgA7J7.js")),__vite__mapDeps([10,1,2,3,11])))),vueRuleTool:vueRuleTool,vueCodeEditor:vueCodeEditor},data:()=>({eventNode:{},customData:[],currentEditRawInfo:null,code:"",codeDialogVisible:!1,jsDialogVisible:!1,vueDialogVisible:!1,editMode:!0,codeRawVueInfo:null,JSCode:"",customCss:"",isShowAttribute:!1}),watch:{currentEditRawInfo(e){this.isShowAttribute=!!e},initCodeEntity(e){e.JSCode&&this.mainPanelProvider.saveJSCodeOnly(this.convertLogicCode(e.JSCode)),e.codeStructure&&this.mainPanelProvider.render(e.codeStructure),e.css&&this.mainPanelProvider.saveCssCodeOnly(this.convertCssLogicCode(e.css))}},computed:{},beforeCreate(){},provide(){return{vccApp:this}},created(){this.mainPanelProvider=new MainPanelProvider({dropIninFunction:this.dropIninFunction})},beforeMount(){},mounted(){this.onPreviewModeChange(1!=this.initCodeEntity.mode),Promise.all([__vitePreload((()=>import("./load-CwMevZNP.js")),[])]).then((e=>{this.$emit("onLoadFinish"),this.eventNode=this.initCodeEntity.eventNode,this.init()})),this.initShortcut()},beforeUpdate(){},updated(){},destroyed(){},methods:{dropIninFunction(e,t){t.initDropCode(e),t.updateCodeStructure(e)},convertLogicCode(e){try{let t=e;this.JSCode=e;const r=()=>{this.$refs.vueEditor?this.$refs.vueEditor.updateJsCode(e):setTimeout((()=>{r()}),20)};return r(),t}catch(t){}},setCurrentEditRawInfo(e){this.currentEditRawInfo=e,this.isShowAttribute=!0},convertCssLogicCode(e){return this.$refs.vueEditor.updateCssCode(e),this.customCss=e,e},convertDataLogic(e,t=!1){let r={};return this.customData=e||[],e.forEach((e=>{["string","array","object"].includes(e.key)||"string"===e.key?r[e.key]=e.value:"number"===e.key?r[e.key]=Number(e.value):"boolean"===e.key?r[e.key]="true"===e.value||!0===e.value:r[e.key]=e.value})),t&&(this.mainPanelProvider.saveJsData(r),this.renderCode()),r},initShortcut(){keymaster("+z, ctrl+z",(()=>(this.undo(),!1))),keymaster("esc",(()=>(this.editMode=!0,this.mainPanelProvider.setEditMode(!0),!1)))},init(){this.mainPanelProvider.onRootElementMounted((e=>{document.getElementsByTagName("body")[0].addEventListener("click",(e=>{this.mainPanelProvider.clearElementSelect()})),initContainerForLine(e.firstChild,this.currentPointer),document.querySelector(".x").style="display:none;"})).onMerged((()=>{this.currentPointer(null)})).onCodeCreated((e=>{this.code=e})).onCodeStructureUpdated((e=>{this.$refs.rawComponents&&this.$refs.rawComponents.updateCode(e),this.$refs.vueRuleTool&&this.$refs.vueRuleTool.regenerateScale(),this.codeRawVueInfo=e,this.notifyParent()})).onNodeDeleted((()=>{this.currentEditRawInfo=null})).onSelectElement((e=>{this.currentEditRawInfo=e})).saveCssCodeOnly(this.convertCssLogicCode(this.initCodeEntity.css?this.initCodeEntity.css:"")).saveJSCodeOnly(this.convertLogicCode(this.initCodeEntity.JSCode?this.initCodeEntity.JSCode:"")).saveEventNode(this.initCodeEntity.eventNode).saveJsData(this.convertDataLogic(this.initCodeEntity.customData||[])).render(this.initCodeEntity.codeStructure?this.initCodeEntity.codeStructure:this.getFakeData()),this.eventNode=this.initCodeEntity.eventNode||{}},notifyParent(){this.$emit("updateCodeEntity",{codeRawVueInfo:this.codeRawVueInfo,JSCode:this.JSCode,css:this.customCss,eventNode:this.eventNode,customData:this.customData})},currentPointer(e,t){this.mainPanelProvider.setDropInfo({target:e,index:t})},getFakeData:()=>({template:{lc_id:"root",lc_uuid:"root",__children:[{div:{class:"container",lc_id:"container",lc_uuid:"container",style:"min-height: 100%;"}}]}}),onPreviewModeChange(e){const t=document.querySelector("#render-control-panel");t.style=e?"width:375px;":"width:100%;"},onEditModeChange(e){this.editMode=e,this.$nextTick((()=>{this.mainPanelProvider.setEditMode(e,document.querySelector("#mountedEle"))}))},renderCode(){this.mainPanelProvider.reRender()},clear(){this.mainPanelProvider.render(this.getFakeData())},onSaveAttr({resultList:e,lc_id:t,vueRawTag:r}){this.mainPanelProvider.saveAttribute(e,t,r)},onRemove({lc_id:e}){this.mainPanelProvider.remove(e)},redo(){this.mainPanelProvider.redo()},undo(){this.mainPanelProvider.undo()},saveJSCode({JSCodeInfo:e,JSCode:t}){this.mainPanelProvider.saveJSCode(e),this.JSCode=t,this.notifyParent()},saveCssCode(e){this.mainPanelProvider.saveCssCode(e),this.customCss=e,this.notifyParent()},saveEventLogicCode(e){e&&(this.eventNode=e,this.mainPanelProvider.saveEventNode(e),this.mainPanelProvider.reRender(),this.notifyParent())},codeParseSucess(e,t,r){t&&(this.mainPanelProvider.saveJSCode(t,!1),this.JSCode=t),r&&(this.mainPanelProvider.saveCssCode(r,!1),this.customCss=r),e&&this.mainPanelProvider.render(e),this.notifyParent()},render(e){this.mainPanelProvider.render(e)},showVueDialogVisible(){this.$refs.vueEditor.updateCode(this.code),this.vueDialogVisible=!0},showCodeDialogVisible(){this.codeDialogVisible=!0},save(){this.$emit("save",{code:this.code,codeRawVueInfo:this.codeRawVueInfo,JSCode:this.JSCode,css:this.customCss,eventNode:this.eventNode,customData:this.customData})}},fillter:{}};_hoisted_1={class:"vcc-box"};_hoisted_2={class:"main-main"};_hoisted_3={class:"base-component-container"};_hoisted_4={class:"vcc-main-container"};_hoisted_5={key:0,id:"fullScreen"};function _sfc_render(e,t,r,s,i,n){const o=resolveComponent("raw-components"),a=resolveComponent("tools-bar"),c=resolveComponent("vueRuleTool"),l=resolveComponent("attribute-input"),h=resolveComponent("lc-code"),p=resolveComponent("vueCodeEditor");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("nav",_hoisted_3,[createVNode(o,{ref:"rawComponents",customData:i.customData,onReRender:n.render,onSetCurrentEditRawInfo:n.setCurrentEditRawInfo,onSaveData:t[0]||(t[0]=e=>{n.convertDataLogic(e,!0)}),initStructure:i.codeRawVueInfo},null,8,["customData","onReRender","onSetCurrentEditRawInfo","initStructure"])]),createBaseVNode("div",_hoisted_4,[createVNode(a,{onOnPreviewModeChange:n.onPreviewModeChange,onOnEditModeChange:n.onEditModeChange,onRedo:n.redo,onUndo:n.undo,onClear:n.clear,onShowVueDialogVisible:n.showVueDialogVisible,onShowCodeDialogVisible:n.showCodeDialogVisible,onSave:n.save},{default:withCtx((()=>[renderSlot(e.$slots,"toole",{},void 0,!0)])),_:3},8,["onOnPreviewModeChange","onOnEditModeChange","onRedo","onUndo","onClear","onShowVueDialogVisible","onShowCodeDialogVisible","onSave"]),createVNode(c,{"is-scale-revise":!0,parent:!0,width:"100%",height:"100%",isScaleRevise:!0,ref:"vueRuleTool"},{default:withCtx((()=>t[3]||(t[3]=[createBaseVNode("div",{class:"preview-container"},[createBaseVNode("div",{id:"render-control-panel"})],-1)]))),_:1},512)]),createVNode(l,{isShowAttribute:i.isShowAttribute,eventNode:i.eventNode,customData:i.customData,enableRemoveButton:!0,class:"attribute",onSave:n.onSaveAttr,onRemove:n.onRemove,onSaveEventLogicCode:n.saveEventLogicCode,ref:"attributeInput",shortcutInitMode:"hand",__rawVueInfo__:i.currentEditRawInfo},null,8,["isShowAttribute","eventNode","customData","onSave","onRemove","onSaveEventLogicCode","__rawVueInfo__"])]),createBaseVNode("div",null,[createVNode(h,{rawCode:i.code,codeDialogVisible:i.codeDialogVisible,"onUpdate:codeDialogVisible":t[1]||(t[1]=e=>i.codeDialogVisible=e)},null,8,["rawCode","codeDialogVisible"]),createVNode(p,{ref:"vueEditor",onCodeParseSucess:n.codeParseSucess,vueDialogVisible:i.vueDialogVisible,"onUpdate:vueDialogVisible":t[2]||(t[2]=e=>i.vueDialogVisible=e)},null,8,["onCodeParseSucess","vueDialogVisible"])]),t[5]||(t[5]=createBaseVNode("div",{class:"cross-flag"},[createBaseVNode("div",{class:"x"})],-1)),i.editMode?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5,t[4]||(t[4]=[createBaseVNode("div",{style:{margin:"20px","font-weight":"bold"}},"ESC",-1),createBaseVNode("div",{id:"mountedEle"},null,-1)])))])}let vcc;vcc=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-3f3b8988"]]);vcc$1=Object.freeze(Object.defineProperty({__proto__:null,default:vcc},Symbol.toStringTag,{value:"Module"}))});export{_,deepLCEle,keymaster,require$$1,vcc$1 as vcc,__tla};