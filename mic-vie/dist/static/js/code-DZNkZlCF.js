import{_ as l,r,o as s,f as p,b as C,y as h,c as u,w as f,G as g,ap as b}from"./index-C8S4CAAc.js";import{G as v}from"./xml-fold-BhCr2QWs.js";import{p as y}from"./parser-html-_c-RyPlv.js";const S={class:"codemirror"},V=l({components:{codeEditor:l({props:["initCode","mode"],name:"code-editor",title:"Mode: text/x-vue & Theme: monokai",components:{Codemirror:v},computed:{code:{get(){return this.codeStore},set(e){this.codeStore=e}}},watch:{initCode(){this.codeStore=this.initCode}},data(){return{codeStore:this.initCode,cmOption:{tabSize:4,foldGutter:!0,styleActiveLine:!0,lineNumbers:!0,line:!0,keyMap:"sublime",mode:this.mode,theme:"monokai",extraKeys:{F11(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}}}},methods:{onCmCursorActivity(e){},onCmReady(e){},onCmFocus(e){},onCmBlur(e){},onChange(){return this.$emit("update:value",this.codeStore),this.codeStore},getEditorCode(){return this.codeStore}}},[["render",function(e,o,a,t,c,i){const n=r("codemirror");return s(),p("div",S,[C(n,{value:i.code,"onUpdate:value":o[0]||(o[0]=d=>i.code=d),options:c.cmOption,onChange:i.onChange,onCursorActivity:i.onCmCursorActivity,onReady:i.onCmReady,onFocus:i.onCmFocus,onBlur:i.onCmBlur},null,8,["value","options","onChange","onCursorActivity","onReady","onFocus","onBlur"])])}],["__scopeId","data-v-ff10cac2"]])},props:["rawCode","codeDialogVisible"],emits:["update:codeDialogVisible"],setup(e,{emit:o}){return{dialogVisible:h({get:()=>e.codeDialogVisible,set(){o("update:codeDialogVisible",!1)}}),handleClose:()=>{o("update:codeDialogVisible",!1)},outputCode:()=>(()=>{try{return b.format(e.rawCode,{parser:"html",plugins:[y],vueIndentScriptAndStyle:!0})}catch(t){return e.rawCode}})()}}},[["render",function(e,o,a,t,c,i){const n=r("codeEditor"),d=r("a-modal");return s(),u(d,{title:"\u4EE3\u7801\u9884\u89C8",open:t.dialogVisible,"onUpdate:open":o[0]||(o[0]=m=>t.dialogVisible=m),width:"70%",top:"10vh","before-close":t.handleClose,center:!0,onOk:t.handleClose},{default:f(()=>[t.dialogVisible?(s(),u(n,{key:0,style:{"max-height":"55vh"},ref:"codeEditor",initCode:t.outputCode(),mode:"text/html"},null,8,["initCode"])):g("",!0)]),_:1},8,["open","before-close","onOk"])}],["__scopeId","data-v-88f1fb1c"]]);export{V as default};
