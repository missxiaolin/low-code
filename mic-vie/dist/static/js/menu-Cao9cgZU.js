var k=(o,m,u)=>new Promise((d,v)=>{var _=l=>{try{h(u.next(l))}catch(p){v(p)}},j=l=>{try{h(u.throw(l))}catch(p){v(p)}},h=l=>l.done?d(l.value):Promise.resolve(l.value).then(_,j);h((u=u.apply(o,m)).next())});import{_ as E,i as w,u as g,d as L,j as B,__tla as N}from"./index-Cbtojdfa.js";import{c as S,__tla as V}from"./menu-C6OULggW.js";let I,x=Promise.all([(()=>{try{return N}catch(o){}})(),(()=>{try{return V}catch(o){}})()]).then(()=>k(void 0,null,function*(){const o=[{key:"dashboard",path:"/",label:"\u9996\u9875"},{key:"project",label:"\u9879\u76EE",children:[{key:"projectList",path:"/project/list",label:"\u9879\u76EE\u5217\u8868"},{key:"menuList",path:"/project/menu",label:"\u83DC\u5355\u5217\u8868"}]}],m=y=>y.map(t=>{let i={key:t.id,label:t.name,path:t.path};return t.type===1&&t.children&&t.children.length>0&&(i.children=m(t.children)),i}),{onMounted:u,ref:d,watch:v}=yield w("vue"),_={setup(){const y=g(),t=L(),i=B();let n=i.path,r=d([]),s=d([]),c=d([]),P=y.currentProjectId;c.value=c.value.concat(o);const f=()=>{c.value.forEach(e=>{if(e.path===n)return r.value=[e.key],void(s.value=[e.key]);e.children&&e.children.forEach(a=>{a.path===n&&(r.value=[e.key],s.value=[a.key])})})};v(()=>i.path,e=>{r.value=[],s.value=[],n=e,f()},{immediate:!0}),y.$subscribe((e,a)=>{a.currentProjectId!=P&&a.currentProjectId&&(P=a.currentProjectId,c.value=[].concat(o),b())});const b=()=>k(this,null,function*(){let e=yield S({projectId:P});if(!e.success)return;let a=m(e.model);c.value=c.value.concat(a)});return u(()=>k(this,null,function*(){yield b(),f()})),{openKeys:r,selectedKeys:s,handleClick:e=>{e.keyPath.length===1&&(r.value=[],s.value=[e.keyPath[0]]),e.keyPath.length===2&&(r.value=[e.keyPath[0]],s.value=[e.keyPath[1]]);const a=e.item;a.path&&t.push(a.path)},items:c}}},{createElementVNode:j,resolveComponent:h,createVNode:l,openBlock:p,createElementBlock:K}=yield w("vue"),C={class:"menu-d"};I=E(_,[["render",function(y,t,i,n,r,s){const c=h("a-menu");return p(),K("div",C,[t[0]||(t[0]=j("div",{class:"menu-title"},"Low Code",-1)),l(c,{mode:"inline",onSelect:n.handleClick,items:n.items,"open-keys":n.openKeys,selectedKeys:n.selectedKeys,"inline-collapsed":!1},null,8,["onSelect","items","open-keys","selectedKeys"])])}],["__scopeId","data-v-2e4a7ce0"]])}));export{x as __tla,I as default};
