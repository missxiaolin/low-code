import{_export_sfc as e,useGeneralStore as t,useRouter as a,useRoute as l,ref as n,watch as c,onMounted as s,resolveComponent as o,openBlock as r,createElementBlock as u,createBaseVNode as i,createVNode as d}from"./index-CR_1l9OE.js";const h=[{key:"dashboard",path:"/",label:"介绍"},{key:"project",label:"项目",children:[{key:"projectList",path:"/project/list",label:"项目列表"},{key:"menuList",path:"/project/menu",label:"菜单列表"}]}],p={class:"menu-d"};const y=e({setup(){const e=t(),o=a(),r=l();let u=r.path,i=n([]),d=n([]),p=n([]),y=e.currentProjectId;p.value=p.value.concat(h);const v=()=>{p.value.forEach((e=>{if(e.path===u)return i.value=[e.key],void(d.value=[e.key]);e.children&&e.children.forEach((t=>{t.path===u&&(i.value=[e.key],d.value=[t.key])}))}))};c((()=>r.path),(e=>{i.value=[],d.value=[],u=e,v()}),{immediate:!0}),e.$subscribe(((e,t)=>{t.currentProjectId!=y&&t.currentProjectId&&(y=t.currentProjectId,p.value=[].concat(h),k())}));const k=async()=>{};return s((async()=>{await k(),v()})),{openKeys:i,selectedKeys:d,handleClick:e=>{1===e.keyPath.length&&(i.value=[],d.value=[e.keyPath[0]]),2===e.keyPath.length&&(i.value=[e.keyPath[0]],d.value=[e.keyPath[1]]);const t=e.item;t.path&&o.push(t.path)},items:p}}},[["render",function(e,t,a,l,n,c){const s=o("a-menu");return r(),u("div",p,[t[0]||(t[0]=i("div",{class:"menu-title"},"Low Code",-1)),d(s,{mode:"inline",onSelect:l.handleClick,items:l.items,"open-keys":l.openKeys,selectedKeys:l.selectedKeys,"inline-collapsed":!1},null,8,["onSelect","items","open-keys","selectedKeys"])])}],["__scopeId","data-v-5a7a0448"]]);export{y as default};
