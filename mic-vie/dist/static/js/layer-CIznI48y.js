var rn=Object.defineProperty;var xt=Object.getOwnPropertySymbols;var an=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable;var Tt=(e,t,n)=>t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t)=>{for(var n in t||(t={}))an.call(t,n)&&Tt(e,n,t[n]);if(xt)for(var n of xt(t))ln.call(t,n)&&Tt(e,n,t[n]);return e};import{l as sn,S as Ot,r as tt,_ as cn,j as nt,E as dn,k as un,o as ot,c as hn,w as It,e as it,D as Mt,b as Nt,f as At,H as pn,I as fn,W as gn,F as mn,ay as vn}from"./index-BDQ1iAku.js";/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(o){bn(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function rt(e){return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(e)}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ee.apply(this,arguments)}function yn(e,t){if(e==null)return{};var n,o,i=function(a,l){if(a==null)return{};var s,d,u={},f=Object.keys(a);for(d=0;d<f.length;d++)s=f[d],l.indexOf(s)>=0||(u[s]=a[s]);return u}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function te(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var ne=te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Te=te(/Edge/i),kt=te(/firefox/i),Oe=te(/safari/i)&&!te(/chrome/i)&&!te(/android/i),Rt=te(/iP(ad|od|hone)/i),wn=te(/chrome/i)&&te(/android/i),Xt={capture:!1,passive:!1};function y(e,t,n){e.addEventListener(t,n,!ne&&Xt)}function v(e,t,n){e.removeEventListener(t,n,!ne&&Xt)}function Ye(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function _n(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function J(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ye(e,t):Ye(e,t))||o&&e===n)return e;if(e===n)break}while(e=_n(e))}return null}var Ie,Ft=/\s+/g;function L(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Ft," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Ft," ")}}function h(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];t in o||t.indexOf("webkit")!==-1||(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function ve(e,t){var n="";if(typeof e=="string")n=e;else do{var o=h(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Yt(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function Z(){var e=document.scrollingElement;return e||document.documentElement}function I(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var r,a,l,s,d,u,f;if(e!==window&&e.parentNode&&e!==Z()?(a=(r=e.getBoundingClientRect()).top,l=r.left,s=r.bottom,d=r.right,u=r.height,f=r.width):(a=0,l=0,s=window.innerHeight,d=window.innerWidth,u=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ne))do if(i&&i.getBoundingClientRect&&(h(i,"transform")!=="none"||n&&h(i,"position")!=="static")){var D=i.getBoundingClientRect();a-=D.top+parseInt(h(i,"border-top-width")),l-=D.left+parseInt(h(i,"border-left-width")),s=a+r.height,d=l+r.width;break}while(i=i.parentNode);if(o&&e!==window){var g=ve(i||e),T=g&&g.a,N=g&&g.d;g&&(s=(a/=N)+(u/=N),d=(l/=T)+(f/=T))}return{top:a,left:l,bottom:s,right:d,width:f,height:u}}}function Lt(e,t,n){for(var o=ae(e,!0),i=I(e)[t];o;){if(!(i>=I(o)[n]))return o;if(o===Z())break;o=ae(o,!1)}return!1}function be(e,t,n,o){for(var i=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==p.ghost&&(o||a[r]!==p.dragged)&&J(a[r],n.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function at(e,t){for(var n=e.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||t&&!Ye(n,t));)n=n.previousElementSibling;return n||null}function $(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()==="TEMPLATE"||e===p.clone||t&&!Ye(e,t)||n++;return n}function jt(e){var t=0,n=0,o=Z();if(e)do{var i=ve(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function ae(e,t){if(!e||!e.getBoundingClientRect)return Z();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=h(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Z();if(o||t)return n;o=!0}}while(n=n.parentNode);return Z()}function lt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Bt(e,t){return function(){if(!Ie){var n=arguments;n.length===1?e.call(this,n[0]):e.apply(this,n),Ie=setTimeout(function(){Ie=void 0},t)}}}function Ht(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function $t(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var j="Sortable"+new Date().getTime();function En(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(n){if(h(n,"display")!=="none"&&n!==p.ghost){t.push({target:n,rect:I(n)});var o=q({},t[t.length-1].rect);if(n.thisAnimationDuration){var i=ve(n,!0);i&&(o.top-=i.f,o.left-=i.e)}n.fromRect=o}})},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(function(o,i){for(var r in o)if(o.hasOwnProperty(r)){for(var a in i)if(i.hasOwnProperty(a)&&i[a]===o[r][a])return Number(r)}return-1}(t,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void(typeof n=="function"&&n());var i=!1,r=0;t.forEach(function(a){var l=0,s=a.target,d=s.fromRect,u=I(s),f=s.prevFromRect,D=s.prevToRect,g=a.rect,T=ve(s,!0);T&&(u.top-=T.f,u.left-=T.e),s.toRect=u,s.thisAnimationDuration&&lt(f,u)&&!lt(d,u)&&(g.top-u.top)/(g.left-u.left)==(d.top-u.top)/(d.left-u.left)&&(l=function(N,w,k,z){return Math.sqrt(Math.pow(w.top-N.top,2)+Math.pow(w.left-N.left,2))/Math.sqrt(Math.pow(w.top-k.top,2)+Math.pow(w.left-k.left,2))*z.animation}(g,f,D,o.options)),lt(u,d)||(s.prevFromRect=d,s.prevToRect=u,l||(l=o.options.animation),o.animate(s,g,u,l)),l&&(i=!0,r=Math.max(r,l),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},l),s.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,o,i,r){if(r){h(n,"transition",""),h(n,"transform","");var a=ve(this.el),l=a&&a.a,s=a&&a.d,d=(o.left-i.left)/(l||1),u=(o.top-i.top)/(s||1);n.animatingX=!!d,n.animatingY=!!u,h(n,"transform","translate3d("+d+"px,"+u+"px,0)"),this.forRepaintDummy=function(f){return f.offsetWidth}(n),h(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),h(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){h(n,"transition",""),h(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}var ye=[],st={initializeByDefault:!0},Me={mount:function(e){for(var t in st)st.hasOwnProperty(t)&&!(t in e)&&(e[t]=st[t]);ye.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ye.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";ye.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](q({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](q({sortable:t},n)))})},initializePlugins:function(e,t,n,o){for(var i in ye.forEach(function(a){var l=a.pluginName;if(e.options[l]||a.initializeByDefault){var s=new a(e,t,e.options);s.sortable=e,s.options=e.options,e[l]=s,ee(n,s.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);r!==void 0&&(e.options[i]=r)}},getEventProperties:function(e,t){var n={};return ye.forEach(function(o){typeof o.eventProperties=="function"&&ee(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return ye.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(o=i.optionListeners[t].call(e[i.pluginName],n))}),o}},Dn=["evt"],X=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,i=yn(n,Dn);Me.pluginEvent.bind(p)(e,t,q({dragEl:c,parentEl:C,ghostEl:m,rootEl:E,nextEl:ue,lastDownEl:Le,cloneEl:x,cloneHidden:le,dragStarted:Ae,putSortable:M,activeSortable:p.active,originalEvent:o,oldIndex:we,oldDraggableIndex:Ne,newIndex:B,newDraggableIndex:se,hideGhostForTarget:Jt,unhideGhostForTarget:Zt,cloneNowHidden:function(){le=!0},cloneNowShown:function(){le=!1},dispatchSortableEvent:function(r){P({sortable:t,name:r,originalEvent:o})}},i))};function P(e){(function(t){var n=t.sortable,o=t.rootEl,i=t.name,r=t.targetEl,a=t.cloneEl,l=t.toEl,s=t.fromEl,d=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,D=t.newDraggableIndex,g=t.originalEvent,T=t.putSortable,N=t.extraEventProperties;if(n=n||o&&o[j]){var w,k=n.options,z="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||ne||Te?(w=document.createEvent("Event")).initEvent(i,!0,!0):w=new CustomEvent(i,{bubbles:!0,cancelable:!0}),w.to=l||o,w.from=s||o,w.item=r||o,w.clone=a,w.oldIndex=d,w.newIndex=u,w.oldDraggableIndex=f,w.newDraggableIndex=D,w.originalEvent=g,w.pullMode=T?T.lastPutMode:void 0;var H=q(q({},N),Me.getEventProperties(i,n));for(var oe in H)w[oe]=H[oe];o&&o.dispatchEvent(w),k[z]&&k[z].call(n,w)}})(q({putSortable:M,cloneEl:x,targetEl:c,rootEl:E,oldIndex:we,oldDraggableIndex:Ne,newIndex:B,newDraggableIndex:se},e))}var c,C,m,E,ue,Le,x,le,we,B,Ne,se,je,M,he,U,ct,dt,Wt,Vt,Ae,_e,Pe,Be,A,Ee=!1,He=!1,$e=[],ke=!1,We=!1,ut=[],ht=!1,Ve=[],Ue=typeof document!="undefined",ze=Rt,Ut=Te||ne?"cssFloat":"float",Sn=Ue&&!wn&&!Rt&&"draggable"in document.createElement("div"),zt=function(){if(Ue){if(ne)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Gt=function(e,t){var n=h(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=be(e,0,t),r=be(e,1,t),a=i&&h(i),l=r&&h(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(i).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+I(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return!r||l.clear!=="both"&&l.clear!==u?"horizontal":"vertical"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||s>=o&&n[Ut]==="none"||r&&n[Ut]==="none"&&s+d>o)?"vertical":"horizontal"},qt=function(e){function t(i,r){return function(a,l,s,d){var u=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(i==null&&(r||u))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return t(i(a,l,s,d),r)(a,l,s,d);var f=(r?a:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var n={},o=e.group;o&&rt(o)=="object"||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},Jt=function(){!zt&&m&&h(m,"display","none")},Zt=function(){!zt&&m&&h(m,"display","")};Ue&&document.addEventListener("click",function(e){if(He)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),He=!1,!1},!0);var pe=function(e){if(c){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,r=e.clientY,$e.some(function(l){var s=l[j].options.emptyInsertThreshold;if(s&&!at(l)){var d=I(l),u=i>=d.left-s&&i<=d.right+s,f=r>=d.top-s&&r<=d.bottom+s;return u&&f?a=l:void 0}}),a);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[j]._onDragOver(n)}}var i,r,a},Cn=function(e){c&&c.parentNode[j]._isOutsideThisEl(e.target)};function p(e,t){if(!e||!e.nodeType||e.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ee({},t),e[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Gt(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,a){r.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!Oe,emptyInsertThreshold:5};for(var o in Me.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in qt(t),this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Sn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?y(e,"pointerdown",this._onTapStart):(y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),$e.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ee(this,En())}function Ge(e,t,n,o,i,r,a,l){var s,d,u=e[j],f=u.options.onMove;return!window.CustomEvent||ne||Te?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||I(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),f&&(d=f.call(u,s,a)),d}function pt(e){e.draggable=!1}function xn(){ht=!1}function Tn(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function qe(e){return setTimeout(e,0)}function ft(e){return clearTimeout(e)}p.prototype={constructor:p,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(_e=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=o.filter;if(function(u){Ve.length=0;for(var f=u.getElementsByTagName("input"),D=f.length;D--;){var g=f[D];g.checked&&Ve.push(g)}}(n),!c&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Oe||!l||l.tagName.toUpperCase()!=="SELECT")&&!((l=J(l,o.draggable,n,!1))&&l.animated||Le===l)){if(we=$(l),Ne=$(l,o.draggable),typeof d=="function"){if(d.call(this,e,l,this))return P({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),X("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(d&&(d=d.split(",").some(function(u){if(u=J(s,u.trim(),n,!1))return P({sortable:t,rootEl:u,name:"filter",targetEl:l,fromEl:n,toEl:n}),X("filter",t,{evt:e}),!0})))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!J(s,o.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;if(n&&!c&&n.parentNode===r){var s=I(n);if(E=r,C=(c=n).parentNode,ue=c.nextSibling,Le=n,je=a.group,p.dragged=c,he={target:c,clientX:(t||e).clientX,clientY:(t||e).clientY},Wt=he.clientX-s.left,Vt=he.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,c.style["will-change"]="all",o=function(){X("delayEnded",i,{evt:e}),p.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!kt&&i.nativeDraggable&&(c.draggable=!0),i._triggerDragStart(e,t),P({sortable:i,name:"choose",originalEvent:e}),L(c,a.chosenClass,!0))},a.ignore.split(",").forEach(function(d){Yt(c,d.trim(),pt)}),y(l,"dragover",pe),y(l,"mousemove",pe),y(l,"touchmove",pe),y(l,"mouseup",i._onDrop),y(l,"touchend",i._onDrop),y(l,"touchcancel",i._onDrop),kt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),X("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(Te||ne))o();else{if(p.eventCanceled)return void this._onDrop();y(l,"mouseup",i._disableDelayedDrag),y(l,"touchend",i._disableDelayedDrag),y(l,"touchcancel",i._disableDelayedDrag),y(l,"mousemove",i._delayedDragTouchMoveHandler),y(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&y(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&pt(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):y(document,t?"touchmove":"mousemove",this._onTouchMove):(y(c,"dragend",this),y(E,"dragstart",this._onDragStart));try{document.selection?qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ee=!1,E&&c){X("dragStarted",this,{evt:t}),this.nativeDraggable&&y(document,"dragover",Cn);var n=this.options;!e&&L(c,n.dragClass,!1),L(c,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(U){this._lastX=U.clientX,this._lastY=U.clientY,Jt();for(var e=document.elementFromPoint(U.clientX,U.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(U.clientX,U.clientY))!==t;)t=e;if(c.parentNode[j]._isOutsideThisEl(e),t)do{if(t[j]&&t[j]._onDragOver({clientX:U.clientX,clientY:U.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Zt()}},_onTouchMove:function(e){if(he){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=m&&ve(m,!0),a=m&&r&&r.a,l=m&&r&&r.d,s=ze&&A&&jt(A),d=(i.clientX-he.clientX+o.x)/(a||1)+(s?s[0]-ut[0]:0)/(a||1),u=(i.clientY-he.clientY+o.y)/(l||1)+(s?s[1]-ut[1]:0)/(l||1);if(!p.active&&!Ee){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){r?(r.e+=d-(ct||0),r.f+=u-(dt||0)):r={a:1,b:0,c:0,d:1,e:d,f:u};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");h(m,"webkitTransform",f),h(m,"mozTransform",f),h(m,"msTransform",f),h(m,"transform",f),ct=d,dt=u,U=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:E,t=I(c,!0,ze,!0,e),n=this.options;if(ze){for(A=e;h(A,"position")==="static"&&h(A,"transform")==="none"&&A!==document;)A=A.parentNode;A!==document.body&&A!==document.documentElement?(A===document&&(A=Z()),t.top+=A.scrollTop,t.left+=A.scrollLeft):A=Z(),ut=jt(A)}L(m=c.cloneNode(!0),n.ghostClass,!1),L(m,n.fallbackClass,!0),L(m,n.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",t.top),h(m,"left",t.left),h(m,"width",t.width),h(m,"height",t.height),h(m,"opacity","0.8"),h(m,"position",ze?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",Wt/parseInt(m.style.width)*100+"% "+Vt/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;X("dragStart",this,{evt:e}),p.eventCanceled?this._onDrop():(X("setupClone",this),p.eventCanceled||((x=$t(c)).draggable=!1,x.style["will-change"]="",this._hideClone(),L(x,this.options.chosenClass,!1),p.clone=x),n.cloneId=qe(function(){X("clone",n),p.eventCanceled||(n.options.removeCloneOnHide||E.insertBefore(x,c),n._hideClone(),P({sortable:n,name:"clone"}))}),!t&&L(c,i.dragClass,!0),t?(He=!0,n._loopId=setInterval(n._emulateDragOver,50)):(v(document,"mouseup",n._onDrop),v(document,"touchend",n._onDrop),v(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,c)),y(document,"drop",n),h(c,"transform","translateZ(0)")),Ee=!0,n._dragStartId=qe(n._dragStarted.bind(n,t,e)),y(document,"selectstart",n),Ae=!0,Oe&&h(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,i,r=this.el,a=e.target,l=this.options,s=l.group,d=p.active,u=je===s,f=l.sort,D=M||d,g=this,T=!1;if(!ht){if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=J(a,l.draggable,r,!0),G("dragOver"),p.eventCanceled)return T;if(c.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||g._ignoreWhileAnimating===a)return Y(!1);if(He=!1,d&&!l.disabled&&(u?f||(o=C!==E):M===this||(this.lastPutMode=je.checkPull(this,d,c,e))&&s.checkPut(this,d,c,e))){if(i=this._getDirection(e,a)==="vertical",t=I(c),G("dragOverValid"),p.eventCanceled)return T;if(o)return C=E,Q(),this._hideClone(),G("revert"),p.eventCanceled||(ue?E.insertBefore(c,ue):E.appendChild(c)),Y(!0);var N=at(r,l.draggable);if(!N||function(b,R,S){var _=I(at(S.el,S.options.draggable)),W=10;return R?b.clientX>_.right+W||b.clientX<=_.right&&b.clientY>_.bottom&&b.clientX>=_.left:b.clientX>_.right&&b.clientY>_.top||b.clientX<=_.right&&b.clientY>_.bottom+W}(e,i,this)&&!N.animated){if(N===c)return Y(!1);if(N&&r===e.target&&(a=N),a&&(n=I(a)),Ge(E,r,c,t,a,n,e,!!a)!==!1)return Q(),r.appendChild(c),C=r,de(),Y(!0)}else if(N&&function(b,R,S){var _=I(be(S.el,0,S.options,!0)),W=10;return R?b.clientX<_.left-W||b.clientY<_.top&&b.clientX<_.right:b.clientY<_.top-W||b.clientY<_.bottom&&b.clientX<_.left}(e,i,this)){var w=be(r,0,l,!0);if(w===c)return Y(!1);if(n=I(a=w),Ge(E,r,c,t,a,n,e,!1)!==!1)return Q(),r.insertBefore(c,w),C=r,de(),Y(!0)}else if(a.parentNode===r){n=I(a);var k,z,H,oe=c.parentNode!==r,fe=!function(b,R,S){var _=S?b.left:b.top,W=S?b.right:b.bottom,me=S?b.width:b.height,Ce=S?R.left:R.top,Ke=S?R.right:R.bottom,V=S?R.width:R.height;return _===Ce||W===Ke||_+me/2===Ce+V/2}(c.animated&&c.toRect||t,a.animated&&a.toRect||n,i),ge=i?"top":"left",K=Lt(a,"top","top")||Lt(c,"top","top"),De=K?K.scrollTop:void 0;if(_e!==a&&(z=n[ge],ke=!1,We=!fe&&l.invertSwap||oe),k=function(b,R,S,_,W,me,Ce,Ke){var V=_?b.clientY:b.clientX,re=_?S.height:S.width,xe=_?S.top:S.left,Fe=_?S.bottom:S.right,Qe=!1;if(!Ce){if(Ke&&Be<re*W){if(!ke&&(Pe===1?V>xe+re*me/2:V<Fe-re*me/2)&&(ke=!0),ke)Qe=!0;else if(Pe===1?V<xe+Be:V>Fe-Be)return-Pe}else if(V>xe+re*(1-W)/2&&V<Fe-re*(1-W)/2)return function(on){return $(c)<$(on)?1:-1}(R)}return(Qe=Qe||Ce)&&(V<xe+re*me/2||V>Fe-re*me/2)?V>xe+re/2?1:-1:0}(e,a,n,i,fe?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,We,_e===a),k!==0){var F=$(c);do F-=k,H=C.children[F];while(H&&(h(H,"display")==="none"||H===m))}if(k===0||H===a)return Y(!1);_e=a,Pe=k;var Se=a.nextElementSibling,ce=!1,ie=Ge(E,r,c,t,a,n,e,ce=k===1);if(ie!==!1)return ie!==1&&ie!==-1||(ce=ie===1),ht=!0,setTimeout(xn,30),Q(),ce&&!Se?r.appendChild(c):a.parentNode.insertBefore(c,ce?Se:a),K&&Ht(K,0,De-K.scrollTop),C=c.parentNode,z===void 0||We||(Be=Math.abs(z-I(a)[ge])),de(),Y(!0)}if(r.contains(c))return Y(!1)}return!1}function G(b,R){X(b,g,q({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:f,fromSortable:D,target:a,completed:Y,onMove:function(S,_){return Ge(E,r,c,t,S,I(S),e,_)},changed:de},R))}function Q(){G("dragOverAnimationCapture"),g.captureAnimationState(),g!==D&&D.captureAnimationState()}function Y(b){return G("dragOverCompleted",{insertion:b}),b&&(u?d._hideClone():d._showClone(g),g!==D&&(L(c,M?M.options.ghostClass:d.options.ghostClass,!1),L(c,l.ghostClass,!0)),M!==g&&g!==p.active?M=g:g===p.active&&M&&(M=null),D===g&&(g._ignoreWhileAnimating=a),g.animateAll(function(){G("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==D&&(D.animateAll(),D._ignoreWhileAnimating=null)),(a===c&&!c.animated||a===r&&!a.animated)&&(_e=null),l.dragoverBubble||e.rootEl||a===document||(c.parentNode[j]._isOutsideThisEl(e.target),!b&&pe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function de(){B=$(c),se=$(c,l.draggable),P({sortable:g,name:"change",toEl:r,newIndex:B,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",pe),v(document,"mousemove",pe),v(document,"touchmove",pe)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;B=$(c),se=$(c,n.draggable),X("drop",this,{evt:e}),C=c&&c.parentNode,B=$(c),se=$(c,n.draggable),p.eventCanceled||(Ee=!1,We=!1,ke=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ft(this.cloneId),ft(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oe&&h(document.body,"user-select",""),h(c,"transform",""),e&&(Ae&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(E===C||M&&M.lastPutMode!=="clone")&&x&&x.parentNode&&x.parentNode.removeChild(x),c&&(this.nativeDraggable&&v(c,"dragend",this),pt(c),c.style["will-change"]="",Ae&&!Ee&&L(c,M?M.options.ghostClass:this.options.ghostClass,!1),L(c,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:C,newIndex:null,newDraggableIndex:null,originalEvent:e}),E!==C?(B>=0&&(P({rootEl:C,name:"add",toEl:C,fromEl:E,originalEvent:e}),P({sortable:this,name:"remove",toEl:C,originalEvent:e}),P({rootEl:C,name:"sort",toEl:C,fromEl:E,originalEvent:e}),P({sortable:this,name:"sort",toEl:C,originalEvent:e})),M&&M.save()):B!==we&&B>=0&&(P({sortable:this,name:"update",toEl:C,originalEvent:e}),P({sortable:this,name:"sort",toEl:C,originalEvent:e})),p.active&&(B!=null&&B!==-1||(B=we,se=Ne),P({sortable:this,name:"end",toEl:C,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){X("nulling",this),E=c=C=m=ue=x=Le=le=he=U=Ae=B=se=we=Ne=_e=Pe=M=je=p.dragged=p.ghost=p.clone=p.active=null,Ve.forEach(function(e){e.checked=!0}),Ve.length=ct=dt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)J(e=n[o],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Tn(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(i,r){var a=o.children[r];J(a,this.options.draggable,o,!1)&&(n[i]=a)},this),t&&this.captureAnimationState(),e.forEach(function(i){n[i]&&(o.removeChild(n[i]),o.appendChild(n[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return J(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=Me.modifyOption(this,e,t);n[e]=o!==void 0?o:t,e==="group"&&qt(n)},destroy:function(){X("destroy",this);var e=this.el;e[j]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),$e.splice($e.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!le){if(X("hideClone",this),p.eventCanceled)return;h(x,"display","none"),this.options.removeCloneOnHide&&x.parentNode&&x.parentNode.removeChild(x),le=!0}},_showClone:function(e){if(e.lastPutMode==="clone"){if(le){if(X("showClone",this),p.eventCanceled)return;c.parentNode!=E||this.options.group.revertClone?ue?E.insertBefore(x,ue):E.appendChild(x):E.insertBefore(x,c),this.options.group.revertClone&&this.animate(c,x),h(x,"display",""),le=!1}}else this._hideClone()}},Ue&&y(document,"touchmove",function(e){(p.active||Ee)&&e.cancelable&&e.preventDefault()}),p.utils={on:y,off:v,css:h,find:Yt,is:function(e,t){return!!J(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Bt,closest:J,toggleClass:L,clone:$t,index:$,nextTick:qe,cancelNextTick:ft,detectDirection:Gt,getChild:be},p.get=function(e){return e[j]},p.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(p.utils=q(q({},p.utils),o.utils)),Me.mount(o)})},p.create=function(e,t){return new p(e,t)},p.version="1.14.0";var Re,gt,mt,vt,Je,Xe,O=[],bt=!1;function Ze(){O.forEach(function(e){clearInterval(e.pid)}),O=[]}function Kt(){clearInterval(Xe)}var yt=Bt(function(e,t,n,o){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,d=Z(),u=!1;gt!==n&&(gt=n,Ze(),Re=t.scroll,i=t.scrollFn,Re===!0&&(Re=ae(n,!0)));var f=0,D=Re;do{var g=D,T=I(g),N=T.top,w=T.bottom,k=T.left,z=T.right,H=T.width,oe=T.height,fe=void 0,ge=void 0,K=g.scrollWidth,De=g.scrollHeight,F=h(g),Se=g.scrollLeft,ce=g.scrollTop;g===d?(fe=H<K&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),ge=oe<De&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(fe=H<K&&(F.overflowX==="auto"||F.overflowX==="scroll"),ge=oe<De&&(F.overflowY==="auto"||F.overflowY==="scroll"));var ie=fe&&(Math.abs(z-r)<=l&&Se+H<K)-(Math.abs(k-r)<=l&&!!Se),G=ge&&(Math.abs(w-a)<=l&&ce+oe<De)-(Math.abs(N-a)<=l&&!!ce);if(!O[f])for(var Q=0;Q<=f;Q++)O[Q]||(O[Q]={});O[f].vx==ie&&O[f].vy==G&&O[f].el===g||(O[f].el=g,O[f].vx=ie,O[f].vy=G,clearInterval(O[f].pid),ie==0&&G==0||(u=!0,O[f].pid=setInterval(function(){o&&this.layer===0&&p.active._onTouchMove(Je);var Y=O[this.layer].vy?O[this.layer].vy*s:0,de=O[this.layer].vx?O[this.layer].vx*s:0;typeof i=="function"&&i.call(p.dragged.parentNode[j],de,Y,e,Je,O[this.layer].el)!=="continue"||Ht(O[this.layer].el,de,Y)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&D!==d&&(D=ae(D,!1)));bt=u}},30),Qt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||i;a();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(d.clientX,d.clientY);l(),s&&!s.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function wt(){}function _t(){}wt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=be(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Qt},ee(wt,{pluginName:"revertOnSpill"}),_t.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Qt},ee(_t,{pluginName:"removeOnSpill"}),p.mount(new function(){function e(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):n.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;this.options.dragOverBubble||n.rootEl||this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),Ze(),clearTimeout(Ie),Ie=void 0},nulling:function(){Je=gt=Re=bt=Xe=mt=vt=null,O.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(i,r);if(Je=t,n||this.options.forceAutoScrollFallback||Te||ne||Oe){yt(t,this.options,a,n);var l=ae(a,!0);!bt||Xe&&i===mt&&r===vt||(Xe&&Kt(),Xe=setInterval(function(){var s=ae(document.elementFromPoint(i,r),!0);s!==l&&(l=s,Ze()),yt(t,o.options,s,n)},10),mt=i,vt=r)}else{if(!this.options.bubbleScroll||ae(a,!0)===Z())return void Ze();yt(t,this.options,ae(a,!1),!1)}}},ee(e,{pluginName:"scroll",initializeByDefault:!0})}),p.mount(_t,wt);const On=typeof window!="undefined"?window.console:global.console,In=/-(\w)/g,en=function(e){const t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}(e=>e.replace(In,(t,n)=>n?n.toUpperCase():""));function Et(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function tn(e,t,n){const o=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function nn(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function Mn(e){return t=>{this.realList!==null&&this["onDrag"+e](t),nn.call(this,e,t)}}const Dt=["Start","Add","Remove","Update","End"],St=["Choose","Unchoose","Sort","Filter","Clone"],Nn=["Move",...Dt,...St].map(e=>"on"+e);let Ct=null;const An={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Pn=sn({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Dt.map(e=>e.toLowerCase()),...St.map(e=>e.toLowerCase())],props:An,data:()=>({transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}),render(){const e=this.$slots.default?this.$slots.default():null,t=(n=this.$attrs,(o=this.componentData)?et(et({},o.props),o.attrs):n);var n,o;return e?(this.transitionMode=function(i){if(!i||i.length!==1)return!1;const[{type:r}]=i;return!!r&&(a=r.name,["transition-group","TransitionGroup"].includes(a));var a}(e),Ot(this.getTag(),t,e)):Ot(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&On.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Dt.forEach(i=>{e["on"+i]=Mn.call(this,i)}),St.forEach(i=>{e["on"+i]=nn.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,r)=>(i[en(r)]=this.$attrs[r],i),{}),n=Object.assign({},t,e,{onMove:(i,r)=>this.onDragMove(i,r)});!("draggable"in n)&&(n.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new p(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?tt(this.component):this.tag},updateOptions(e){for(var t in e){const n=en(t);Nn.indexOf(n)===-1&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=function(e,t,n,o){if(!e)return[];const i=Object.values(e),r=t.length-o;return[...t].map((a,l)=>l>=r?i.length:i.indexOf(a))}(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=function(n,o){return Object.values(n).indexOf(o)}(this.getChildrenNodes()||[],e);return t===-1?null:{index:t,element:this.realList[t]}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){this.alterList(e=>e.splice(...arguments))},updatePosition(e,t){this.alterList(n=>n.splice(t,0,n.splice(e,1)[0]))},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;this.getChildrenNodes()[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.computeIndexes(),this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Ct=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;Et(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(tn(this.$el,e.item,e.oldIndex),e.pullMode==="clone")return void Et(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Et(e.item),tn(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,r=this.computeFutureIndex(o,e);return Object.assign(i,{futureIndex:r}),n(Object.assign({},e,{relatedContext:o,draggedContext:i}),t)},onDragEnd(){this.computeIndexes(),Ct=null},getTrargetedComponent:e=>e.__draggable_component__,getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const r=n.getUnderlyingVm(t);if(r)return Object.assign(r,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter(r=>r.style.display!=="none");if(n.length===0)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o);return n.indexOf(Ct)!==-1||!t.willInsertAfter?i:i+1}}}),kn={components:{draggable:Pn},props:{isFullWidth:{type:Boolean,default:!1}},setup(e){let t=nt(""),n=nt({}),o=nt([]);const i=dn("mainPanelProvider");return un(()=>{i.onCodeStructureUpdated(()=>{n.value=i.getRawDataStructure();const r=n.value.template.__children[0].div.__children?JSON.parse(JSON.stringify(n.value.template.__children[0].div.__children)):[];JSON.stringify(r)!=JSON.stringify(o.value)&&(o.value=r)}).onSelectElement(r=>{t.value=r?r["mic-shape"].lc_id:""})}),{clickActiveLcId:t,rawDataStructure:n,draggableChange:r=>{const a=n.value;a.template.__children[0].div.__children=JSON.parse(JSON.stringify(o.value)),i.render(a)},list:o,selectItem:r=>{i.selectElement(r.lc_id)}}}},Rn={class:"layer-manager-body"},Xn=["onClick"],Fn=cn(kn,[["render",function(e,t,n,o,i,r){const a=tt("BarsOutlined"),l=tt("draggable");return ot(),hn(vn,{name:"width-transition"},{default:It(()=>[it("div",{class:Mt(["layer-box",{"full-width":n.isFullWidth}])},[t[0]||(t[0]=it("div",{class:"layer-manager-head"},"\u56FE\u5C42",-1)),it("div",Rn,[Nt(l,{list:o.list,onChange:o.draggableChange,draggable:".draggable-item"},{default:It(()=>[(ot(!0),At(pn,null,fn(o.list,s=>(ot(),At("div",{class:Mt({"layer-item":!0,"draggable-item":!0,"draggable-item-active":o.clickActiveLcId==s["mic-shape"].lc_id}),key:s,onClick:d=>o.selectItem(s["mic-shape"])},[Nt(a),gn(" "+mn(s["mic-shape"].vccName),1)],10,Xn))),128))]),_:1},8,["list","onChange"])])],2)]),_:1})}],["__scopeId","data-v-3fbe7374"]]);export{Fn as default};
