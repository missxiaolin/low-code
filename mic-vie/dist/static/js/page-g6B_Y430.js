import{_export_sfc as e,useRouter as a,useRoute as t,ref as l,onMounted as n,resolveComponent as o,openBlock as r,createElementBlock as c,createBaseVNode as u,createVNode as i,withCtx as s,createTextVNode as d}from"./index-CR_1l9OE.js";import{pageRouteList as p}from"./page-DbwzypxG.js";const m=[{title:"路由名称",key:"route_name",align:"center"},{title:"路由路径",key:"path",align:"center"},{title:"创建时间",key:"create_time",align:"center"},{title:"修改时间",key:"update_time",align:"center"},{title:"状态",key:"status_desc",align:"center"},{key:"options",prop:"options",align:"center",title:"操作",width:"200px",fixed:"right",noEmptyValue:!0}],g={name:"page",setup(){a();const e=t();let o=l({projectId:Number(e.query.projectId)||0,route_name:"",path:"",pageSize:10,page:1}),r=l({data:[],columns:m,total:0});n((()=>{}));const c=async()=>{let e=o.value,a=await p(e);a.success&&(r.value.data=a.model.list,r.value.total=a.model.count)};return n((()=>{c()})),{goVcc:(a=0)=>{window.open("/form?projectId="+e.query.projectId+"&pageId="+a)},searchForm:o,resetForm:()=>{o.value={projectId:0,route_name:"",path:"",pageSize:10,page:1}},getPage:c,table:r,handleCurrentChange:e=>{o.value.page=e+1,getProjectList()}}}},h={class:"vue-page-main"},f={class:"mu-search-container pall10"},_={class:"mu-search-form-button"},v={class:"mu-handle-content flex flex-1 flex-column"},C={class:"mb20"};const k=e(g,[["render",function(e,a,t,l,n,p){const m=o("a-input"),g=o("mic-search-label"),k=o("a-col"),y=o("a-row"),b=o("a-button"),j=o("mic-search-table");return r(),c("div",h,[u("div",f,[i(y,null,{default:s((()=>[i(k,{span:8},{default:s((()=>[i(g,{labelName:"路由名称"},{default:s((()=>[i(m,{value:l.searchForm.route_name,"onUpdate:value":a[0]||(a[0]=e=>l.searchForm.route_name=e),placeholder:"请输入路由名称"},null,8,["value"])])),_:1})])),_:1}),i(k,{span:8},{default:s((()=>[i(g,{labelName:"路由路径"},{default:s((()=>[i(m,{value:l.searchForm.path,"onUpdate:value":a[1]||(a[1]=e=>l.searchForm.path=e),placeholder:"请输入路由路径"},null,8,["value"])])),_:1})])),_:1}),i(k,{span:8})])),_:1}),u("div",_,[i(b,{onClick:l.resetForm},{default:s((()=>a[3]||(a[3]=[d("重置")]))),_:1},8,["onClick"]),i(b,{type:"primary",onClick:l.getPage},{default:s((()=>a[4]||(a[4]=[d("查询")]))),_:1},8,["onClick"])])]),u("div",v,[u("div",C,[i(b,{type:"primary",onClick:a[2]||(a[2]=e=>l.goVcc(0))},{default:s((()=>a[5]||(a[5]=[d("创建路由")]))),_:1})]),i(j,{data:l.table.data,columns:l.table.columns,total:l.table.total,onHandleCurrentChange:l.handleCurrentChange},{options:s((e=>[i(b,{link:"",size:"small",onClick:a=>l.goVcc(e.row.id)},{default:s((()=>a[6]||(a[6]=[d(" 编辑 ")]))),_:2},1032,["onClick"])])),_:1},8,["data","columns","total","onHandleCurrentChange"])])])}],["__scopeId","data-v-5bef0cc1"]]);export{k as default};
