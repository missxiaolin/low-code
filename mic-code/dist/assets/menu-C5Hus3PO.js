import{request as f,_export_sfc as k,importShared as v,useGeneralStore as _,useRouter as j,useRoute as P,__tla as __tla_0}from"./index-fID4rcgZ.js";let x;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{const h=[];function I(a){return f({url:"/adm/project/menu/route/all",method:"post",data:a})}const m=a=>a.map(t=>{let n={key:t.id,label:t.name,path:t.path};return t.type===1&&t.children&&t.children.length>0&&(n.children=m(t.children)),n}),{onMounted:b,ref:d,watch:w}=await v("vue"),E={setup(){const a=_(),u=j(),t=P();let n=t.path,l=d([]),c=d([]),r=d([]),s=a.currentProjectId;r.value=r.value.concat(h);const i=()=>{r.value.forEach(e=>{if(e.path===n){l.value=[e.key],c.value=[e.key];return}e.children&&e.children.forEach(o=>{o.path===n&&(l.value=[e.key],c.value=[o.key])})})},y=e=>{e.keyPath.length===1&&(l.value=[],c.value=[e.keyPath[0]]),e.keyPath.length===2&&(l.value=[e.keyPath[0]],c.value=[e.keyPath[1]]);const o=e.item;o.path&&u.push(o.path)};w(()=>t.path,e=>{l.value=[],c.value=[],n=e,i()},{immediate:!0}),a.$subscribe((e,o)=>{o.currentProjectId==s||!o.currentProjectId||(s=o.currentProjectId,r.value=[].concat(h),p())});const p=async()=>{let e=await I({projectId:s});if(!e.success)return;let o=m(e.model);r.value=r.value.concat(o)};return b(async()=>{await p(),i()}),{openKeys:l,selectedKeys:c,handleClick:y,items:r}}},{createElementVNode:K,resolveComponent:g,createVNode:C,openBlock:R,createElementBlock:S}=await v("vue"),B={class:"menu-d"};function N(a,u,t,n,l,c){const r=g("a-menu");return R(),S("div",B,[u[0]||(u[0]=K("div",{class:"menu-title"},"Low Code",-1)),C(r,{mode:"inline",onSelect:n.handleClick,items:n.items,"open-keys":n.openKeys,selectedKeys:n.selectedKeys,"inline-collapsed":!1},null,8,["onSelect","items","open-keys","selectedKeys"])])}x=k(E,[["render",N],["__scopeId","data-v-393b32b5"]])});export{x as default,__tla};