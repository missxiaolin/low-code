import{request as k,_export_sfc as F,importShared as g,useGeneralStore as R,Form as b,useRouter as V,api as _,setToken as q,__tla as __tla_0}from"./index-BB13BJ8u.js";let I;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{const y=i=>k({url:"/adm/login",method:"post",data:i}),N="/assets/logo-BSgXqyPE.png",{reactive:f}=await g("vue"),B=R(),E={setup(i){const e=b.useForm,c=V(),o=f({username:"admin",password:"12345678"}),l=f({username:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"},{}]}),{validate:d,validateInfos:u}=e(o,l);return{formRef:o,rulesRef:l,validateInfos:u,validate:d,onFinish:()=>{y(o).then(s=>{if(!s.success){_.error(s.errorMessage);return}q(s.model.token||""),setTimeout(()=>{B.getValidProject()}),_.success("登录成功"),setTimeout(()=>{c.push("/")},3e3)})}}}},{createElementVNode:a,resolveComponent:n,createVNode:t,withCtx:r,createTextVNode:T,openBlock:C,createElementBlock:O}=await g("vue"),P={class:"login-container"},S={class:"login-card"},U={class:"content"};function z(i,e,c,o,l,d){const u=n("UserOutlined"),p=n("a-input"),s=n("a-form-item"),v=n("LockOutlined"),w=n("a-input-password"),h=n("a-button"),x=n("a-form");return C(),O("div",P,[a("div",S,[e[3]||(e[3]=a("div",{class:"title"},[a("img",{src:N})],-1)),a("div",U,[t(x,{id:"formLogin",name:"basic",class:"user-layout-login","label-col":{span:4},onFinish:o.onFinish,model:o.formRef},{default:r(()=>[t(s,{rules:[{required:!0,message:"Please input your username!"}],name:"username"},{default:r(()=>[t(p,{size:"large",type:"text",placeholder:"请输入用户名",value:o.formRef.username,"onUpdate:value":e[0]||(e[0]=m=>o.formRef.username=m)},{prefix:r(()=>[t(u)]),_:1},8,["value"])]),_:1}),t(s,{rules:[{required:!0,message:"Please input your password!"}],name:"password"},{default:r(()=>[t(w,{size:"large",placeholder:"请输入密码",value:o.formRef.password,"onUpdate:value":e[1]||(e[1]=m=>o.formRef.password=m),autocomplete:""},{prefix:r(()=>[t(v)]),_:1},8,["value"])]),_:1}),t(s,null,{default:r(()=>[t(h,{block:"","html-type":"submit",size:"large"},{default:r(()=>e[2]||(e[2]=[T("登 录")])),_:1})]),_:1})]),_:1},8,["onFinish","model"])])])])}I=F(E,[["render",z],["__scopeId","data-v-05adab9e"]])});export{I as default,__tla};